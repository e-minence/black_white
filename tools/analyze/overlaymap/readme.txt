============================================================================
 overlaymap.exe
 DSプロジェクトのxMAPファイルを解析してオーバーレイ状態を図視させる
============================================================================

●「overlaymap.exe」の説明
オーバーレイの配置状態を画像で確認できるツールのα版です。
超適当ツールなので、xMapは一回しか読み込めません。

読み込ませるxMapファイルは「main.nef.xMap」で構いません。
直接解析してオーバーレイ情報を出力します。
ただし、main.nef.xMapは12万行にもおよぶ巨大ファイルですので、
少し重いです。


●使用方法

  bash上で「sh overlaymap.sh」
　と実行することで、「overlay_graph.png」が生成されます。
　プログラムが上に伸びるものだとした時のプログラムのサイズ
　とオーバーレイの分布状態を表しています。
　同時にdotファイルも生成されます。（dotファイルについては下で説明）

●ボタンの説明

機能は
「ｏｐｅｎ」　→　xMapファイルを読み込んで解析してpngとして出力します。
　　　　　　　　　また出力結果を別ウインドウに表示します。
　　　　　　　　　Graphviz用のdotファイルも出力します。
「WindowOff」 →　結果表示ウインドウが邪魔になったら押すと消えます。


●「dot」ファイルについて
上の説明にある「Graphviz」と「dot」という名称についてですが、
doxgenのヘッダ参照の画像を生成しているツールです。

http://www.graphviz.org/

からダウンロードしてインストールするとコマンドラインから画像生成が
実行できるようになります。

dot -Tpng overlaymap.dot >overlaymap.png

というコマンドを実行するとフローチャートのような画像が生成されます。
これはこれで綺麗で便利。


●サンプル「rom.xMap」
rom.xMapはマスター時のマップファイルです。
サンプルとして実行できます。
軽くするためにカットしてあります。
実際のmain.nef.xMapの読み込み後はもっと重くなります。


●更新情報
　2010/02 名木橋君君からの依頼でオーバーレイの描画範囲を広くした。PNGの大きさも大きくなった。
　　　　　左端に、グリッドラインが示している0x10000ごとの数値を書き込んだ。
　2007/08 松田君からの要望でコマンドラインからのみの使用もできるようにした。
　　　　　コマンドラインから実行した場合は画像とgraphviz用ファイルを出力してすぐに終了します。
  2008/01 松田君からの要望で生成するビットマップの幅を右に広げた

2007/02/09
AkitoMori