//============================================================================
/**
 *  @file   btl_rec_sel.h
 *  @brief  通信対戦後の録画選択画面
 *  @author Koji Kawada
 *  @data   2010.01.27
 *  @note   
 *
 *  モジュール名：BTL_REC_SEL
 */
//============================================================================
#pragma once


// インクルード
#include <gflib.h>


// オーバーレイ
FS_EXTERN_OVERLAY(btl_rec_sel);


//=============================================================================
/**
*  定数定義
*/
//=============================================================================
// ネットタイミング番号
#define BTL_REC_SEL_NET_TIMING_SYNC_NO   (150) 


//=============================================================================
/**
 *  PROC
 */
//=============================================================================
extern const GFL_PROC_DATA    BTL_REC_SEL_ProcData;


//=============================================================================
/**
*  構造体宣言
*/
//=============================================================================
//-------------------------------------
/// PROC パラメータ
//=====================================
typedef struct _BTL_REC_SEL_PARAM
{
  GAMEDATA*         gamedata;           ///< [in,out]  GAMEDATA  // 性別判定、バトルレコーダーの有無判定、セーブデータ取得
  BOOL              b_rec;              ///< [in]      サーバーバージョンを比較した結果、録画セーブ可能のときTRUE
  BOOL              b_sync;             ///< [in]      同期を取る必要があるときTRUE
  int               battle_mode;        ///< [in]      BATTLE_MODE_xxx
  int               fight_count;        ///< [in]      連勝数
}
BTL_REC_SEL_PARAM;


//=============================================================================
/**
*  関数のプロトタイプ宣言
*/
//=============================================================================
//-------------------------------------
/// PROC パラメータ生成
//=====================================
extern BTL_REC_SEL_PARAM*  BTL_REC_SEL_AllocParam(
                            HEAPID           heap_id,
                            GAMEDATA*        gamedata,
                            BOOL             b_rec,
                            BOOL             b_sync,
                            int              battle_mode,
                            int              fight_count );

//-------------------------------------
/// PROC パラメータ解放
//=====================================
extern void             BTL_REC_SEL_FreeParam(
                            BTL_REC_SEL_PARAM*  param );

//-------------------------------------
/// PROC パラメータを設定する
//=====================================
extern void             BTL_REC_SEL_InitParam(
                            BTL_REC_SEL_PARAM*  param,
                            GAMEDATA*           gamedata,
                            BOOL                b_rec,
                            BOOL                b_sync,
                            int                 battle_mode,
                            int                 fight_count );
