//======================================================================
/**
 *
 * @file	field_easytp.c
 * @brief	フィールド簡易タッチパネル
 * @author	kagaya
 * @data	08.09.30
 */
//======================================================================
#include "field_easytp.h"

//======================================================================
//	define
//======================================================================

//======================================================================
//	typedef struct
//======================================================================

//======================================================================
//	proto
//======================================================================
static const GFL_UI_TP_HITTBL DATA_EasyTpHitTbl[FLDEASYTP_TCHDIR_MAX+1];

//======================================================================
//	フィールド　簡易タッチパネル
//======================================================================
//--------------------------------------------------------------
/**
 * フィールド簡易タッチパネル　押された方向を取得
 * @param	nothing
 * @retval	FLDEASYTP_TCHDIR	FLDEASYTP_TCHDIR
 */
//--------------------------------------------------------------
FLDEASYTP_TCHDIR FieldEasyTP_TouchDirGet( void )
{
	u32 x,y;
	
	if( GFL_UI_TP_GetPointCont(&x,&y) == FALSE ){
		return( FLDEASYTP_TCHDIR_NON );
	}
	
	{
		int i = GFL_UI_TP_HitCont( DATA_EasyTpHitTbl );
		
		if( i == GFL_UI_TP_HIT_NONE ){
			return( FLDEASYTP_TCHDIR_NON );
		}
		
		return( i );
	}
}

//--------------------------------------------------------------
//	判定
//--------------------------------------------------------------
static const GFL_UI_TP_HITTBL DATA_EasyTpHitTbl[FLDEASYTP_TCHDIR_MAX+1] =
{
	{0,63,85,170},		//UP
	{128,191,85,170},	//DOWN
	{64,127,0,84},		//LEFT
	{64,127,171,255},	//RIGHT
	{0,63,0,84},		//LEFTUP
	{128,191,0,84},		//LEFTDOWN
	{0,63,171,255},		//RIGHTUP
	{128,191,171,255},	//RIGHTDOWN
	{85,170,64,127},	//CENTER
	{GFL_UI_TP_HIT_END,0,0,0},
};
