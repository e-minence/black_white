////////////////////////////////////////////////////////////////////////////////////////////
/**
 * @brief ISSスイッチシステム
 * @file iss_switch_sys.h
 * @author obata
 * @date 2009.11.17
 */
////////////////////////////////////////////////////////////////////////////////////////////
#pragma once


//==========================================================================================
// ■関数一覧
//==========================================================================================
/*
ISS_SWITCH_SYS* ISS_SWITCH_SYS_Create( HEAPID heap_id );
void ISS_SWITCH_SYS_Delete( ISS_SWITCH_SYS* sys );
void ISS_SWITCH_SYS_Update( ISS_SWITCH_SYS* sys );
void ISS_SWITCH_SYS_On( ISS_SWITCH_SYS* sys );
void ISS_SWITCH_SYS_Off( ISS_SWITCH_SYS* sys );
void ISS_SWITCH_SYS_SwitchOn( ISS_SWITCH_SYS* sys, SWITCH_INDEX idx );
void ISS_SWITCH_SYS_SwitchOff( ISS_SWITCH_SYS* sys, SWITCH_INDEX idx );
*/


//==========================================================================================
// ■システムの不完全型宣言
//==========================================================================================
typedef struct _ISS_SWITCH_SYS ISS_SWITCH_SYS;


//==========================================================================================
// ■定数
//==========================================================================================
// スイッチ番号
typedef enum{
  SWITCH_00,  // スイッチ0 ==> システム起動時に押される
  SWITCH_01,  // スイッチ1
  SWITCH_02,  // スイッチ2
  SWITCH_03,  // スイッチ3
  SWITCH_04,  // スイッチ4
  SWITCH_05,  // スイッチ5
  SWITCH_06,  // スイッチ6
  SWITCH_07,  // スイッチ7
  SWITCH_08,  // スイッチ8
  SWITCH_NUM,
  SWITCH_MAX = SWITCH_NUM - 1
} SWITCH_INDEX;


//==========================================================================================
// ■作成・破棄
//==========================================================================================

//------------------------------------------------------------------------------------------
/**
 * @brief ISSスイッチシステムを作成する
 * 
 * @param heap_id 使用するヒープID
 *
 * @return 作成したシステム
 */
//------------------------------------------------------------------------------------------
extern ISS_SWITCH_SYS* ISS_SWITCH_SYS_Create( HEAPID heap_id );

//------------------------------------------------------------------------------------------
/**
 * @brief ISSスイッチシステムを破棄する
 *
 * @param sys 破棄するシステム
 */
//------------------------------------------------------------------------------------------
extern void ISS_SWITCH_SYS_Delete( ISS_SWITCH_SYS* sys );


//==========================================================================================
// ■動作
//==========================================================================================

//------------------------------------------------------------------------------------------
/**
 * @brief システム・メイン動作
 *
 * @param sys 動かすシステム
 */
//------------------------------------------------------------------------------------------
extern void ISS_SWITCH_SYS_Update( ISS_SWITCH_SYS* sys );


//==========================================================================================
// ■システム制御
//==========================================================================================

//------------------------------------------------------------------------------------------
/**
 * @brief システムを起動する
 *
 * @param sys 起動するシステム
 */
//------------------------------------------------------------------------------------------
extern void ISS_SWITCH_SYS_On( ISS_SWITCH_SYS* sys );

//------------------------------------------------------------------------------------------
/**
 * @brief システムを停止する
 *
 * @param sys 停止するシステム
 */
//------------------------------------------------------------------------------------------
extern void ISS_SWITCH_SYS_Off( ISS_SWITCH_SYS* sys );


//==========================================================================================
// ■スイッチ制御
//==========================================================================================

//------------------------------------------------------------------------------------------
/**
 * @brief スイッチを ON にする
 *
 * @param sys スイッチを押すシステム
 * @param idx 押すスイッチのインデックス
 */
//------------------------------------------------------------------------------------------
extern void ISS_SWITCH_SYS_SwitchOn( ISS_SWITCH_SYS* sys, SWITCH_INDEX idx );

//------------------------------------------------------------------------------------------
/**
 * @brief スイッチを OFF にする
 *
 * @param sys スイッチを押すシステム
 * @param idx 放すスイッチのインデックス
 */
//------------------------------------------------------------------------------------------
extern void ISS_SWITCH_SYS_SwitchOff( ISS_SWITCH_SYS* sys, SWITCH_INDEX idx );

//------------------------------------------------------------------------------------------
/**
 * @brief スイッチの ON/OFF を取得する
 *
 * @param sys 取得対象システム
 * @param idx 判定するスイッチ番号
 *
 * @return スイッチidxが押されている場合 TRUE, そうでなければ FALSE
 */
//------------------------------------------------------------------------------------------
extern BOOL ISS_SWITCH_SYS_IsSwitchOn( const ISS_SWITCH_SYS* sys, SWITCH_INDEX idx );
