/////////////////////////////////////////////////////////////////////////////////
/**
 *
 * @brief 3Dサウンドシステム
 * @file iss_3d_sys.h
 * @author obata
 * @date 2009.09.08
 * 
 */
/////////////////////////////////////////////////////////////////////////////////
#pragma once 
#include "iss_3ds_unit.h"


//===============================================================================
// 不完全型の宣言
//===============================================================================
typedef struct _ISS_3DS_SYS ISS_3DS_SYS;


//===============================================================================
// 作成・破棄・動作
//===============================================================================

//-------------------------------------------------------------------------------
/**
 * @brief システムを作成する
 *
 * @param heap_id      使用するヒープID
 * @param max_unit_num ユニット最大数
 * @param camera       使用するカメラ
 *
 * @return 作成したシステム
 */
//-------------------------------------------------------------------------------
ISS_3DS_SYS* ISS_3DS_SYS_Create( 
    HEAPID heap_id, u8 max_unit_num, const GFL_G3D_CAMERA* camera );

//-------------------------------------------------------------------------------
/**
 * @brief システムを破棄する
 *
 * @param system 破棄するシステム
 */
//-------------------------------------------------------------------------------
void ISS_3DS_SYS_Delete( ISS_3DS_SYS* system );

//-------------------------------------------------------------------------------
/**
 * @brief システムの動作処理
 *
 * @param system 動かすシステム
 */
//-------------------------------------------------------------------------------
void ISS_3DS_SYS_Main( ISS_3DS_SYS* system );


//===============================================================================
// ユニットの追加・削除・取り出し
//===============================================================================

//-------------------------------------------------------------------------------
/**
 * @brief ユニットを追加する
 * 
 * @param system     追加先システム
 *
 * @return 追加したユニットの管理インデックス
 */
//-------------------------------------------------------------------------------
u8 ISS_3DS_SYS_AddUnit( ISS_3DS_SYS* system );

//-------------------------------------------------------------------------------
/**
 * @brief ユニットを破棄する
 *
 * @param system ユニットが登録されているシステム
 * @param index  削除対象ユニットの管理インデックス
 */
//-------------------------------------------------------------------------------
void ISS_3DS_SYS_DeleteUnit( ISS_3DS_SYS* system, u8 index );

//-------------------------------------------------------------------------------
/**
 * @brief 指定ユニットを取り出す
 *
 * @param system ユニットが登録されているシステム
 * @param index  取り出し対象ユニットの管理インデックス
 *
 * @return 指定された管理番号のユニット
 */
//-------------------------------------------------------------------------------
ISS_3DS_UNIT* ISS_3DS_SYS_GetUnit( ISS_3DS_SYS* system, u8 index );
