#----------------------------------------------------------------------------
# Project:  D06電気洞窟に配置する浮遊石
# File:     makefile
#----------------------------------------------------------------------------
#---------------------------------------------------------------
#	共通ルールファイルのインクルード
#---------------------------------------------------------------
include $(PROJECT_RSCDIR)/macro_define

#---------------------------------------------------------------
#	各要素
#---------------------------------------------------------------
TARGET = d06stone.cdat
XLS = d06stone.xls
CSV0 = d06stone0.csv
CSV1 = d06stone1.csv

CSVCVTR	= $(PROJECT_ROOT)/tools/exceltool/ExcelSeetConv.exe

#---------------------------------------------------------------
#	PHONY
#---------------------------------------------------------------
.PHONY: do-build clean

do-build: $(TARGET)

$(TARGET): $(XLS)
	@$(CSVCVTR) -o $(CSV0) -p 1 -s csv $(XLS)
	@$(CSVCVTR) -o $(CSV1) -p 2 -s csv $(XLS)
	@ruby d06stone.rb $(TARGET) $(CSV0) $(CSV1)
	
clean:
	-rm -f $(TARGET)
	-rm -f $(CSV0)
	-rm -f $(CSV1)
