//======================================================================
//
//                debug_scr.ev
//
//    スクリプトファイル：debug_scr用
//
//======================================================================

  .text

  .include  "scr_seq_def.h"
  .include  "msg_debug_scr.h"
  //.include  "debug_scr.h"

  .include  "pokecen_scr_def.h"

  .include  "debug_scr_local_iwasawa.h"

//--------------------------------------------------------------
//               スクリプト本体
//--------------------------------------------------------------

//--------------------------------------------------------------
//               スクリプトテーブル
//--------------------------------------------------------------
_EVENT_DATA   ev_debug_test
_EVENT_DATA   ev_debug_masafumi
_EVENT_DATA   ev_debug_ando
_EVENT_DATA   ev_debug_suginaka
_EVENT_DATA   ev_debug_murakami
_EVENT_DATA   ev_debug_tamada
_EVENT_DATA   ev_debug_kagaya
_EVENT_DATA   ev_debug_iwasawa
_EVENT_DATA   ev_debug_nozomu
_EVENT_DATA   ev_debug_tomoya
_EVENT_DATA   ev_debug_obata
_EVENT_DATA   ev_debug_hosaka
_EVENT_DATA   ev_debug_ariizumi
_EVENT_DATA   ev_debug_ohkubo
_EVENT_DATA_END


/**************************************************************/
/*            ZONE_CHANGE_LABEL                               */
/**************************************************************/
//ev_zone_debug_scr:
//  _END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START ev_debug_test
{
  DEFINE_LOCAL  BASEX
  DEFINE_LOCAL  BASEZ
  DEFINE_LOCAL  LWK_BM_DOOR_ID
  DEFINE_LOCAL  LWK_BM_FLOOR_ID

  $BASEX = 7
  $BASEZ = 1

  _BMODEL_DIRECT_ANIME_SET_LOOP( SCR_BMID_PCEV_DOOR, BASEX, BASEZ )
  //_BMODEL_ANIME_CREATE( LWK_BM_DOOR_ID, SCR_BMID_PCEV_DOOR, BASEX, BASEZ )
  _BMODEL_ANIME_CREATE( LWK_BM_FLOOR_ID, SCR_BMID_PCEV_FLOOR, BASEX, BASEZ )

//エレベータードア開く
  //_BMODEL_ANIME_SET( LWK_BM_DOOR_ID, SCR_BMANM_PCEV_OPEN )
  //_BMODEL_ANIME_WAIT( LWK_BM_DOOR_ID )

//エレベーター下降アニメ
  _SE_PLAY( SEQ_SE_FLD_23 )
  _PLAYER_UPDOWN_EFFECT( 0, 40, 64 )
  _BMODEL_ANIME_SET( LWK_BM_FLOOR_ID, SCR_BMANM_PCEV_DOWN )
  _BMODEL_ANIME_WAIT( LWK_BM_FLOOR_ID )
  _SE_STOP()


  _SE_PLAY( SEQ_SE_MESSAGE )
  _SE_WAIT()
  _AB_KEYWAIT()

  _PLAYER_UPDOWN_EFFECT( 1, 40, 64 )

  _SE_PLAY( SEQ_SE_FLD_23 )
  _BMODEL_ANIME_SET( LWK_BM_FLOOR_ID, SCR_BMANM_PCEV_UP )
  _BMODEL_ANIME_WAIT( LWK_BM_FLOOR_ID )
  _SE_STOP()

  //_BMODEL_ANIME_SET( LWK_BM_DOOR_ID, SCR_BMANM_PCEV_CLOSE )
  //_BMODEL_ANIME_WAIT( LWK_BM_DOOR_ID )

  //_BMODEL_ANIME_DELETE( LWK_BM_DOOR_ID )
  //_BMODEL_ANIME_DELETE( LWK_BM_FLOOR_ID )
}
EVENT_END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START ev_debug_tamada
{
  _TRAINER_MULTI_BTL_SET( TRID_SUPPORT_01, TRID_RIVAL_01, TRID_MINI_01 )
  _TRAINER_LOSE_CHECK( SCWK_ANSWER )
  IF $SCWK_ANSWER == SCR_BATTLE_RESULT_WIN THEN
    _TRAINER_WIN()			//勝ち(1)ならトレーナー勝利処理へ
  ELSE
    _TRAINER_LOSE()			//負け(0)ならトレーナー敗北処理へ(ここでスクリプト終了します）
  ENDIF
  //DEFINE_LOCAL  LWK_X
  //DEFINE_LOCAL  LWK_Z

  //_PLAYER_POS_GET( LWK_X, LWK_Z )
  //$LWK_X -= 5
  //_DEBUG_PRINT_WK( LWK_X )
  //_DEBUG_PRINT_WK( LWK_Z )
  //_BMODEL_CHANGE_VIEW_FLAG( SCR_BMID_NULL, LWK_X, LWK_Z, FALSE )
}
  //_GET_ROM_VERSION( SCWK_ANSWER )
  //_DEBUG_PRINT_WK ( SCWK_ANSWER )
  //_GOTO_GAMECLEAR_DEMO( 0 )

  //_BGM_FADEOUT( 0, 30 )
  //_BGM_STOP()
  //_BGM_NOW_MAP_RECOVER()
  //_END_EVENT_BGM()
EVENT_END


/************************************************************/
/*				斉藤マのデバッグメニュー					*/
/************************************************************/
EVENT_START ev_debug_masafumi
	$SCWK_TEMP0 = 0
	
	WHILE $SCWK_TEMP0 != 555

		//メニュー作成
		_BMPMENU_INIT_EX( 1, 1, 0, 1, SCWK_ANSWER )
		//リスト追加
		_BMPMENU_MAKE_LIST( msg_debug_masafumi_01, 0 )	//ゴースト
		_BMPMENU_MAKE_LIST( msg_debug_masafumi_02, 1 )	//あく
		_BMPMENU_MAKE_LIST( msg_debug_masafumi_03, 2 )	//かくとう
		_BMPMENU_MAKE_LIST( msg_debug_masafumi_04, 3 )	//エスパー
		_BMPMENU_MAKE_LIST( msg_debug_01, 4 )	//テスト01
		_BMPMENU_MAKE_LIST( msg_debug_02, 5 )	//テスト02
		_BMPMENU_MAKE_LIST( msg_debug_00, 10 )	//やめる
		//メニュー表示
		_BMPMENU_START()
	
		IF $SCWK_ANSWER == 0 THEN
			_FLAG_SET( SYS_FLAG_BIGFOUR_GHOSTWIN )
		ELSIF $SCWK_ANSWER == 1 THEN
			_FLAG_SET( SYS_FLAG_BIGFOUR_EVILWIN )
		ELSIF $SCWK_ANSWER == 2 THEN
			_FLAG_SET( SYS_FLAG_BIGFOUR_FIGHTWIN )
		ELSIF $SCWK_ANSWER == 3 THEN
			_FLAG_SET( SYS_FLAG_BIGFOUR_ESPWIN )
		ELSIF $SCWK_ANSWER == 4 THEN
			$SCWK_TEMP0 = 555
			_MAP_CHANGE( ZONE_ID_N01R0101, 25, 20, DIR_UP )
		ELSIF $SCWK_ANSWER == 5 THEN
			_CHANGE_MAPREPLACE_FLAG( MAPREPLACE_ID_01, TRUE, TRUE )
			_CHANGE_MAPREPLACE_FLAG( MAPREPLACE_ID_02, TRUE, TRUE )
			_CHANGE_MAPREPLACE_FLAG( MAPREPLACE_ID_04, TRUE, TRUE )
			_CHANGE_MAPREPLACE_FLAG( MAPREPLACE_ID_05, TRUE, TRUE )
			_CHANGE_MAPREPLACE_FLAG( MAPREPLACE_ID_06, TRUE, TRUE )
			$SCWK_TEMP0 = 555
		ELSE
			$SCWK_TEMP0 = 555
		ENDIF
	
	ENDWHILE
	
EVENT_END


/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_ando
EVENT_END

/**************************************************************/
/*				杉中のデバッグメニュー						  */
/**************************************************************/
EVENT_START   ev_debug_suginaka
	$SCWK_TEMP0 = 0
	
	WHILE $SCWK_TEMP0 != 428

		//メニュー作成
		_BMPMENU_INIT_EX( 1, 1, 0, 1, SCWK_ANSWER )
		//リスト追加
		_BMPMENU_MAKE_LIST( msg_debug_suginaka_01, 0 )	//くさ
		_BMPMENU_MAKE_LIST( msg_debug_suginaka_02, 1 )	//みず
		_BMPMENU_MAKE_LIST( msg_debug_suginaka_03, 2 )	//ほのお
		_BMPMENU_MAKE_LIST( msg_debug_00, 3 )	//やめる
		//メニュー表示
		_BMPMENU_START()
	
		IF $SCWK_ANSWER == 0 THEN
			$WK_SYS_FIRST_POKETYPE = FIRST_POKETYPE_KUSA
		ELSIF $SCWK_ANSWER == 1 THEN
			$WK_SYS_FIRST_POKETYPE = FIRST_POKETYPE_MIZU
		ELSIF $SCWK_ANSWER == 2 THEN
			$WK_SYS_FIRST_POKETYPE = FIRST_POKETYPE_HONOO
		ELSE
			$SCWK_TEMP0 = 428
		ENDIF
	
	ENDWHILE
	
EVENT_END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_murakami
EVENT_END
/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_kagaya
EVENT_END

/**************************************************************/
/*                                                            */
/**************************************************************/

{ //DEBUG_IWASAWA_START
DEFINE_LOCAL  reg_iwasawa_return

EVENT_START   ev_debug_iwasawa
  _CALL sub_iwasawa_main
EVENT_END

sub_iwasawa_main:
{

  DEFINE_LOCAL  i_seq
  DEFINE_LOCAL  i_loop

  $i_loop = TRUE
  WHILE $i_loop == TRUE
    SWITCH $i_seq
    CASE SEQ_IWASAWA_MAIN_MENU THEN
      _CALL siwasawa_main_menu
      $i_seq = $reg_iwasawa_return

    CASE SEQ_IWASAWA_MV_POKE THEN
      _CALL siwasawa_mv_poke_menu
      $i_seq = $reg_iwasawa_return

    CASE SEQ_IWASAWA_EXIT THEN
      $i_loop = FALSE
    ENDSWITCH
  ENDWHILE

}
_RET

//メインメニュー
siwasawa_main_menu:
{
  DEFINE_LOCAL  i_ret

	//メニュー作成
	_BMPMENU_INIT_EX( 1, 1, 0, 1, i_ret )
	//リスト追加
	_BMPMENU_MAKE_LIST( msg_deb_iwasawa_main01, SEQ_IWASAWA_MV_POKE )	//いどうポケモン
	_BMPMENU_MAKE_LIST( msg_debug_00, SEQ_IWASAWA_EXIT )	//やめる
	//メニュー表示
	_BMPMENU_START()

  $reg_iwasawa_return = $i_ret
}
_RET

//移動ポケモン追加メニュー
siwasawa_mv_poke_menu:
{
  DEFINE_LOCAL  i_ret
  DEFINE_LOCAL  i_loop

  $i_loop = TRUE
  WHILE $i_loop == TRUE
	  //メニュー作成
	  _BMPMENU_INIT_EX( 1, 1, 0, 1, i_ret )
	  //リスト追加
	  _BMPMENU_MAKE_LIST( msg_deb_iwasawa_mvp01, MOVE_POKE_RAIKAMI )	//ライカミ
	  _BMPMENU_MAKE_LIST( msg_deb_iwasawa_mvp02, MOVE_POKE_KAZAKAMI )	//カザカミ
	  _BMPMENU_MAKE_LIST( msg_debug_00, SEQ_IWASAWA_EXIT )	//やめる
	  //メニュー表示
	  _BMPMENU_START()

    IF $i_ret == SEQ_IWASAWA_EXIT THEN
      $i_loop = FALSE
    ELSE
      _ADD_MOVE_POKEMON( i_ret )
    ENDIF
  ENDWHILE
  $reg_iwasawa_return = SEQ_IWASAWA_MAIN_MENU
}
_RET

} //DEBUG_IWASAWA_END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_nozomu
EVENT_END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_tomoya
EVENT_END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_obata
EVENT_END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_hosaka
  _MAP_FADE_BLACK_OUT()
  _MAP_FADE_END_CHECK()

  //Nの城出現デモ呼び出し
  _CALL_3D_DEMO( DEMO3D_ID_N_CASTLE )

  //チャンピオン部屋のマップ置き換えリクエスト
  _CHANGE_MAPREPLACE_FLAG( MAPREPLACE_ID_CHAMPROOM, TRUE, TRUE )

  _MAP_FADE_BLACK_IN()
  _MAP_FADE_END_CHECK()
EVENT_END

/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_ariizumi

  DEFINE_LOCAL  i_ret
	_FIELD_COMM_EXIT_EVENT_CALL( i_ret )
	_PALPARK_CALL() //ミュージカル呼び出し

//  _CALL_TVT_DEMO( 0 )
EVENT_END


/**************************************************************/
/*                                                            */
/**************************************************************/
EVENT_START   ev_debug_ohkubo

  _SET_BADGE_FLAG( BADGE_ID_01 )
  _SET_BADGE_FLAG( BADGE_ID_02 )
  _SET_BADGE_FLAG( BADGE_ID_03 )
  _SET_BADGE_FLAG( BADGE_ID_04 )
  _SET_BADGE_FLAG( BADGE_ID_05 )
  _SET_BADGE_FLAG( BADGE_ID_06 )
  _SET_BADGE_FLAG( BADGE_ID_07 )
  _SET_BADGE_FLAG( BADGE_ID_08 )

  _MAP_CHANGE( ZONE_ID_R10R0101, 15, 19, DIR_UP )
EVENT_END

