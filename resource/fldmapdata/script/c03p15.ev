
//======================================================================
//                c03p15.ev
//
//    スクリプトファイル：c03p15用
//
//======================================================================

  .text

  .include  "scr_seq_def.h"
  .include  "msg_c03p15.h"
  .include  "c03p15.h"

//--------------------------------------------------------------
//               スクリプト本体
//--------------------------------------------------------------

//--------------------------------------------------------------
//               スクリプトテーブル
//--------------------------------------------------------------
_EVENT_DATA    ev_c03p15_cabinguide_01
_EVENT_DATA_END


/**************************************************************/
/*            ZONE_CHANGE_LABEL                               */
/**************************************************************/
//ev_zone_c03p15:
//  _END

/**************************************************************/
/*			遊覧船受付員	C0315P	イベントスクリプト		  */
/**************************************************************/
EVENT_START		ev_c03p15_cabinguide_01
_TALK_OBJ_START()

	//【仮】分岐：時間が乗船時間内であるか？

		//乗船時間内の場合

		//けしき　ウキウキ
		_BALLOONWIN_TALKOBJ_MSG( msg_c03p15_cabinguide_01 )
		_YES_NO_WIN( SCWK_ANSWER )
		_BALLOONWIN_CLOSE()
		
		//分岐：はい処理
		IF $SCWK_ANSWER == SCR_YES THEN
			
			//この　ゆうらんせんは
			_BALLOONWIN_TALKOBJ_MSG( msg_c03p15_cabinguide_02 )
			_BALLOONWIN_CLOSE()
			
			//ヒウンゆうらんせん　じまんの
			_BALLOONWIN_TALKOBJ_MSG( msg_c03p15_cabinguide_03 )
			_BALLOONWIN_CLOSE()
		
		//分岐：いいえ処理
		ELSE
		
		ENDIF

		//ヒウンゆうらんせんへ　おのりに
		_BALLOONWIN_TALKOBJ_MSG( msg_c03p15_cabinguide_04 )
		_YES_NO_WIN( SCWK_ANSWER )
		_BALLOONWIN_CLOSE()
		
		//分岐：はい処理
		IF $SCWK_ANSWER == SCR_YES THEN
			
			//まもなく　しゅっこうに　なります
			_BALLOONWIN_TALKOBJ_MSG( msg_c03p15_cabinguide_05 )
			_BALLOONWIN_CLOSE()

			//乗船アニメ
			_OBJ_ANIME( C03P15_CABINGUIDE_01, anm_cabin_in )
			_OBJ_ANIME( MMDL_ID_PLAYER, anm_player_in )
			_OBJ_ANIME_WAIT()
			
			//船員のOBJを消す
			_OBJ_DEL( C03P15_CABINGUIDE_01 )

			//望さんスクリプト
			_PL_BOAT_START()
	
			//マップチェンジ
			_MAP_CHANGE( ZONE_ID_C03R0801, 29, 17, DIR_UP )

		//分岐：いいえ処理
		ELSE

			//かしこまりました
			_BALLOONWIN_TALKOBJ_MSG( msg_c03p15_cabinguide_06 )
			_BALLOONWIN_CLOSE()

		ENDIF

EVENT_END

//--------------------------------------------------------------
//			乗船アニメ
//--------------------------------------------------------------
_ANIME_LABEL	anm_cabin_in
	_ANIME_DATA	AC_DIR_U,1
	_ANIME_DATA	AC_DIR_L,1
	_ANIME_DATA	AC_STAY_WALK_L_16F,1
	_ANIME_DATA	AC_WALK_L_8F,2
	_ANIME_DATA	ACMD_END,0

_ANIME_LABEL	anm_player_in
	_ANIME_DATA AC_WAIT_16F,1
	_ANIME_DATA	AC_WALK_L_8F,2
	_ANIME_DATA	ACMD_END,0
	
