//======================================================================
//                t01r0401
//======================================================================

  .text

  .include  "scr_seq_def.h"
  .include  "../../../prog/include/msg/script/msg_t01r0401.h"
  .include  "t01r0401.h"

//--------------------------------------------------------------
//               スクリプト本体
//--------------------------------------------------------------

//--------------------------------------------------------------
//               スクリプトテーブル
//--------------------------------------------------------------
_EVENT_DATA    ev_t01r0401_hakase2_zukan
_EVENT_DATA   ev_t01r0401_black_01
_EVENT_DATA   ev_t01r0401_white_01
/*_EVENT_DATA    ev_t01r0401_kabi32_1*/
_EVENT_DATA_END

/**************************************************************/
/*            FLAG_CHANGE_LABEL                               */
/*
 * 注意！(06.02.09現在)
 * EV_SCRIPT_WORKを確保していないので、
 * SCWK_ANSWERなどのワークは使用することが出来ない！
 * LOCALWORK0などを使用するようにする！
 *
 * 共通スクリプトについては現状使用不可！
 * 対応予定だが、ゾーンをまたいだ時に処理落ちするかも？
 * あまりつかわないかも？
 */
/**************************************************************/
//ev_t01r0401_flag_change:
//  _END

/**************************************************************/
/*  T01R0401 ライバル会話用イベントスクリプト（図鑑入手前）　 */
/**************************************************************/
EVENT_START   ev_t01r0401_black_01
  _TALK_OBJ_START()
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_black_01 )
	_AB_KEYWAIT()
  _BALLOONWIN_CLOSE()
EVENT_END

/**************************************************************/
/*  T01R0401 サポート会話用イベントスクリプト（図鑑入手前）　 */
/**************************************************************/
EVENT_START   ev_t01r0401_white_01
  _TALK_OBJ_START()
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_white_01 )
	_AB_KEYWAIT()
  _BALLOONWIN_CLOSE()
EVENT_END

/**************************************************************/
/*      ポケモン図鑑入手イベント                              */
/**************************************************************/
EVENT_START   ev_t01r0401_hakase2_zukan

 //博士の前に並ぶ
	_OBJ_ANIME( MMDL_ID_PLAYER,anime_t01r0401_zukan01 )
	_OBJ_ANIME( T01R0401_RIVAL,anime_t01r0401_zukan01a )
	_OBJ_ANIME( T01R0401_HEROINE,anime_t01r0401_zukan01b )
	_OBJ_ANIME_WAIT()
  
	_TURN_HERO_SITE()
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_01,T01R0401_HAKASE2 )
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_black_02,T01R0401_RIVAL ) //ライバル
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_02,T01R0401_HAKASE2 ) //博士
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

 //博士、3人の前を移動
	_OBJ_ANIME( T01R0401_HAKASE2,anime_t01r0401_zukan02 )
	_OBJ_ANIME_WAIT()

	_TURN_HERO_SITE()
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_07,T01R0401_HAKASE2 )  //博士
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_black_03,T01R0401_RIVAL )  //ライバル
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_white_02,T01R0401_HEROINE ) //サポート
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_TURN_HERO_SITE()
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_08,T01R0401_HAKASE2 )  //博士
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_TURN_HERO_SITE()

	_PLAYER_NAME( 0 ) //プレイヤー名を反映
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_09,T01R0401_HAKASE2 )  //博士
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_TURN_HERO_SITE()
	_PLAYER_NAME( 0 ) //プレイヤー名を反映
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_10,T01R0401_HAKASE2 )  //博士
	_AB_KEYWAIT()

	_YES_NO_WIN( SCWK_ANSWER )
	_BALLOONWIN_CLOSE()

	_IFVAL_JUMP SCWK_ANSWER,EQ,0,t01r0401_hakase2_yes
	_IFVAL_JUMP SCWK_ANSWER,EQ,1,t01r0401_hakase2_no

t01r0401_hakase2_no:
	_PLAYER_NAME( 0 ) //プレイヤー名を反映
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_11,T01R0401_HAKASE2 ) 
	_AB_KEYWAIT()

	_YES_NO_WIN( SCWK_ANSWER )
	_BALLOONWIN_CLOSE()

	_IFVAL_JUMP SCWK_ANSWER,EQ,0,t01r0401_hakase2_yes
	_IFVAL_JUMP SCWK_ANSWER,EQ,1,t01r0401_hakase2_no

t01r0401_hakase2_yes:
	_TURN_HERO_SITE()
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_12,T01R0401_HAKASE2 ) 
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_TURN_HERO_SITE()

	_PLAYER_NAME( 0 ) //プレイヤー名を反映
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_13,T01R0401_HAKASE2 ) 

	//ME鳴らす
	_ME_PLAY( SEQ_ME_KEYITEM )
	_ME_WAIT()

	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()
	
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_hakase2_14,T01R0401_HAKASE2 ) 
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()


 //博士、室外へ退場
	_OBJ_ANIME( T01R0401_RIVAL,anime_t01r0401_zukan03a )
	_OBJ_ANIME( MMDL_ID_PLAYER,anime_t01r0401_zukan03b )
	_OBJ_ANIME( T01R0401_HAKASE2,anime_t01r0401_zukan03c )
	_OBJ_ANIME_WAIT()

	_OBJ_ANIME( T01R0401_RIVAL,anime_t01r0401_zukan03d )
	_OBJ_ANIME( MMDL_ID_PLAYER,anime_t01r0401_zukan03e )
	_OBJ_ANIME( T01R0401_HEROINE,anime_t01r0401_zukan03f )
	_OBJ_ANIME_WAIT()

	_OBJ_ANIME( T01R0401_HAKASE2,anime_t01r0401_zukan03g )
	_OBJ_ANIME_WAIT()
	_OBJ_DEL( T01R0401_HAKASE2 )

	_OBJ_ANIME( T01R0401_RIVAL,anime_t01r0401_zukan03h )
	_OBJ_ANIME( MMDL_ID_PLAYER,anime_t01r0401_zukan03i )
	_OBJ_ANIME( T01R0401_HEROINE,anime_t01r0401_zukan03j )
	_OBJ_ANIME_WAIT()

 //サポートたちの話
	_TURN_HERO_SITE()
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_white_03,T01R0401_HEROINE )  //サポート
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_TURN_HERO_SITE()
	_BALLOONWIN_OBJMSG_OPEN( msg_t01r0401_black_04,T01R0401_RIVAL )  //ライバル
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

 //サポートたち、室外へ退場
	_OBJ_ANIME( T01R0401_RIVAL,anime_t01r0401_zukan04 )
	_OBJ_ANIME( T01R0401_HEROINE,anime_t01r0401_zukan04a )
	_OBJ_ANIME_WAIT()
	_OBJ_DEL( T01R0401_RIVAL )
	_OBJ_DEL( T01R0401_HEROINE )

	_FLAG_SET( FV_T01R0401_HAKASE )
	_FLAG_SET( FV_T01R0401_RIVAL )
	_FLAG_SET( FV_T01R0401_SUPPORT )

  $WK_0907ROM00 = 1
  //$SVSCRWK_START = 1
  $WK_0907ROM01 = 1

EVENT_END


/**************************************************************/
/*     主人公、博士の手前まで移動　　　　                     */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan01
	_ANIME_DATA	AC_WALK_U_8F,4
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     サポート、博士の手前まで移動　　　　                   */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan01a
	_ANIME_DATA	AC_WALK_U_8F,5
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     ライバル、博士の手前まで移動　　　　                   */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan01b
	_ANIME_DATA	AC_WALK_U_8F,5
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、みんなの顔を見る　　　　　　　                   */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan02
	_ANIME_DATA	AC_WALK_L_8F,1
	_ANIME_DATA	AC_DIR_D,1
	_ANIME_DATA	AC_WAIT_8F,2
	_ANIME_DATA	AC_WALK_R_8F,2
	_ANIME_DATA	AC_DIR_D,1
	_ANIME_DATA	AC_WAIT_8F,2
	_ANIME_DATA	AC_WALK_L_8F,1
	_ANIME_DATA	AC_DIR_D,1
	_ANIME_DATA	AC_WAIT_8F,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（のためライバル移動）               */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03a
	_ANIME_DATA	AC_WALK_R_8F,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（のため主人公移動）               */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03b
	_ANIME_DATA	AC_WAIT_8F,1
	_ANIME_DATA	AC_WALK_R_8F,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（まず一歩下に）  　　　　             */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03c
	_ANIME_DATA	AC_WAIT_8F,2
	_ANIME_DATA	AC_WALK_D_8F,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（ライバル左向き）  　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03d
	_ANIME_DATA	AC_DIR_L,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（主人公左向き）  　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03e
	_ANIME_DATA	AC_DIR_L,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（サポート右向き）  　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03f
	_ANIME_DATA	AC_DIR_R,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場　　　　　　　　  　　　　             */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03g
	_ANIME_DATA	AC_WALK_D_8F,7
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（ライバル下向き）  　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03h
	_ANIME_DATA	AC_DIR_D,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（主人公下向き）  　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03i
	_ANIME_DATA	AC_DIR_D,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     博士、室外に退場（サポート下向き）  　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan03j
	_ANIME_DATA	AC_DIR_D,1
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     ライバル、室外に退場　　　　　　　　　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan04
	_ANIME_DATA	AC_WALK_D_8F,3
	_ANIME_DATA	AC_WALK_L_8F,2
	_ANIME_DATA	AC_WALK_D_8F,4
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*     サポート、室外に退場　　　　　　　　　　　　           */
/**************************************************************/
_ANIME_LABEL	anime_t01r0401_zukan04a
	_ANIME_DATA	AC_WALK_D_8F,3
	_ANIME_DATA	AC_WAIT_8F,2
	_ANIME_DATA	AC_WALK_R_8F,1
	_ANIME_DATA	AC_WALK_D_8F,4
	_ANIME_DATA	ACMD_END,0




/**************************************************************/
/*       5月ROM用                                             */
/**************************************************************/
/*
EVENT_START   ev_t01r0401_kabi32_1
	_TURN_HERO_SITE()
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_doctor01_01 )
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_OBJ_ANIME( T01R0401_KABI32_1,test01anime ) //自己紹介アニメ
	_OBJ_ANIME_WAIT()

	_TURN_HERO_SITE()
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_doctor01_02 )
	_AB_KEYWAIT()

	_YES_NO_WIN( SCWK_ANSWER )
	_BALLOONWIN_CLOSE()

	_IFVAL_JUMP SCWK_ANSWER,EQ,0,t01r0401_kabi32_yes
	_IFVAL_JUMP SCWK_ANSWER,EQ,1,t01r0401_kabi32_no

t01r0401_kabi32_yes:
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_doctor01_03 )
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()
	_JUMP t01r0401_kabi32_2

t01r0401_kabi32_no:
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_doctor01_04 )
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

t01r0401_kabi32_2:
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_doctor01_05 )
	_AB_KEYWAIT()
	_BALLOONWIN_CLOSE()

	_OBJ_ANIME( T01R0401_KABI32_1,test02anime ) //独り言アニメその１
	_OBJ_ANIME_WAIT()

	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_doctor01_06 )
	_AB_KEYWAIT()
  	_BALLOONWIN_CLOSE()

	_OBJ_ANIME( T01R0401_KABI32_1,test03anime ) //独り言アニメその２
	_OBJ_ANIME_WAIT()

	_TURN_HERO_SITE()
	_BALLOONWIN_TALKOBJ_OPEN( msg_t01r0401_doctor01_07 )
	_AB_KEYWAIT()
  	_BALLOONWIN_CLOSE()

EVENT_END
	*/

//--------------------------------------------------------------
//	アニメーションデータ
//--------------------------------------------------------------
/*
_ANIME_LABEL test01anime //自己紹介アニメ
	_ANIME_DATA AC_DIR_U,1
	_ANIME_DATA AC_DIR_R,1
	_ANIME_DATA AC_DIR_D,1
	_ANIME_DATA AC_DIR_L,1
	_ANIME_DATA AC_DIR_U,1
	_ANIME_DATA AC_DIR_R,1
	_ANIME_DATA AC_DIR_D,1
	_ANIME_DATA AC_DIR_L,1
	_ANIME_DATA AC_DIR_U,1
	_ANIME_DATA AC_DIR_R,1
	_ANIME_DATA AC_DIR_D,1
	_ANIME_DATA ACMD_END,0

_ANIME_LABEL test02anime //独り言アニメその１
	_ANIME_DATA AC_WALK_U_8F,2
	_ANIME_DATA ACMD_END,0

_ANIME_LABEL test03anime //独り言アニメその２
	_ANIME_DATA AC_WALK_D_8F,2
	_ANIME_DATA ACMD_END,0
	*/
