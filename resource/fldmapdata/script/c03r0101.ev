//======================================================================
//                c03r0101.ev
//
//    スクリプトファイル：c03r0101用
//
//======================================================================

  .text 
  .include  "scr_seq_def.h"
  .include  "../../message/dst/script/msg_c03r0101.h"
  //.include  "c03r0101.h"

//======================================================================
// ■スクリプトテーブル
//======================================================================
_EVENT_DATA	ev_leader          // 調査隊隊長
_EVENT_DATA	ev_member_question // アンケート隊員
_EVENT_DATA	ev_member_hello    // 挨拶隊員
_EVENT_DATA	ev_member_thanks   // お礼隊員
_EVENT_DATA	ev_member_a        // 一般隊員A
_EVENT_DATA	ev_member_b        // 一般隊員B
_EVENT_DATA	ev_member_c        // 一般隊員C
_EVENT_DATA	ev_member_d        // 一般隊員D
_EVENT_DATA	ev_member_e        // 一般隊員E
_EVENT_DATA	ev_member_f        // 一般隊員F
_EVENT_DATA	ev_member_g        // 一般隊員G
_EVENT_DATA	ev_paper           // 書類
_EVENT_DATA_END


//======================================================================
// ■隊長サブルーチンリスト
//======================================================================
//----------------------------------------------------------------------
// layer 4
//----------------------------------------------------------------------
// ■メインシーケンス
// RES_REQ_REPORT ◆調査結果を報告シーケンス
// RES_REQ_CANCEL ◆依頼キャンセルシーケンス
// RES_REQ_SELECT ◆依頼選択シーケンス
// ■隊長の台詞
// LEADER_SAY_Ah_hah            ◆隊長「ふむふむ……」
// LEADER_SAY_You_dont_archieve ◆隊長「まだ調査が終わっていないぞ？」
//----------------------------------------------------------------------
// layer 3
//----------------------------------------------------------------------
// ■取得
// GET_RES_REQ_MAX_REST_NORM_COUNT ◆調査中の依頼に関して, 最も大きいノルマ不足値を取得する ( 人数調査 )
// GET_RES_REQ_MAX_REST_NORM_TIME ◆調査中の依頼に関して, 最も大きいノルマ不足値を取得する ( 時間調査 )
// ■チェック
// CHECK_RES_REQ_ACHIEVE ◆受けている依頼が達成されているかどうかをチェックする
// ■隊長の台詞
// LEADER_SAY_Next_rank ◆隊長「あと〜回で〜隊員だ」
//----------------------------------------------------------------------
// layer 2
//----------------------------------------------------------------------
// ■シーケンス
// ACHIEVE_PRIZE_GET ◆依頼達成アイテム入手処理
// COMPLETE_PRIZE_GET ◆全依頼達成アイテム入手処理
// ■機能
// FINISH_CURRENT_RES_REQ ◆受けている依頼を完了する
// ■取得
// GET_ACHIEVE_NUM_TO_RANKUP ◆次のランクアップまでの残り依頼達成回数を取得する
// GET_RES_REQ_REST_NORM_COUNT ◆受けている依頼について, ノルマ達成までの残り人数を取得する
// GET_RES_REQ_REST_NORM_TIME ◆受けている依頼について, ノルマ達成までの残り時間を取得する
// ■チェック
// CHECK_RES_REQ_ALREADY_ARCHIEVE ◆指定した依頼について, すでに達成済みかどうかを事前にチェックする
// ■システムメッセージ
// SYSTEM_MSG_Rank_up ◆システム「〜隊員に任命された」
// ■隊長の台詞
// LEADER_SAY_I_appoint_you_as ◆隊長「今日から君は〜隊員だ！」
//----------------------------------------------------------------------
// layer 1
//----------------------------------------------------------------------
// ■フラグ操作
// SET_RES_REQ_ACHIEVE_FLAG ◆指定した依頼の達成フラグをセットする
// ■取得
// GET_RES_MEMBER_RANK ◆隊員ランクを取得する
// GET_FINISH_RES_REQ_NUM ◆達成した依頼の数を取得する
// GET_RES_REQ_QUESTION_NUM ◆調査中の依頼の質問数を取得する
// GET_RES_REQ_ABS_NORM_COUNT ◆指定した調査依頼のノルマ人数を取得する
// GET_RES_REQ_ABS_NORM_TIME ◆指定した調査依頼のノルマ時間[h]を取得する
// GET_RES_REQ_QUESTION_ID ◆指定した依頼に該当する質問IDを取得する
// GET_RES_REQ_RESEARCH_COUNT ◆調査中の依頼に関して, 調査を開始してからの調査人数を取得する
// GET_RES_REQ_TYPE ◆調査中の依頼のタイプ ( 人数 or 時間 ) を取得する
// ■チェック
// CHECK_RES_REQ_COMPLETE ◆全ての調査依頼が達成されているかどうかをチェックする
// CHECK_RES_REQ_EXIST ◆依頼を受けているかどうかをチェックする
// ■システムメッセージ
// SYSTEM_MSG_REPORT_RESULT   ◆システム「調査を隊長に報告した！」
// SYSTEM_MSG_RECEIVE_REQUEST ◆システム「調査依頼を受けた！」
// ■隊長の台詞
// LEADER_SAY_Nice_to_meet_you           ◆隊長「〜初回会話〜」
// LEADER_SAY_May_I_help_you             ◆隊長「今日はどうする？」
// LEADER_SAY_You_are_welcome            ◆隊長「よくきたな元気に調査しているか？」
// LEADER_SAY_You_have_already_completed ◆隊長「キミはすべての依頼を終えている」
// LEADER_SAY_Do_you_cancel_request      ◆隊長「受けている依頼をキャンセルするか？」
// LEADER_SAY_You_dont_have_request      ◆隊長「調査依頼は受けていないようだ」
// LEADER_SAY_ByeBye                     ◆隊長「そうか……たまには顔を見せに来てくれ」
// LEADER_SAY_Please_select_request      ◆隊長「調査依頼を選んでくれ」
// LEADER_SAY_Is_this_request_ok         ◆隊長「この調査依頼を受けるのか？」
// LEADER_SAY_Come_again_if_you_want     ◆隊長「いらいを　うけたくなったら　またきてくれ」
// LEADER_SAY_Come_again_if_you_want_2   ◆隊長「依頼を受けたくなったら, また来てくれ！」
// LEADER_SAY_Come_again_if_you_achieve  ◆隊長「調査が終了したら, 報告に来てくれ」
// LEADER_SAY_Continue_research          ◆隊長「では引き続き, 調査を続けてくれ」
// LEADER_SAY_Report_research_result     ◆隊長「調査内容を報告してくれ」
// LEADER_SAY_Present_for_you            ◆隊長「これは調査の報酬だ 受け取ってくれ」
// LEADER_SAY_Congraturation             ◆隊長「これは私の気持ちだ 受け取ってくれ」
// LEADER_SAY_I_hope_for_you             ◆隊長「今後も期待しているぞ！」
// LEADER_SAY_This_request_is            ◆隊長「〜依頼内容の説明〜」


//======================================================================
// ■ローカル変数
//======================================================================
// ファイルスコープ変数
DEFINE_LOCAL first_talk // はじめての会話か？
DEFINE_LOCAL main_menu  // メインメニューを表示するか？
//----------------------------------------------------------------------
// layer 4
//----------------------------------------------------------------------
DEFINE_LOCAL v4_1
DEFINE_LOCAL v4_2
DEFINE_LOCAL v4_3
DEFINE_LOCAL v4_4
DEFINE_LOCAL v4_5
DEFINE_LOCAL v4_6
DEFINE_LOCAL v4_7
DEFINE_LOCAL v4_8
DEFINE_LOCAL v4_9
//----------------------------------------------------------------------
// layer 3
//----------------------------------------------------------------------
DEFINE_LOCAL v3_1
DEFINE_LOCAL v3_2
DEFINE_LOCAL v3_3
DEFINE_LOCAL v3_4
DEFINE_LOCAL v3_5
DEFINE_LOCAL v3_6
DEFINE_LOCAL v3_7
DEFINE_LOCAL v3_8
DEFINE_LOCAL v3_9
//----------------------------------------------------------------------
// layer 2
//----------------------------------------------------------------------
DEFINE_LOCAL v2_1
DEFINE_LOCAL v2_2
DEFINE_LOCAL v2_3
DEFINE_LOCAL v2_4
DEFINE_LOCAL v2_5
DEFINE_LOCAL v2_6
DEFINE_LOCAL v2_7
DEFINE_LOCAL v2_8
DEFINE_LOCAL v2_9
//----------------------------------------------------------------------
// layer 1
//----------------------------------------------------------------------
DEFINE_LOCAL v1_1
DEFINE_LOCAL v1_2
DEFINE_LOCAL v1_3
DEFINE_LOCAL v1_4
DEFINE_LOCAL v1_5
DEFINE_LOCAL v1_6
DEFINE_LOCAL v1_7
DEFINE_LOCAL v1_8
DEFINE_LOCAL v1_9


//======================================================================
// ■デバッグ出力
//======================================================================
DEBUG_PRINT:
{
  _NUMBER( 0, SCWK_TEMP0, 4 )
  _NUMBER( 1, SCWK_TEMP1, 4 )
  _NUMBER( 2, SCWK_TEMP2, 4 )
  _NUMBER( 3, SCWK_TEMP3, 4 )
  _NUMBER( 4, SCWK_ANSWER, 4 )
  _SYSWIN_MSG( msg_c03r0101_debug, POS_DEFAULT )
  _AB_KEYWAIT()
  _SYSWIN_CLOSE()
}
_RET


//======================================================================
// ■調査隊隊長メイン
//======================================================================
EVENT_START ev_leader
{ 
  // フラグを初期化
  _FLAG_CHECK( FE_RES_LEADER_FIRSTTALK, first_talk ) // はじめての会話か？
  $main_menu = TRUE // メインメニューを表示するか？

  //--初回会話--
  IF $first_talk == FALSE THEN 
    _CALL LEADER_SAY_Nice_to_meet_you
    _FLAG_SET( FE_RES_LEADER_FIRSTTALK ) // 初回会話フラグを立てる
  //--通常会話--
  ELSE
    _CALL LEADER_SAY_You_are_welcome // 隊長「よくきたな」
    _CALL CHECK_RES_REQ_COMPLETE // すてべの調査依頼が達成されているかチェック
    //--すべての調査依頼を達成済み--
    IF $SCWK_ANSWER == TRUE THEN 
      _CALL LEADER_SAY_You_have_already_completed // 隊長「キミは　すべてのいらいを　おえている」
      $main_menu = FALSE // メインメニューを表示しない
    ENDIF
  ENDIF

  //--メインメニュー--
  IF $main_menu == TRUE THEN
    _CALL LEADER_SAY_May_I_help_you // 隊長「きょうは　どうする？」
    _CALL MAIN_MENU // メインメニューを表示
    // 選択結果で分岐
    SWITCH $SCWK_ANSWER
    CASE msg_c03r0101__choice_01a THEN //--『いらいをうける』--
      // 依頼を受けているかどうかをチェック
      _CALL CHECK_RES_REQ_EXIST
      //--依頼を受けている--
      IF $SCWK_ANSWER == TRUE THEN 
        _CALL LEADER_SAY_Do_you_cancel_request // 隊長「キャンセルするか？」
        _CALL RES_REQ_CANCEL // キャンセル処理
      //--依頼を受けていない--
      ELSE
        _CALL RES_REQ_SELECT // 依頼選択処理
      ENDIF
    CASE msg_c03r0101__choice_01b THEN //--『いらいのほうこく』--
      // 依頼を受けているかどうかをチェック
      _CALL CHECK_RES_REQ_EXIST
      //--依頼を受けていない--
      IF $SCWK_ANSWER == FALSE THEN
        _CALL LEADER_SAY_You_dont_have_request // 隊長「ちょうさいらいは　うけていないようだ」
      //--依頼を受けている--
      ELSE
        // 調査中の依頼を達成しているかどうかをチェック
        _CALL CHECK_RES_REQ_ACHIEVE
        //--依頼を達成している--
        IF $SCWK_ANSWER == TRUE THEN
          _CALL RES_REQ_REPORT // 報告処理
        //--依頼を達成していない--
        ELSE
          _CALL LEADER_SAY_You_dont_archieve // 隊長「まだ調査が終わっていないぞ？」
          _CALL RES_REQ_CANCEL // キャンセル処理
        ENDIF
      ENDIF
    CASE msg_c03r0101__choice_01c THEN //--『なんでもないです』--
      _CALL LEADER_SAY_ByeBye // 隊長「そうか……」
    CASE EV_WIN_B_CANCEL THEN //--B ボタン--
    DEFAULT
    ENDSWITCH
  ENDIF
}
EVENT_END 

//----------------------------------------------------------------------
// ◆調査結果を報告する
//----------------------------------------------------------------------
RES_REQ_REPORT:
{
  DEFINE_LOCAL request_id  // 調査依頼ID
  DEFINE_LOCAL before_rank // 報告前の隊員ランク
  DEFINE_LOCAL after_rank  // 報告後の隊員ランク

  _GET_RESEARCH_REQUEST_ID( request_id ) // 調査依頼IDを取得
  _CALL GET_RES_MEMBER_RANK   // 報告前の隊員ランクを取得
  $before_rank = $SCWK_ANSWER //

  _CALL LEADER_SAY_Report_research_result // 隊長「調査内容を報告してくれ」
  _CALL SYSTEM_MSG_REPORT_RESULT          // システム「調査を隊長に報告した！」
  _CALL LEADER_SAY_Ah_hah                 // 隊長「ふむふむ……」
  _CALL LEADER_SAY_Present_for_you        // 隊長「これは調査の報酬だ 受け取ってくれ」

  _CALL ACHIEVE_PRIZE_GET      // 依頼達成アイテムの入手処理
  _CALL FINISH_CURRENT_RES_REQ // 依頼を完了

  // すべての依頼を達成したかどうかをチェック
  _CALL CHECK_RES_REQ_COMPLETE

  //--すべての依頼を達成--
  IF $SCWK_ANSWER == TRUE THEN
    _CALL LEADER_SAY_Congraturation // 隊長「これは私の気持ちだ 受け取ってくれ」
    _CALL ACHIEVE_PRIZE_GET         // 全依頼達成アイテムの入手処理
    _CALL LEADER_SAY_I_hope_for_you // 隊長「今後も期待しているぞ！」
  //--未達成の依頼が残っている--
  ELSE
    // 報告後の隊員ランクを取得
    _CALL GET_RES_MEMBER_RANK 
    $after_rank = $SCWK_ANSWER
    //--隊員ランクが上がっている--
    IF $before_rank != $after_rank THEN
      _CALL LEADER_SAY_I_appoint_you_as // 隊長「今日から君は〜隊員だ！」
      _CALL SYSTEM_MSG_Rank_up          // システム「〜隊員に任命された」
    //--隊員楽は上がっていない--
    ELSE
      //--ランクSSでない--
      IF $after_rank != RESEARCH_MEMBER_RANK_SS THEN
        _CALL LEADER_SAY_Next_rank // 隊長「あと〜回で〜隊員だ」
      ENDIF
    ENDIF
    //「つぎの　ちょうせんも　きたいしているぞ！」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_29, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ENDIF
}
_RET

//----------------------------------------------------------------------
// ◆受けている依頼をキャンセルする
//----------------------------------------------------------------------
RES_REQ_CANCEL:
{
  DEFINE_LOCAL cancel // キャンセルするかどうか

  // フラグを初期化
  $cancel = FALSE
  
  //『はい』『いいえ』選択
  _YES_NO_WIN( SCWK_ANSWER )

  //--『はい』を選択--
  IF $SCWK_ANSWER == SCR_YES THEN
    //「キャンセルして　いいのか？」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_10, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
    //『はい』『いいえ』選択
    _YES_NO_WIN( SCWK_ANSWER )
    //--『はい』を選択--
    IF $SCWK_ANSWER == SCR_YES THEN 
      $cancel = TRUE 
    ENDIF
  ENDIF 

  //--キャンセルする場合--
  IF $cancel == TRUE THEN 
    _CALL LEADER_SAY_Come_again_if_you_want_2 // 隊長「依頼を受けたくなったら, また来てくれ！」
    _FINISH_RESEARCH() // 調査終了
  //--キャンセルしない場合--
  ELSE
    _CALL LEADER_SAY_Continue_research // 隊長「では引き続き, 調査を続けてくれ」
  ENDIF
}
_RET

//----------------------------------------------------------------------
// ◆依頼選択処理
//----------------------------------------------------------------------
RES_REQ_SELECT:
{
  DEFINE_LOCAL loop   // 依頼選択ループ
  DEFINE_LOCAL choice // 選択したかどうか
  DEFINE_LOCAL type   // 調査タイプ
  DEFINE_LOCAL rank   // 隊員ランク
  DEFINE_LOCAL req_id // 依頼ID

  // フラグを初期化
  $loop = TRUE
  $choice = FALSE

  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK
  $rank = $SCWK_ANSWER


  WHILE $loop == TRUE
    _CALL LEADER_SAY_Please_select_request // 隊長「では調査依頼を選んでくれ」
    _CALL RES_TYPE_MENU  // 調査タイプを選択
    $type = $SCWK_ANSWER //

    // 選択した調査タイプで分岐
    SWITCH $SCWK_ANSWER
    CASE RESEARCH_REQ_TYPE_COUNT, RESEARCH_REQ_TYPE_TIME THEN //--『じかんちょうさ』or 『にんずうちょうさ』--
      // 依頼を選択
      $SCWK_TEMP0 = $type
      $SCWK_TEMP1 = $rank
      _CALL RES_REQ_MENU
      $req_id = $SCWK_ANSWER
      // 依頼内容を説明
      $SCWK_TEMP0 = $req_id
      _CALL LEADER_SAY_This_request_is // 隊長「〜依頼内容の説明〜」
      _CALL LEADER_SAY_Is_this_request_ok          // 隊長「この調査依頼を受けるのか？」
      //『はい』『いいえ』選択
      _YES_NO_WIN( SCWK_ANSWER )
      //--『はい』を選択--
      IF $SCWK_ANSWER == SCR_YES THEN
        $choice = TRUE
        $loop = FALSE
      //--『いいえ』を選択--
      ELSE
      ENDIF
    DEFAULT //--その他--
      $loop = FALSE
    ENDSWITCH
  ENDWHILE

  //--選択せずに終了--
  IF $choice == FALSE THEN
    _CALL LEADER_SAY_Come_again_if_you_want // 隊長「依頼を受けたくなったら また来てくれ」
  //--選択して終了--
  ELSE
    // 依頼受理処理
    $SCWK_TEMP0 = $req_id
    _CALL GET_RES_REQ_QUESTION_ID
    _START_RESEARCH( req_id, SCWK_TEMP1, SCWK_TEMP2, SCWK_TEMP3 )
    _CALL DEBUG_PRINT

    _CALL SYSTEM_MSG_RECEIVE_REQUEST // システム「調査依頼を受けた！」
    _CALL LEADER_SAY_Come_again_if_you_achieve // 隊長「調査が終了したら, 報告に来てくれ」
  ENDIF
}
_RET

//----------------------------------------------------------------------
// ◆調査中の依頼に関して, 最も大きいノルマ不足値を取得する ( 人数調査 )
// ◇out SCWK_ANSWER ノルマ達成に最も不足している人数
//----------------------------------------------------------------------
GET_RES_REQ_MAX_REST_NORM_COUNT:
{
  // v3_1 質問1の不足人数
  // v3_2 質問2の不足人数
  // v3_3 質問3の不足人数
  // v3_4 最も大きい不足人数

  // 各質問の不足人数を取得
  _CALL GET_RES_REQ_REST_NORM_COUNT

  // 最も大きい不足値を選出
  $v3_4 = $v3_1
  IF $v3_4 < $v3_2 THEN
    $v3_4 = $v3_2
  ENDIF
  IF $v3_4 < $v3_3 THEN
    $v3_4 = $v3_3
  ENDIF

  // 最も大きい不足値を返す
  $SCWK_ANSWER = $v3_4 
}
_RET

//----------------------------------------------------------------------
// ◆調査中の依頼に関して, 最も大きいノルマ不足値を取得する ( 時間調査 )
// ◇out SCWK_ANSWER ノルマ達成に最も不足している時間
//----------------------------------------------------------------------
GET_RES_REQ_MAX_REST_NORM_TIME:
{
  // v3_1 質問1の不足時間
  // v3_2 質問2の不足時間
  // v3_3 質問3の不足時間
  // v3_4 最も大きい不足時間

  // 各質問の不足時間を取得
  _CALL GET_RES_REQ_REST_NORM_TIME
  $v3_1 = $SCWK_TEMP0
  $v3_2 = $SCWK_TEMP1
  $v3_3 = $SCWK_TEMP2

  // 最も大きい不足値を選出
  $v3_4 = $v3_1
  IF $v3_4 < $v3_2 THEN
    $v3_4 = $v3_2
  ENDIF
  IF $v3_4 < $v3_3 THEN
    $v3_4 = $v3_3
  ENDIF

  // 最も大きい不足値を返す
  $SCWK_ANSWER = $v3_4 
}
_RET

//----------------------------------------------------------------------
// ◆受けている依頼が達成されているかどうかをチェックする
// ◇out SCWK_ANSWER 依頼が達成されている場合 TRUE
//----------------------------------------------------------------------
CHECK_RES_REQ_ACHIEVE:
{
  // v3_1 調査中の依頼が人数調査かどうか

  // 調査中の依頼の調査タイプを取得
  _CALL GET_RES_REQ_TYPE
  $v3_1 = $SCWK_ANSWER

  //--調査中の依頼が人数調査--
  IF $v3_1 == RESEARCH_REQ_TYPE_COUNT THEN
    // 依頼達成までの残り人数を取得
    _CALL GET_RES_REQ_REST_NORM_COUNT

    //--ノルマ未達成--
    IF $SCWK_TEMP0 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
    //--ノルマ未達成--
    IF $SCWK_TEMP1 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
    //--ノルマ未達成--
    IF $SCWK_TEMP2 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF

  //--調査中の依頼が時間調査--
  ELSE
    // 依頼開始からの調査人数を取得
    _CALL GET_RES_REQ_RESEARCH_COUNT

    //--ノルマ未達成--
    IF $SCWK_TEMP0 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
    //--ノルマ未達成--
    IF $SCWK_TEMP1 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
    //--ノルマ未達成--
    IF $SCWK_TEMP2 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF

    // 依頼達成までの残り時間を取得
    _CALL GET_RES_REQ_REST_NORM_TIME

    //--ノルマ未達成--
    IF $SCWK_TEMP0 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
    //--ノルマ未達成--
    IF $SCWK_TEMP1 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
    //--ノルマ未達成--
    IF $SCWK_TEMP2 != 0 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
  ENDIF 

  // ノルマ達成
  $SCWK_ANSWER = TRUE
}
_RET

//----------------------------------------------------------------------
// ◆依頼達成アイテム入手処理
//----------------------------------------------------------------------
ACHIEVE_PRIZE_GET:
{
  // @todo: 実装
}
_RET

//----------------------------------------------------------------------
// ◆全依頼達成アイテム入手処理
//----------------------------------------------------------------------
COMPLETE_PRIZE_GET:
{
  // @todo: 実装
}
_RET

//----------------------------------------------------------------------
// ◆受けている依頼を完了する
//----------------------------------------------------------------------
FINISH_CURRENT_RES_REQ:
{
  // 依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v2_1 )

  // 依頼達成フラグをセット
  $SCWK_TEMP0 = $v2_1
  _CALL SET_RES_REQ_ACHIEVE_FLAG

  // セーブデータをクリア
  _FINISH_RESEARCH()
}
_RET

//----------------------------------------------------------------------
// ◆指定した依頼の達成フラグをセットする
// ◇in SCWK_TEMP0 達成フラグをセットする依頼ID ( RESEARCH_REQ_ID_xxxx )
//----------------------------------------------------------------------
SET_RES_REQ_ACHIEVE_FLAG:
{
  SWITCH $SCWK_TEMP0
  CASE RESEARCH_REQ_ID_WB_count            THEN _FLAG_SET( FE_RES_REQ_WB_COUNT        ) //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN _FLAG_SET( FE_RES_REQ_WB_TIME         ) //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN _FLAG_SET( FE_RES_REQ_FIRST_POKE_COUNT) //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN _FLAG_SET( FE_RES_REQ_FIRST_POKE_TIME ) //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN _FLAG_SET( FE_RES_REQ_PLAY_TIME_COUNT ) //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN _FLAG_SET( FE_RES_REQ_PLAY_TIME_TIME  ) //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN _FLAG_SET( FE_RES_REQ_SEX_COUNT       ) //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN _FLAG_SET( FE_RES_REQ_SEX_TIME        ) //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN _FLAG_SET( FE_RES_REQ_JOB_COUNT       ) //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN _FLAG_SET( FE_RES_REQ_JOB_TIME        ) //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN _FLAG_SET( FE_RES_REQ_HOBBY_COUNT     ) //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN _FLAG_SET( FE_RES_REQ_HOBBY_TIME      ) //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN _FLAG_SET( FE_RES_REQ_BTL_OR_TRD_COUNT) //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN _FLAG_SET( FE_RES_REQ_BTL_OR_TRD_TIME ) //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN _FLAG_SET( FE_RES_REQ_FAV_POKE_COUNT  ) //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN _FLAG_SET( FE_RES_REQ_FAV_POKE_TIME   ) //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN _FLAG_SET( FE_RES_REQ_POKE_TYPE_COUNT ) //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN _FLAG_SET( FE_RES_REQ_POKE_TYPE_TIME  ) //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN _FLAG_SET( FE_RES_REQ_PLACE_COUNT     ) //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN _FLAG_SET( FE_RES_REQ_PLACE_TIME      ) //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN _FLAG_SET( FE_RES_REQ_PRECIOUS_COUNT  ) //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN _FLAG_SET( FE_RES_REQ_PRECIOUS_TIME   ) //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN _FLAG_SET( FE_RES_REQ_PARTNER_COUNT   ) //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN _FLAG_SET( FE_RES_REQ_PARTNER_TIME    ) //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN _FLAG_SET( FE_RES_REQ_SEASON_COUNT    ) //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN _FLAG_SET( FE_RES_REQ_SEASON_TIME     ) //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN _FLAG_SET( FE_RES_REQ_ART_COUNT       ) //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN _FLAG_SET( FE_RES_REQ_ART_TIME        ) //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN _FLAG_SET( FE_RES_REQ_MUSIC_COUNT     ) //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN _FLAG_SET( FE_RES_REQ_MUSIC_TIME      ) //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN _FLAG_SET( FE_RES_REQ_MOVIE_COUNT     ) //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN _FLAG_SET( FE_RES_REQ_MOVIE_TIME      ) //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN _FLAG_SET( FE_RES_REQ_SCHOOL_COUNT    ) //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN _FLAG_SET( FE_RES_REQ_SCHOOL_TIME     ) //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN _FLAG_SET( FE_RES_REQ_STUDY_COUNT     ) //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN _FLAG_SET( FE_RES_REQ_STUDY_TIME      ) //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN _FLAG_SET( FE_RES_REQ_STORTS_COUNT    ) //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN _FLAG_SET( FE_RES_REQ_STORTS_TIME     ) //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN _FLAG_SET( FE_RES_REQ_DAY_OFF_COUNT   )//「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN _FLAG_SET( FE_RES_REQ_DAY_OFF_TIME    )//「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN _FLAG_SET( FE_RES_REQ_DREAM_COUNT     )//「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN _FLAG_SET( FE_RES_REQ_DREAM_TIME      )//「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN _FLAG_SET( FE_RES_REQ_LEADER_COUNT    )//「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN _FLAG_SET( FE_RES_REQ_LEADER_TIME     )//「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN _FLAG_SET( FE_RES_REQ_FUN_COUNT       )//「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN _FLAG_SET( FE_RES_REQ_FUN_TIME        )//「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT _RET
  ENDSWITCH
}
_RET

//----------------------------------------------------------------------
// ◆隊員ランクを取得する
// ◇out SCWK_ANSWER 現在の隊員ランク
//----------------------------------------------------------------------
GET_RES_MEMBER_RANK:
{
  // v1_1 先頭の依頼達成フラグ
  // v1_2 末尾の依頼達成フラグ
  // v1_3 チェック対象フラグ
  // v1_4 達成した依頼の数
  // v1_5 隊員ランク
  // v1_6 チェック対象フラグの値

  $v1_1 = FE_RES_REQ_WB_COUNT
  $v1_2 = FE_RES_REQ_FUN_TIME
  $v1_3 = $v1_1
  $v1_4 = 0

  // 達成されている依頼の数をカウント
  WHILE $v1_3 <= $v1_2
    _FLAG_CHECK( v1_3, v1_6 )
    IF $v1_6 == TRUE THEN
      // 達成した依頼の数をインクリメント
      _ASM_ADD_WK v1_4, 1
    ENDIF
    // フラグをインクリメント
    _ASM_ADD_WK v1_3, 1
  ENDWHILE

  // 隊員ランクを決定
  IF $v1_4 < 4 THEN 
    $v1_5 = RESEARCH_MEMBER_RANK_C
  ELSIF $v1_4 < 10 THEN
    $v1_5 = RESEARCH_MEMBER_RANK_B
  ELSIF $v1_4 < 16 THEN
    $v1_5 = RESEARCH_MEMBER_RANK_A
  ELSIF $v1_4 < 20 THEN
    $v1_5 = RESEARCH_MEMBER_RANK_S
  ELSE
    $v1_5 = RESEARCH_MEMBER_RANK_SS
  ENDIF

  // 隊員ランクを返す
  $SCWK_ANSWER = $v1_5
}
_RET

//----------------------------------------------------------------------
// ◆達成した依頼の数を取得する
// ◇out SCWK_ANSWER 達成した依頼の数
//----------------------------------------------------------------------
GET_FINISH_RES_REQ_NUM:
{
  // v1_1 先頭の依頼達成フラグ
  // v1_2 末尾の依頼達成フラグ
  // v1_3 チェック対象のフラグ
  // v1_4 達成済みの依頼数

  $v1_1 = FE_RES_REQ_WB_COUNT
  $v1_2 = FE_RES_REQ_FUN_TIME
  $v1_3 = $v1_1
  $v1_4 = 0

  // 全フラグを見る
  WHILE $v1_3 <= $v1_2
    //--達成済みの依頼を発見--
    IF $v1_3 == FALSE THEN
      // 達成済みの依頼数をインクリメント
      _ASM_ADD_WK v1_4, 1
    ENDIF 
    // フラグをインクリメント
    _ASM_ADD_WK v1_3, 1
  ENDWHILE

  // 達成済みの依頼数を返す
  $SCWK_ANSWER = $v1_4
}
_RET

//----------------------------------------------------------------------
// ◆次のランクアップまでの残り依頼達成回数を取得する
// ◇out SCWK_ANSWER ランクアップまでの残り回数
//----------------------------------------------------------------------
GET_ACHIEVE_NUM_TO_RANKUP:
{
  // v2_1 現在の隊員ランク
  // v2_2 達成済みの数
  // v2_3 次のランクの必要数

  // 達成済みの依頼数を取得
  _CALL GET_FINISH_RES_REQ_NUM

  // 現在の隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK
  $v2_1 = $SCWK_ANSWER

  // 次のランクの必要達成数を決定
  SWITCH $v2_1
  CASE RESEARCH_MEMBER_RANK_C  THEN $v2_3 = 4
  CASE RESEARCH_MEMBER_RANK_B  THEN $v2_3 = 10
  CASE RESEARCH_MEMBER_RANK_A  THEN $v2_3 = 16
  CASE RESEARCH_MEMBER_RANK_S  THEN $v2_3 = 20 
  CASE RESEARCH_MEMBER_RANK_SS THEN $v2_3 = RESEARCH_REQ_ID_NUM
  ENDSWITCH

  // ランクアップまでの達成回数を返す
  _ASM_LDWK   SCWK_ANSWER, v2_3
  _ASM_SUB_WK SCWK_ANSWER, v2_2
}
_RET

//----------------------------------------------------------------------
// ◆受けている依頼について, ノルマ達成までの残り人数を取得する
// ◇out SCWK_TEMP0 質問1の残り人数
// ◇out SCWK_TEMP1 質問2の残り人数
// ◇out SCWK_TEMP2 質問3の残り人数
//----------------------------------------------------------------------
GET_RES_REQ_REST_NORM_COUNT:
{
  // v2_1 質問1の残り人数
  // v2_2 質問2の残り人数
  // v2_3 質問3の残り人数
  // v2_4 質問1のノルマ人数
  // v2_5 質問2のノルマ人数
  // v2_6 質問3のノルマ人数
  // v2_7 質問1の調査した人数
  // v2_8 質問2の調査した人数
  // v2_9 質問3の調査した人数

  // ノルマ人数を取得
  _GET_RESEARCH_REQUEST_ID( SCWK_TEMP0 ) 
  _CALL GET_RES_REQ_ABS_NORM_COUNT
  $v2_4 = $SCWK_TEMP1
  $v2_5 = $SCWK_TEMP2
  $v2_6 = $SCWK_TEMP3

  // 開始からの調査人数を算出
  _CALL GET_RES_REQ_RESEARCH_COUNT
  $v2_7 = $SCWK_TEMP0
  $v2_8 = $SCWK_TEMP1
  $v2_9 = $SCWK_TEMP2

  // 残り人数を算出
  _ASM_LDWK   v2_1, v2_4
  _ASM_LDWK   v2_2, v2_5
  _ASM_LDWK   v2_3, v2_6
  _ASM_SUB_WK v2_1, v2_7
  _ASM_SUB_WK v2_2, v2_8
  _ASM_SUB_WK v2_3, v2_9
  IF $v2_1 < 0 THEN 
  $v2_1 = 0 
  ENDIF
  IF $v2_2 < 0 THEN 
  $v2_2 = 0 
  ENDIF
  IF $v2_3 < 0 THEN 
  $v2_3 = 0 
  ENDIF

  // 残り人数を返す
  $SCWK_TEMP0 = $v2_1
  $SCWK_TEMP1 = $v2_2
  $SCWK_TEMP2 = $v2_3
}
_RET

//----------------------------------------------------------------------
// ◆受けている依頼について, ノルマ達成までの残り時間を取得する
// ◇out SCWK_TEMP0 質問1の残り時間
// ◇out SCWK_TEMP1 質問2の残り時間
// ◇out SCWK_TEMP2 質問3の残り時間
//----------------------------------------------------------------------
GET_RES_REQ_REST_NORM_TIME:
{
  // v2_1 質問1の残り時間
  // v2_2 質問2の残り時間
  // v2_3 質問3の残り時間
  // v2_4 質問1のノルマ時間
  // v2_5 質問2のノルマ時間
  // v2_6 質問3のノルマ時間
  // v2_7 調査した時間

  // ノルマ時間を取得
  _GET_RESEARCH_REQUEST_ID( SCWK_TEMP0 ) 
  _CALL GET_RES_REQ_ABS_NORM_TIME
  $v2_4 = $SCWK_TEMP1
  $v2_5 = $SCWK_TEMP2
  $v2_6 = $SCWK_TEMP3

  // 開始からの経過時間を取得
  _GET_RESEARCH_PASSED_TIME( v2_7 )

  // 残り時間を算出
  _ASM_LDWK   v2_1, v2_4
  _ASM_LDWK   v2_2, v2_5
  _ASM_LDWK   v2_3, v2_6
  _ASM_SUB_WK v2_1, v2_7 
  _ASM_SUB_WK v2_2, v2_7 
  _ASM_SUB_WK v2_3, v2_7 
  IF $v2_1 < 0 THEN 
    $v2_1 = 0 
  ENDIF
  IF $v2_2 < 0 THEN 
    $v2_2 = 0 
  ENDIF
  IF $v2_3 < 0 THEN 
    $v2_3 = 0 
  ENDIF

  // 残り時間を返す
  $SCWK_TEMP0 = $v2_1
  $SCWK_TEMP1 = $v2_2
  $SCWK_TEMP2 = $v2_3
}
_RET

//----------------------------------------------------------------------
// ◆指定した依頼について, すでに達成済みかどうかを事前にチェックする
// ◇in  SCWK_TEMP0  チェックする調査依頼ID
// ◇out SCWK_ANSWER 達成済みの場合 TRUE, そうでなければ FALSE
//----------------------------------------------------------------------
CHECK_RES_REQ_ALREADY_ARCHIEVE:
{
  // v2_1 調査依頼ID
  // v2_2 質問ID1
  // v2_3 質問ID2
  // v2_4 質問ID3
  // v2_5 質問に対する, いままでの調査人数

  $v2_1 = $SCWK_TEMP0

  // 調査する質問IDを取得
  $SCWK_TEMP0 = $v2_1
  _CALL GET_RES_REQ_QUESTION_ID
  $v2_2 = $SCWK_TEMP1
  $v2_3 = $SCWK_TEMP2
  $v2_4 = $SCWK_TEMP3

  // 質問1
  IF $v2_2 != QUESTION_ID_DUMMY THEN
    // いままでの調査人数を取得
    _GET_TOTAL_COUNT_OF_QUESTION( v2_2, v2_5 )
    // いままでの調査人数がMAX値になっていない
    IF $v2_5 < 9999 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
  ENDIF

  // 質問2
  IF $v2_3 != QUESTION_ID_DUMMY THEN
    // いままでの調査人数を取得
    _GET_TOTAL_COUNT_OF_QUESTION( v2_3, v2_5 )
    // いままでの調査人数がMAX値になっていない
    IF $v2_5 < 9999 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
  ENDIF

  // 質問3
  IF $v2_4 != QUESTION_ID_DUMMY THEN
    // いままでの調査人数を取得
    _GET_TOTAL_COUNT_OF_QUESTION( v2_4, v2_5 )
    // いままでの調査人数がMAX値になっていない
    IF $v2_5 < 9999 THEN
      $SCWK_ANSWER = FALSE
      _RET
    ENDIF
  ENDIF

  // すでに達成済み
  $SCWK_ANSWER = TRUE
}
_RET

//----------------------------------------------------------------------
// ◆調査中の依頼の質問数を取得する
// ◇out SCWK_ANSWER 調査中の依頼の質問の数
//----------------------------------------------------------------------
GET_RES_REQ_QUESTION_NUM:
{
  // v1_1 調査中の依頼ID

  // 調査依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v1_1 )

  // 依頼IDごとの質問数を返す
  SWITCH $v1_1
  CASE RESEARCH_REQ_ID_WB_count            THEN $SCWK_ANSWER = 1 //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN $SCWK_ANSWER = 1 //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $SCWK_ANSWER = 1 //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN $SCWK_ANSWER = 1 //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $SCWK_ANSWER = 1 //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN $SCWK_ANSWER = 1 //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $SCWK_ANSWER = 1 //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN $SCWK_ANSWER = 1 //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $SCWK_ANSWER = 1 //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN $SCWK_ANSWER = 1 //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $SCWK_ANSWER = 1 //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN $SCWK_ANSWER = 1 //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $SCWK_ANSWER = 1 //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN $SCWK_ANSWER = 1 //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $SCWK_ANSWER = 1 //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN $SCWK_ANSWER = 1 //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $SCWK_ANSWER = 1 //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN $SCWK_ANSWER = 1 //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $SCWK_ANSWER = 1 //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN $SCWK_ANSWER = 1 //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $SCWK_ANSWER = 2 //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN $SCWK_ANSWER = 2 //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $SCWK_ANSWER = 2 //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN $SCWK_ANSWER = 2 //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $SCWK_ANSWER = 1 //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN $SCWK_ANSWER = 1 //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $SCWK_ANSWER = 2 //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN $SCWK_ANSWER = 2 //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $SCWK_ANSWER = 1 //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN $SCWK_ANSWER = 1 //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $SCWK_ANSWER = 2 //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN $SCWK_ANSWER = 2 //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $SCWK_ANSWER = 1 //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN $SCWK_ANSWER = 1 //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $SCWK_ANSWER = 2 //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN $SCWK_ANSWER = 2 //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $SCWK_ANSWER = 1 //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN $SCWK_ANSWER = 1 //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $SCWK_ANSWER = 2 //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN $SCWK_ANSWER = 2 //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $SCWK_ANSWER = 1 //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN $SCWK_ANSWER = 1 //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $SCWK_ANSWER = 1 //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN $SCWK_ANSWER = 1 //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $SCWK_ANSWER = 1 //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN $SCWK_ANSWER = 1 //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT $SCWK_ANSWER = 0
  ENDSWITCH 
}
_RET 

//----------------------------------------------------------------------
// ◆指定した調査依頼のノルマ人数を取得する
// ◇in  SCWK_TEMP0 ノルマを取得する調査依頼ID ( RESEARCH_REQ_ID_xxxx )
// ◇out SCWK_TEMP1 依頼内質問番号1のノルマ人数
// ◇out SCWK_TEMP2 依頼内質問番号2のノルマ人数
// ◇out SCWK_TEMP3 依頼内質問番号3のノルマ人数
//----------------------------------------------------------------------
GET_RES_REQ_ABS_NORM_COUNT:
{
  $SCWK_TEMP1 = 0
  $SCWK_TEMP2 = 0
  $SCWK_TEMP3 = 0

  SWITCH $SCWK_TEMP0
  CASE RESEARCH_REQ_ID_WB_count             THEN $SCWK_TEMP1 = 5  //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time              THEN $SCWK_TEMP1 = 1  //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count     THEN $SCWK_TEMP1 = 5  //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time      THEN $SCWK_TEMP1 = 1  //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count      THEN $SCWK_TEMP1 = 10 //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time       THEN $SCWK_TEMP1 = 1  //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count            THEN $SCWK_TEMP1 = 10 //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time             THEN $SCWK_TEMP1 = 1  //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count            THEN $SCWK_TEMP1 = 10 //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time             THEN $SCWK_TEMP1 = 1  //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count          THEN $SCWK_TEMP1 = 10 //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time           THEN $SCWK_TEMP1 = 1  //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count     THEN $SCWK_TEMP1 = 20 //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time      THEN $SCWK_TEMP1 = 1  //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count  THEN $SCWK_TEMP1 = 20 //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time   THEN $SCWK_TEMP1 = 1  //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count      THEN $SCWK_TEMP1 = 20 //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time       THEN $SCWK_TEMP1 = 1  //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count          THEN $SCWK_TEMP1 = 20 //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time           THEN $SCWK_TEMP1 = 1  //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count THEN //「だいじにしているものに　ついて」( 人数 )
    $SCWK_TEMP1 = 30
    $SCWK_TEMP2 = 30
  CASE RESEARCH_REQ_ID_PRECIOUS_time THEN //「だいじにしているものに　ついて」( 時間 )
    $SCWK_TEMP1 = 1
    $SCWK_TEMP2 = 1
  CASE RESEARCH_REQ_ID_PARTNER_count THEN //「ひとのみりょくに　ついて」( 人数 )
    $SCWK_TEMP1 = 30
    $SCWK_TEMP2 = 30
  CASE RESEARCH_REQ_ID_PARTNER_time THEN //「ひとのみりょくに　ついて」( 時間 )
    $SCWK_TEMP1 = 1
    $SCWK_TEMP2 = 1
  CASE RESEARCH_REQ_ID_SEASON_count THEN $SCWK_TEMP1 = 30 //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time  THEN $SCWK_TEMP1 = 1  //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count THEN //「げいじゅつに　ついて」( 人数 )
    $SCWK_TEMP1 = 30
    $SCWK_TEMP2 = 30
  CASE RESEARCH_REQ_ID_ART_time THEN //「げいじゅつに　ついて」( 時間 )
    $SCWK_TEMP1 = 1
    $SCWK_TEMP2 = 1
  CASE RESEARCH_REQ_ID_MUSIC_count THEN $SCWK_TEMP1 = 40 //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time  THEN $SCWK_TEMP1 = 1  //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count THEN //「えいぞうに　ついて」( 人数 )
    $SCWK_TEMP1 = 40
    $SCWK_TEMP2 = 40
  CASE RESEARCH_REQ_ID_MOVIE_time THEN //「えいぞうに　ついて」( 時間 )
    $SCWK_TEMP1 = 1
    $SCWK_TEMP2 = 1
  CASE RESEARCH_REQ_ID_SCHOOL_count THEN $SCWK_TEMP1 = 40 //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time  THEN $SCWK_TEMP1 = 1  //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count THEN //「べんきょうに　ついて」( 人数 )
    $SCWK_TEMP1 = 40
    $SCWK_TEMP2 = 40
  CASE RESEARCH_REQ_ID_STUDY_time THEN //「べんきょうに　ついて」( 時間 )
    $SCWK_TEMP1 = 1
    $SCWK_TEMP2 = 1
  CASE RESEARCH_REQ_ID_STORTS_count     THEN $SCWK_TEMP1 = 50  //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time      THEN $SCWK_TEMP1 = 1   //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count    THEN $SCWK_TEMP1 = 50  //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time     THEN $SCWK_TEMP1 = 1   //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count      THEN $SCWK_TEMP1 = 50  //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time       THEN $SCWK_TEMP1 = 1   //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count THEN $SCWK_TEMP1 = 50  //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time  THEN $SCWK_TEMP1 = 1   //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count        THEN $SCWK_TEMP1 = 100 //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time         THEN $SCWK_TEMP1 = 1   //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT
    $SCWK_TEMP1 = 0
    $SCWK_TEMP2 = 0
    $SCWK_TEMP3 = 0
  ENDSWITCH 
}
_RET 

//----------------------------------------------------------------------
// ◆指定した調査依頼のノルマ時間[h]を取得する
// ◇in  SCWK_TEMP0 ノルマを取得する調査依頼ID ( RESEARCH_REQ_ID_xxxx )
// ◇out SCWK_TEMP1 質問1のノルマ時間[h]
// ◇out SCWK_TEMP2 質問2のノルマ時間[h]
// ◇out SCWK_TEMP3 質問3のノルマ時間[h]
//----------------------------------------------------------------------
GET_RES_REQ_ABS_NORM_TIME:
{
  SWITCH $SCWK_TEMP0
  CASE RESEARCH_REQ_ID_WB_count            THEN $SCWK_TEMP1 = 0  //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN $SCWK_TEMP1 = 2  //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $SCWK_TEMP1 = 0  //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN $SCWK_TEMP1 = 2  //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $SCWK_TEMP1 = 0  //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN $SCWK_TEMP1 = 4  //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $SCWK_TEMP1 = 0  //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN $SCWK_TEMP1 = 4  //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $SCWK_TEMP1 = 0  //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN $SCWK_TEMP1 = 4  //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $SCWK_TEMP1 = 0  //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN $SCWK_TEMP1 = 4  //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $SCWK_TEMP1 = 0  //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN $SCWK_TEMP1 = 8  //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $SCWK_TEMP1 = 0  //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN $SCWK_TEMP1 = 8  //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $SCWK_TEMP1 = 0  //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN $SCWK_TEMP1 = 8  //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $SCWK_TEMP1 = 0  //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN $SCWK_TEMP1 = 8  //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $SCWK_TEMP1 = 0  //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN $SCWK_TEMP1 = 12 //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $SCWK_TEMP1 = 0  //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN $SCWK_TEMP1 = 12 //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $SCWK_TEMP1 = 0  //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN $SCWK_TEMP1 = 12 //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $SCWK_TEMP1 = 0  //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN $SCWK_TEMP1 = 12 //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $SCWK_TEMP1 = 0  //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN $SCWK_TEMP1 = 16 //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $SCWK_TEMP1 = 0  //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN $SCWK_TEMP1 = 16 //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $SCWK_TEMP1 = 0  //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN $SCWK_TEMP1 = 16 //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $SCWK_TEMP1 = 0  //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN $SCWK_TEMP1 = 16 //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $SCWK_TEMP1 = 0  //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN $SCWK_TEMP1 = 20 //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $SCWK_TEMP1 = 0  //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN $SCWK_TEMP1 = 20 //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $SCWK_TEMP1 = 0  //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN $SCWK_TEMP1 = 20 //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $SCWK_TEMP1 = 0  //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN $SCWK_TEMP1 = 24 //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $SCWK_TEMP1 = 0  //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN $SCWK_TEMP1 = 24 //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT                                       $SCWK_TEMP1 = 0
  ENDSWITCH 

  // 3つとも同じノルマ時間
  $SCWK_TEMP2 = $SCWK_TEMP1
  $SCWK_TEMP3 = $SCWK_TEMP1
}
_RET 

//----------------------------------------------------------------------
// ◆指定した依頼に該当する質問IDを取得する
// ◇in  SCWK_TEMP0 調査依頼ID ( RESEARCH_REQ_ID_xxxx )
// ◇out SCWK_TEMP1 質問ID1 ( QUESTION_ID_xxxx, 存在しない場合, QUESTION_ID_DUMMY )
// ◇out SCWK_TEMP2 質問ID2 ( QUESTION_ID_xxxx, 存在しない場合, QUESTION_ID_DUMMY ) 
// ◇out SCWK_TEMP3 質問ID3 ( QUESTION_ID_xxxx, 存在しない場合, QUESTION_ID_DUMMY ) 
//----------------------------------------------------------------------
GET_RES_REQ_QUESTION_ID:
{
  SWITCH $SCWK_TEMP0
  CASE RESEARCH_REQ_ID_WB_count, RESEARCH_REQ_ID_WB_time THEN //「ブラックと　ホワイト　おおいのは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_WB
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_FIRST_POKE_count, RESEARCH_REQ_ID_FIRST_POKE_time THEN //「えらんだ　さいしょのポケモンは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_FIRST_POKEMON
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_PLAY_TIME_count, RESEARCH_REQ_ID_PLAY_TIME_time THEN //「いちばんおおい　プレイじかんは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_PLAY_TIME
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_SEX_count, RESEARCH_REQ_ID_SEX_time THEN //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_SEX
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_JOB_count, RESEARCH_REQ_ID_JOB_time THEN //「いちばんおおい　しごとは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_JOB
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_HOBBY_count, RESEARCH_REQ_ID_HOBBY_time THEN //「いちばんおおい　しゅみは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_HOBBY
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count, RESEARCH_REQ_ID_BTL_OR_TRD_time THEN //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_FUN
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count, RESEARCH_REQ_ID_FAVORITE_POKE_time THEN //「すきな　ポケモンは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_FAVORITE_POKEMON
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_POKE_TYPE_count, RESEARCH_REQ_ID_POKE_TYPE_time THEN //「すきな　ポケモンのタイプは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_POKEMON_TYPE
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_PLACE_count, RESEARCH_REQ_ID_PLACE_time THEN //「とかいと　いなか　すみたいのは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_PLACE
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_PRECIOUS_count, RESEARCH_REQ_ID_PRECIOUS_time THEN //「だいじにしているものに　ついて」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_WANT
    $SCWK_TEMP2 = QUESTION_ID_PRECIOUS
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_PARTNER_count, RESEARCH_REQ_ID_PARTNER_time THEN //「ひとのみりょくに　ついて」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_PARTNER
    $SCWK_TEMP2 = QUESTION_REQUIREMENT
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_SEASON_count, RESEARCH_REQ_ID_SEASON_time THEN //「きせつに　ついて」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_SEASON
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_ART_count, RESEARCH_REQ_ID_ART_time THEN //「げいじゅつに　ついて」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_COLOR
    $SCWK_TEMP2 = QUESTION_ID_MUSIC
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_MUSIC_count, RESEARCH_REQ_ID_MUSIC_time THEN //「いちばんすきな　おんがくは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_MUSIC
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_MOVIE_count, RESEARCH_REQ_ID_MOVIE_time THEN //「えいぞうに　ついて」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_TV
    $SCWK_TEMP2 = QUESTION_ID_MOVIE
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_SCHOOL_count, RESEARCH_REQ_ID_SCHOOL_time THEN //「いちばんすきな　がっこうのじかんは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_FAVORITE_CLASS
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_STUDY_count, RESEARCH_REQ_ID_STUDY_time THEN //「べんきょうに　ついて」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_STRONG_CLASS
    $SCWK_TEMP2 = QUESTION_ID_WEAK_CLASS
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_STORTS_count, RESEARCH_REQ_ID_STORTS_time THEN //「いちばんにんきのある　スポーツは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_SPORTS
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_DAY_OFF_count, RESEARCH_REQ_ID_DAY_OFF_time THEN //「きゅうじつに　ついて」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_DAY_OFF
    $SCWK_TEMP2 = QUESTION_ID_PLAY_SPOT
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_DREAM_count, RESEARCH_REQ_ID_DREAM_time THEN //「いちばんなりたいものは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_DREAM
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_GYM_LEADER_count, RESEARCH_REQ_ID_GYM_LEADER_time THEN //「いちばんにんきのある　ジムリーダーは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_GYM_LEADER
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  CASE RESEARCH_REQ_ID_FUN_count, RESEARCH_REQ_ID_FUN_time THEN //「ポケモンのおもしろいところは？」( 時間 )
    $SCWK_TEMP1 = QUESTION_ID_POKEMON
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  DEFAULT
    $SCWK_TEMP1 = QUESTION_ID_DUMMY
    $SCWK_TEMP2 = QUESTION_ID_DUMMY
    $SCWK_TEMP3 = QUESTION_ID_DUMMY
  ENDSWITCH 
}
_RET

//----------------------------------------------------------------------
// ◆調査中の依頼に関して, 調査を開始してからの調査人数を取得する
// ◇out SCWK_TEMP0 質問1の, 調査開始からの調査人数
// ◇out SCWK_TEMP1 質問2の, 調査開始からの調査人数
// ◇out SCWK_TEMP2 質問3の, 調査開始からの調査人数
//----------------------------------------------------------------------
GET_RES_REQ_RESEARCH_COUNT:
{
  // v1_1 調査依頼ID
  // v1_2 質問1のID
  // v1_3 質問2のID
  // v1_4 質問3のID
  // v1_5 調査した人数
  // v1_6 開始時の人数
  // v1_7 現在の人数

  // 受けている調査依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v1_1 ) 

  // 質問IDを取得
  _GET_RESEARCH_QUESTION_ID( v1_2, v1_3, v1_4 )

  // 質問1
  {
    // 開始からの調査人数を算出
    _GET_START_COUNT_OF_QUESTION( v1_2, v1_6 )
    _GET_TOTAL_COUNT_OF_QUESTION( v1_2, v1_7 )
    _ASM_LDWK   v1_5, v1_7
    _ASM_SUB_WK v1_5, v1_6

    // 調査した人数を返す
    $SCWK_TEMP0 = $v1_5
  }

  // 質問2
  {
    // 開始からの調査人数を算出
    _GET_START_COUNT_OF_QUESTION( v1_3, v1_6 )
    _GET_TOTAL_COUNT_OF_QUESTION( v1_3, v1_7 )
    _ASM_LDWK   v1_5, v1_7
    _ASM_SUB_WK v1_5, v1_6

    // 調査した人数を返す
    $SCWK_TEMP1 = $v1_5
  }

  // 質問2
  {
    // 開始からの調査人数を算出
    _GET_START_COUNT_OF_QUESTION( v1_4, v1_6 )
    _GET_TOTAL_COUNT_OF_QUESTION( v1_4, v1_7 )
    _ASM_LDWK   v1_5, v1_7
    _ASM_SUB_WK v1_5, v1_6

    // 調査した人数を返す
    $SCWK_TEMP2 = $v1_5
  }
}
_RET

//----------------------------------------------------------------------
// ◆調査中の依頼のタイプ ( 人数 or 時間 ) を取得する
// ◇out SCWK_ANSWER 調査中の依頼のタイプ ( RESEARCH_REQ_TYPE_xxxx )
//----------------------------------------------------------------------
GET_RES_REQ_TYPE:
{ 
  // v1_1 調査依頼ID
  
  // 調査中の依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v1_1 )

  // 調査タイプを判別
  SWITCH $v1_1
  CASE RESEARCH_REQ_ID_WB_count            THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN $SCWK_ANSWER = RESEARCH_REQ_TYPE_TIME  //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT                                       $SCWK_ANSWER = RESEARCH_REQ_TYPE_COUNT
  ENDSWITCH 
}
_RET

//----------------------------------------------------------------------
// ◆全ての調査依頼が達成されているかどうかをチェックする
// ◇out SCWK_ANSWER 全ての調査依頼が達成されている場合 TRUE
//----------------------------------------------------------------------
CHECK_RES_REQ_COMPLETE:
{
  // v1_1 先頭の依頼達成フラグ
  // v1_2 末尾の依頼達成フラグ
  // v1_3 チェック対象のフラグ
  // v1_4 フラグの値

  $v1_1 = FE_RES_REQ_WB_COUNT
  $v1_2 = FE_RES_REQ_FUN_TIME
  $v1_3 = $v1_1

  // 全フラグを見る
  WHILE $v1_3 <= $v1_2
    _FLAG_CHECK( v1_3, v1_4 )
    // 達成されていない依頼を発見
    IF $v1_4 == FALSE THEN
      $SCWK_ANSWER = FALSE 
      _RET
    ENDIF
    _ASM_ADD_WK v1_3, 1 // フラグをインクリメント
  ENDWHILE

  // すべての依頼が達成されている
  $SCWK_ANSWER = TRUE
}
_RET

//----------------------------------------------------------------------
// ◆依頼を受けているかどうかをチェックする
// ◇out SCWK_ANSWER 依頼を受けている場合 TRUE
//----------------------------------------------------------------------
CHECK_RES_REQ_EXIST:
{
  // v1_1 調査中の依頼ID

  // 調査中の依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v1_1 )

  IF $v1_1 == RESEARCH_REQ_ID_NONE THEN
    $SCWK_ANSWER = FALSE // 受けていない
  ELSE
    $SCWK_ANSWER = TRUE // 受けている
  ENDIF
}
_RET

//----------------------------------------------------------------------
// ◆メインメニューを表示する
// ◇out SCWK_ANSWER 選択した項目のメッセージID
//----------------------------------------------------------------------
MAIN_MENU:
{
  _BMPMENU_INIT_EX( MENU_X1, MENU_Y1, 0, 1, SCWK_ANSWER )
  _BMPMENU_MAKE_LIST( msg_c03r0101__choice_01a, msg_c03r0101__choice_01a ) //「いらいをうける」
  _BMPMENU_MAKE_LIST( msg_c03r0101__choice_01b, msg_c03r0101__choice_01b ) //「いらいのほうこく」
  _BMPMENU_MAKE_LIST( msg_c03r0101__choice_01c, msg_c03r0101__choice_01c ) //「なんでもないです」
  _BMPMENU_START()
}
_RET 

//----------------------------------------------------------------------
// ◆調査タイプメニューを表示する
// ◇out SCWK_ANSWER 選択した調査タイプ ( RESEARCH_REQ_TYPE_xxxx )
//----------------------------------------------------------------------
RES_TYPE_MENU:
{
  _BMPMENU_INIT_EX( MENU_X1, MENU_Y1, 0, 1, SCWK_ANSWER )
  _BMPMENU_MAKE_LIST( msg_c03r0101__choice_02b, RESEARCH_REQ_TYPE_COUNT ) //『にんずうちょうさ』
  _BMPMENU_MAKE_LIST( msg_c03r0101__choice_02a, RESEARCH_REQ_TYPE_TIME )  //『じかんちょうさ』
  _BMPMENU_MAKE_LIST( msg_c03r0101__choice_02c, RESEARCH_REQ_TYPE_NUM )   //『やめる』
  _BMPMENU_START()
}
_RET

//----------------------------------------------------------------------
// ◆調査依頼メニューを表示する
// ◇in  SCWK_TEMP0  調査タイプ ( RESEARCH_REQ_TYPE_xxxx )
// ◇in  SCWK_TEMP1  隊員ランク ( RESEARCH_MEMBER_RANK_xxxx )
// ◇out SCWK_ANSWER 選択した調査依頼ID ( RESEARCH_REQ_ID_xxxx )
//----------------------------------------------------------------------
RES_REQ_MENU:
{
  DEFINE_LOCAL flag

  _BMPMENU_INIT_EX( MENU_X1, MENU_Y1, 0, 1, SCWK_ANSWER )

  // メニューリストを作成
  SWITCH $SCWK_TEMP0
  CASE RESEARCH_REQ_TYPE_COUNT THEN //==人数調査==
    //--隊員ランク C 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_C THEN 
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03a, RESEARCH_REQ_ID_WB_count )         //「ブラックと　ホワイト　おおいのは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03b, RESEARCH_REQ_ID_FIRST_POKE_count ) //「えらんだ　さいしょのポケモンは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03c, RESEARCH_REQ_ID_PLAY_TIME_count )  //「いちばんおおい　プレイじかんは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03d, RESEARCH_REQ_ID_SEX_count )        //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
    ENDIF
    //--隊員ランク B 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_B THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03e, RESEARCH_REQ_ID_JOB_count )           //「いちばんおおい　しごとは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03f, RESEARCH_REQ_ID_HOBBY_count )         //「いちばんおおい　しゅみは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03g, RESEARCH_REQ_ID_BTL_OR_TRD_count )    //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03h, RESEARCH_REQ_ID_FAVORITE_POKE_count ) //「すきな　ポケモンは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03i, RESEARCH_REQ_ID_POKE_TYPE_count )     //「すきな　ポケモンのタイプは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03j, RESEARCH_REQ_ID_PLACE_count )         //「とかいと　いなか　すみたいのは？」( 人数 )
    ENDIF
    //--隊員ランク A 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_A THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03k, RESEARCH_REQ_ID_PRECIOUS_count ) //「だいじにしているものに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03l, RESEARCH_REQ_ID_PARTNER_count )  //「ひとのみりょくに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03m, RESEARCH_REQ_ID_SEASON_count )   //「きせつに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03n, RESEARCH_REQ_ID_ART_count )      //「げいじゅつに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03o, RESEARCH_REQ_ID_MUSIC_count )    //「いちばんすきな　おんがくは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03p, RESEARCH_REQ_ID_MOVIE_count )    //「えいぞうに　ついて」( 人数 )
    ENDIF
    //--隊員ランク S 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_S THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03q, RESEARCH_REQ_ID_SCHOOL_count )  //「いちばんすきな　がっこうのじかんは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03r, RESEARCH_REQ_ID_STUDY_count )   //「べんきょうに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03s, RESEARCH_REQ_ID_STORTS_count )  //「いちばんにんきのある　スポーツは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03t, RESEARCH_REQ_ID_DAY_OFF_count ) //「きゅうじつに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03u, RESEARCH_REQ_ID_DREAM_count )   //「いちばんなりたいものは？」( 人数 )
    ENDIF
    //--隊員ランク SS 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_SS THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03v, RESEARCH_REQ_ID_GYM_LEADER_count ) //「いちばんにんきのある　ジムリーダーは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03w, RESEARCH_REQ_ID_FUN_count )        //「ポケモンのおもしろいところは？」( 人数 )
    ENDIF

  CASE RESEARCH_REQ_TYPE_TIME THEN //==時間調査==
    //--隊員ランク C 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_C THEN 
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03a, RESEARCH_REQ_ID_WB_time )         //「ブラックと　ホワイト　おおいのは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03b, RESEARCH_REQ_ID_FIRST_POKE_time ) //「えらんだ　さいしょのポケモンは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03c, RESEARCH_REQ_ID_PLAY_TIME_time )  //「いちばんおおい　プレイじかんは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03d, RESEARCH_REQ_ID_SEX_time )        //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
    ENDIF
    //--隊員ランク B 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_B THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03e, RESEARCH_REQ_ID_JOB_time )           //「いちばんおおい　しごとは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03f, RESEARCH_REQ_ID_HOBBY_time )         //「いちばんおおい　しゅみは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03g, RESEARCH_REQ_ID_BTL_OR_TRD_time )    //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03h, RESEARCH_REQ_ID_FAVORITE_POKE_time ) //「すきな　ポケモンは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03i, RESEARCH_REQ_ID_POKE_TYPE_time )     //「すきな　ポケモンのタイプは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03j, RESEARCH_REQ_ID_PLACE_time )         //「とかいと　いなか　すみたいのは？」( 人数 )
    ENDIF
    //--隊員ランク A 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_A THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03k, RESEARCH_REQ_ID_PRECIOUS_time ) //「だいじにしているものに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03l, RESEARCH_REQ_ID_PARTNER_time )  //「ひとのみりょくに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03m, RESEARCH_REQ_ID_SEASON_time )   //「きせつに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03n, RESEARCH_REQ_ID_ART_time )      //「げいじゅつに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03o, RESEARCH_REQ_ID_MUSIC_time )    //「いちばんすきな　おんがくは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03p, RESEARCH_REQ_ID_MOVIE_time )    //「えいぞうに　ついて」( 人数 )
    ENDIF
    //--隊員ランク S 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_S THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03q, RESEARCH_REQ_ID_SCHOOL_time )  //「いちばんすきな　がっこうのじかんは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03r, RESEARCH_REQ_ID_STUDY_time )   //「べんきょうに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03s, RESEARCH_REQ_ID_STORTS_time )  //「いちばんにんきのある　スポーツは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03t, RESEARCH_REQ_ID_DAY_OFF_time ) //「きゅうじつに　ついて」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03u, RESEARCH_REQ_ID_DREAM_time )   //「いちばんなりたいものは？」( 人数 )
    ENDIF
    //--隊員ランク SS 以上--
    IF $SCWK_TEMP1 >= RESEARCH_MEMBER_RANK_SS THEN
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03v, RESEARCH_REQ_ID_GYM_LEADER_time ) //「いちばんにんきのある　ジムリーダーは？」( 人数 )
      _BMPMENU_MAKE_LIST( msg_c03r0101__choice_03w, RESEARCH_REQ_ID_FUN_time )        //「ポケモンのおもしろいところは？」( 人数 )
    ENDIF 
  ENDSWITCH

  // メニューを表示
  _BMPMENU_START()
}
_RET

//----------------------------------------------------------------------
// ◆システム「調査を隊長に報告した！」
//----------------------------------------------------------------------
SYSTEM_MSG_REPORT_RESULT:
{
  // v1_1 調査中の依頼ID
  // v1_2 メッセージID

  // 調査依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v1_1 )

  // メッセージを選択
  SWITCH $v1_1
  CASE RESEARCH_REQ_ID_WB_count            THEN $v1_2 = msg_c03r0101_assistantm_01_23a //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN $v1_2 = msg_c03r0101_assistantm_01_23a //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $v1_2 = msg_c03r0101_assistantm_01_23b //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN $v1_2 = msg_c03r0101_assistantm_01_23b //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $v1_2 = msg_c03r0101_assistantm_01_23c //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN $v1_2 = msg_c03r0101_assistantm_01_23c //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $v1_2 = msg_c03r0101_assistantm_01_23d //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN $v1_2 = msg_c03r0101_assistantm_01_23d //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $v1_2 = msg_c03r0101_assistantm_01_23e //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN $v1_2 = msg_c03r0101_assistantm_01_23e //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $v1_2 = msg_c03r0101_assistantm_01_23f //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN $v1_2 = msg_c03r0101_assistantm_01_23f //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $v1_2 = msg_c03r0101_assistantm_01_23g //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN $v1_2 = msg_c03r0101_assistantm_01_23g //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $v1_2 = msg_c03r0101_assistantm_01_23h //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN $v1_2 = msg_c03r0101_assistantm_01_23h //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $v1_2 = msg_c03r0101_assistantm_01_23i //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN $v1_2 = msg_c03r0101_assistantm_01_23i //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $v1_2 = msg_c03r0101_assistantm_01_23j //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN $v1_2 = msg_c03r0101_assistantm_01_23j //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $v1_2 = msg_c03r0101_assistantm_01_23k //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN $v1_2 = msg_c03r0101_assistantm_01_23k //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $v1_2 = msg_c03r0101_assistantm_01_23l //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN $v1_2 = msg_c03r0101_assistantm_01_23l //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $v1_2 = msg_c03r0101_assistantm_01_23m //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN $v1_2 = msg_c03r0101_assistantm_01_23m //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $v1_2 = msg_c03r0101_assistantm_01_23n //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN $v1_2 = msg_c03r0101_assistantm_01_23n //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $v1_2 = msg_c03r0101_assistantm_01_23o //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN $v1_2 = msg_c03r0101_assistantm_01_23o //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $v1_2 = msg_c03r0101_assistantm_01_23p //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN $v1_2 = msg_c03r0101_assistantm_01_23p //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $v1_2 = msg_c03r0101_assistantm_01_23q //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN $v1_2 = msg_c03r0101_assistantm_01_23q //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $v1_2 = msg_c03r0101_assistantm_01_23r //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN $v1_2 = msg_c03r0101_assistantm_01_23r //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $v1_2 = msg_c03r0101_assistantm_01_23s //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN $v1_2 = msg_c03r0101_assistantm_01_23s //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $v1_2 = msg_c03r0101_assistantm_01_23t //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN $v1_2 = msg_c03r0101_assistantm_01_23t //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $v1_2 = msg_c03r0101_assistantm_01_23u //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN $v1_2 = msg_c03r0101_assistantm_01_23u //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $v1_2 = msg_c03r0101_assistantm_01_23v //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN $v1_2 = msg_c03r0101_assistantm_01_23v //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $v1_2 = msg_c03r0101_assistantm_01_23w //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN $v1_2 = msg_c03r0101_assistantm_01_23w //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT _RET
  ENDSWITCH

  // メッセージを表示
  _SYSWIN_MSG( v1_2, POS_DEFAULT )
  _SYSWIN_CLOSE()
}
_RET

//----------------------------------------------------------------------
// ◆システム「調査依頼を受けた！」
//----------------------------------------------------------------------
SYSTEM_MSG_RECEIVE_REQUEST:
{
  // v1_1 調査中の依頼ID
  // v1_2 メッセージID

  // 調査依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v1_1 )

  // メッセージを選択
  SWITCH $v1_1
  CASE RESEARCH_REQ_ID_WB_count            THEN $v1_2 = msg_c03r0101_assistantm_01_16a //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN $v1_2 = msg_c03r0101_assistantm_01_16a //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $v1_2 = msg_c03r0101_assistantm_01_16b //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN $v1_2 = msg_c03r0101_assistantm_01_16b //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $v1_2 = msg_c03r0101_assistantm_01_16c //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN $v1_2 = msg_c03r0101_assistantm_01_16c //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $v1_2 = msg_c03r0101_assistantm_01_16d //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN $v1_2 = msg_c03r0101_assistantm_01_16d //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $v1_2 = msg_c03r0101_assistantm_01_16e //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN $v1_2 = msg_c03r0101_assistantm_01_16e //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $v1_2 = msg_c03r0101_assistantm_01_16f //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN $v1_2 = msg_c03r0101_assistantm_01_16f //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $v1_2 = msg_c03r0101_assistantm_01_16g //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN $v1_2 = msg_c03r0101_assistantm_01_16g //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $v1_2 = msg_c03r0101_assistantm_01_16h //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN $v1_2 = msg_c03r0101_assistantm_01_16h //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $v1_2 = msg_c03r0101_assistantm_01_16i //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN $v1_2 = msg_c03r0101_assistantm_01_16i //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $v1_2 = msg_c03r0101_assistantm_01_16j //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN $v1_2 = msg_c03r0101_assistantm_01_16j //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $v1_2 = msg_c03r0101_assistantm_01_16k //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN $v1_2 = msg_c03r0101_assistantm_01_16k //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $v1_2 = msg_c03r0101_assistantm_01_16l //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN $v1_2 = msg_c03r0101_assistantm_01_16l //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $v1_2 = msg_c03r0101_assistantm_01_16m //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN $v1_2 = msg_c03r0101_assistantm_01_16m //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $v1_2 = msg_c03r0101_assistantm_01_16n //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN $v1_2 = msg_c03r0101_assistantm_01_16n //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $v1_2 = msg_c03r0101_assistantm_01_16o //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN $v1_2 = msg_c03r0101_assistantm_01_16o //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $v1_2 = msg_c03r0101_assistantm_01_16p //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN $v1_2 = msg_c03r0101_assistantm_01_16p //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $v1_2 = msg_c03r0101_assistantm_01_16q //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN $v1_2 = msg_c03r0101_assistantm_01_16q //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $v1_2 = msg_c03r0101_assistantm_01_16r //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN $v1_2 = msg_c03r0101_assistantm_01_16r //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $v1_2 = msg_c03r0101_assistantm_01_16s //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN $v1_2 = msg_c03r0101_assistantm_01_16s //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $v1_2 = msg_c03r0101_assistantm_01_16t //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN $v1_2 = msg_c03r0101_assistantm_01_16t //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $v1_2 = msg_c03r0101_assistantm_01_16u //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN $v1_2 = msg_c03r0101_assistantm_01_16u //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $v1_2 = msg_c03r0101_assistantm_01_16v //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN $v1_2 = msg_c03r0101_assistantm_01_16v //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $v1_2 = msg_c03r0101_assistantm_01_16w //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN $v1_2 = msg_c03r0101_assistantm_01_16w //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT _RET
  ENDSWITCH

  // メッセージを表示
  _SYSWIN_MSG( v1_2, POS_DEFAULT )
  _SYSWIN_CLOSE()
}
_RET 
//----------------------------------------------------------------------
// ◆システム「〜隊員に任命された」
//----------------------------------------------------------------------
SYSTEM_MSG_Rank_up:
{
  // v2_1 隊員ランク
  // v2_2 メッセージID

  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK 
  $v2_1 = $SCWK_ANSWER

  // メッセージIDを選択
  SWITCH $v2_1
  CASE RESEARCH_MEMBER_RANK_C  THEN $v2_2 = msg_c03r0101_assistantm_01_27a
  CASE RESEARCH_MEMBER_RANK_B  THEN $v2_2 = msg_c03r0101_assistantm_01_27a
  CASE RESEARCH_MEMBER_RANK_A  THEN $v2_2 = msg_c03r0101_assistantm_01_27b
  CASE RESEARCH_MEMBER_RANK_S  THEN $v2_2 = msg_c03r0101_assistantm_01_27c
  CASE RESEARCH_MEMBER_RANK_SS THEN $v2_2 = msg_c03r0101_assistantm_01_27d
  ENDSWITCH 

  // メッセージを表示
  _PLAYER_NAME(1)
  _SYSWIN_MSG( v2_2, POS_DEFAULT )
  _SYSWIN_CLOSE()
}
_RET 
//----------------------------------------------------------------------
// ◆隊長 初回会話
//----------------------------------------------------------------------
LEADER_SAY_Nice_to_meet_you:
{
  //「キミを　とくべつに　ちょうさたいいんに　にんめいする！」
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_01, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 

  //「ちょうさたいいん　に　にんめい　されてしまった！」
  _PLAYER_NAME(1)
  _SYSWIN_MSG( msg_c03r0101_assistantm_01_02, POS_DEFAULT )
  _SYSWIN_CLOSE()

  //「キミの　かつやくを　きたいしているぞ！」
  _PLAYER_NAME(1)
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_03, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET 
//----------------------------------------------------------------------
// ◆隊長「きょうは　どうする？」
//----------------------------------------------------------------------
LEADER_SAY_May_I_help_you:
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_06, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
_RET
//----------------------------------------------------------------------
// ◆隊長「よくきたな　げんきに　ちょうさ　しているか？」
//----------------------------------------------------------------------
LEADER_SAY_You_are_welcome:
  _PLAYER_NAME(1)
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_04, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
_RET
//----------------------------------------------------------------------
// ◆隊長「キミは　すべてのいらいを　おえている」
//----------------------------------------------------------------------
LEADER_SAY_You_have_already_completed:
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_05, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
_RET
//----------------------------------------------------------------------
// ◆隊長「うけている　いらいを　キャンセルするか？」
//----------------------------------------------------------------------
LEADER_SAY_Do_you_cancel_request:
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_09, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
_RET
//----------------------------------------------------------------------
// ◆隊長「ちょうさいらいは　うけていないようだ」
//----------------------------------------------------------------------
LEADER_SAY_You_dont_have_request:
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_22, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
_RET
//----------------------------------------------------------------------
// ◆隊長「そうか……　また　きてね」
//----------------------------------------------------------------------
LEADER_SAY_ByeBye:
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_32, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
_RET
//----------------------------------------------------------------------
// ◆隊長「調査依頼を選んでくれ」
//----------------------------------------------------------------------
LEADER_SAY_Please_select_request:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_07, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「この調査依頼を受けるのか？」
//----------------------------------------------------------------------
LEADER_SAY_Is_this_request_ok:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_15, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET 
//----------------------------------------------------------------------
// ◆隊長「いらいを　うけたくなったら　またきてくれ」
//----------------------------------------------------------------------
LEADER_SAY_Come_again_if_you_want:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_08, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「依頼を受けたくなったら, また来てくれ！」
//----------------------------------------------------------------------
LEADER_SAY_Come_again_if_you_want_2:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_11, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET 
//----------------------------------------------------------------------
// ◆隊長「調査が終了したら, 報告に来てくれ」
//----------------------------------------------------------------------
LEADER_SAY_Come_again_if_you_achieve:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_17, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「では引き続き, 調査を続けてくれ」
//----------------------------------------------------------------------
LEADER_SAY_Continue_research:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_12, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「調査内容を報告してくれ」
//----------------------------------------------------------------------
LEADER_SAY_Report_research_result:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_19, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「これは調査の報酬だ 受け取ってくれ」
//----------------------------------------------------------------------
LEADER_SAY_Present_for_you:
{
  _PLAYER_NAME(1)
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_25, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「これは私の気持ちだ 受け取ってくれ」
//----------------------------------------------------------------------
LEADER_SAY_Congraturation:
{
  _PLAYER_NAME(1)
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_30, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE()
}
_RET
//----------------------------------------------------------------------
// ◆隊長「今後も期待しているぞ！」
//----------------------------------------------------------------------
LEADER_SAY_I_hope_for_you:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_assistantm_01_31, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「今日から君は〜隊員だ！」
//----------------------------------------------------------------------
LEADER_SAY_I_appoint_you_as:
{
  // v2_1 隊員ランク
  // v2_2 メッセージID

  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK
  $v2_1 = $SCWK_ANSWER

  // メッセージIDを選択
  SWITCH $v2_1
  CASE RESEARCH_MEMBER_RANK_C  THEN $v2_2 = msg_c03r0101_assistantm_01_26a
  CASE RESEARCH_MEMBER_RANK_B  THEN $v2_2 = msg_c03r0101_assistantm_01_26a
  CASE RESEARCH_MEMBER_RANK_A  THEN $v2_2 = msg_c03r0101_assistantm_01_26b
  CASE RESEARCH_MEMBER_RANK_S  THEN $v2_2 = msg_c03r0101_assistantm_01_26c
  CASE RESEARCH_MEMBER_RANK_SS THEN $v2_2 = msg_c03r0101_assistantm_01_26d
  ENDSWITCH 

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( v2_2, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「あと〜回で〜隊員だ」
//----------------------------------------------------------------------
LEADER_SAY_Next_rank:
{
  // v3_1 隊員ランク
  // v3_2 メッセージID

  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK
  $v3_1 = $SCWK_ANSWER

  // メッセージIDを選択
  SWITCH $v3_1
  CASE RESEARCH_MEMBER_RANK_C  THEN $v3_2 = msg_c03r0101_assistantm_01_28a
  CASE RESEARCH_MEMBER_RANK_B  THEN $v3_2 = msg_c03r0101_assistantm_01_28b
  CASE RESEARCH_MEMBER_RANK_A  THEN $v3_2 = msg_c03r0101_assistantm_01_28c
  CASE RESEARCH_MEMBER_RANK_S  THEN $v3_2 = msg_c03r0101_assistantm_01_28d
  CASE RESEARCH_MEMBER_RANK_SS THEN $v3_2 = msg_c03r0101_assistantm_01_28d
  ENDSWITCH 

  // ランクアップまでの残り依頼数をワードセットに登録
  _CALL GET_ACHIEVE_NUM_TO_RANKUP 
  _NUMBER( 1, SCWK_ANSWER, 2 )

  // メッセージ表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( v3_2, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆隊長「〜依頼内容の説明〜」
// ◇in SCWK_TEMP0 説明する調査依頼ID
//----------------------------------------------------------------------
LEADER_SAY_This_request_is:
{
  // v1_1 メッセージID
  // v1_2 調査依頼ID

  $v1_2 = $SCWK_TEMP0

  // メッセージを選択
  SWITCH $v1_2
  CASE RESEARCH_REQ_ID_WB_count            THEN $v1_1 = msg_c03r0101_assistantm_01_14a //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN $v1_1 = msg_c03r0101_assistantm_01_13a //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $v1_1 = msg_c03r0101_assistantm_01_14b //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN $v1_1 = msg_c03r0101_assistantm_01_13b //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $v1_1 = msg_c03r0101_assistantm_01_14c //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN $v1_1 = msg_c03r0101_assistantm_01_13c //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $v1_1 = msg_c03r0101_assistantm_01_14d //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN $v1_1 = msg_c03r0101_assistantm_01_13d //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $v1_1 = msg_c03r0101_assistantm_01_14e //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN $v1_1 = msg_c03r0101_assistantm_01_13e //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $v1_1 = msg_c03r0101_assistantm_01_14f //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN $v1_1 = msg_c03r0101_assistantm_01_13f //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $v1_1 = msg_c03r0101_assistantm_01_14g //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN $v1_1 = msg_c03r0101_assistantm_01_13g //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $v1_1 = msg_c03r0101_assistantm_01_14h //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN $v1_1 = msg_c03r0101_assistantm_01_13h //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $v1_1 = msg_c03r0101_assistantm_01_14i //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN $v1_1 = msg_c03r0101_assistantm_01_13i //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $v1_1 = msg_c03r0101_assistantm_01_14j //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN $v1_1 = msg_c03r0101_assistantm_01_13j //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $v1_1 = msg_c03r0101_assistantm_01_14k //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN $v1_1 = msg_c03r0101_assistantm_01_13k //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $v1_1 = msg_c03r0101_assistantm_01_14l //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN $v1_1 = msg_c03r0101_assistantm_01_13l //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $v1_1 = msg_c03r0101_assistantm_01_14m //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN $v1_1 = msg_c03r0101_assistantm_01_13m //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $v1_1 = msg_c03r0101_assistantm_01_14n //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN $v1_1 = msg_c03r0101_assistantm_01_13n //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $v1_1 = msg_c03r0101_assistantm_01_14o //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN $v1_1 = msg_c03r0101_assistantm_01_13o //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $v1_1 = msg_c03r0101_assistantm_01_14p //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN $v1_1 = msg_c03r0101_assistantm_01_13p //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $v1_1 = msg_c03r0101_assistantm_01_14q //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN $v1_1 = msg_c03r0101_assistantm_01_13q //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $v1_1 = msg_c03r0101_assistantm_01_14r //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN $v1_1 = msg_c03r0101_assistantm_01_13r //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $v1_1 = msg_c03r0101_assistantm_01_14s //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN $v1_1 = msg_c03r0101_assistantm_01_13s //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $v1_1 = msg_c03r0101_assistantm_01_14t //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN $v1_1 = msg_c03r0101_assistantm_01_13t //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $v1_1 = msg_c03r0101_assistantm_01_14u //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN $v1_1 = msg_c03r0101_assistantm_01_13u //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $v1_1 = msg_c03r0101_assistantm_01_14v //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN $v1_1 = msg_c03r0101_assistantm_01_13v //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $v1_1 = msg_c03r0101_assistantm_01_14w //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN $v1_1 = msg_c03r0101_assistantm_01_13w //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT _RET
  ENDSWITCH

  // すでに達成済みなら, メッセージを変更
  $SCWK_TEMP0 = $v1_2
  _CALL CHECK_RES_REQ_ALREADY_ARCHIEVE
  IF $SCWK_ANSWER == TRUE THEN
    $v1_1 = msg_c03r0101_assistantm_01_14x
    _PLAYER_NAME(1)
  ENDIF

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( v1_1, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET 
//----------------------------------------------------------------------
// ◆隊長「ふむふむ……」
//----------------------------------------------------------------------
LEADER_SAY_Ah_hah:
{
  // v4_1 メッセージID
  // v4_2 調査中の依頼ID
  // v4_3 1つ目の質問ID
  // v4_4 2つ目の質問ID
  // v4_5 3つ目の質問ID
  // v4_6 1つ目の質問に対する, 最も多数派の回答ID
  // v4_7 2つ目の質問に対する, 最も多数派の回答ID
  // v4_8 3つ目の質問に対する, 最も多数派の回答ID

  // 調査中の依頼ID・質問IDを取得
  _GET_RESEARCH_REQUEST_ID( v4_2 )
  _GET_RESEARCH_QUESTION_ID( v4_3, v4_4, v4_5 )

  // 最も多数派の回答IDを取得する
  IF $v4_3 != QUESTION_ID_DUMMY THEN
    _GET_MAJORITY_ANSWER_OF_QUESTION( v4_3, v4_6 )
  ENDIF
  IF $v4_4 != QUESTION_ID_DUMMY THEN
    _GET_MAJORITY_ANSWER_OF_QUESTION( v4_4, v4_7 )
  ENDIF
  IF $v4_5 != QUESTION_ID_DUMMY THEN
    _GET_MAJORITY_ANSWER_OF_QUESTION( v4_5, v4_8 )
  ENDIF

  // メッセージを選択
  SWITCH $v4_2
  CASE RESEARCH_REQ_ID_WB_count            THEN $v4_1 = msg_c03r0101_assistantm_01_24a //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_WB_time             THEN $v4_1 = msg_c03r0101_assistantm_01_24a //「ブラックと　ホワイト　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $v4_1 = msg_c03r0101_assistantm_01_24b //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_time     THEN $v4_1 = msg_c03r0101_assistantm_01_24b //「えらんだ　さいしょのポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $v4_1 = msg_c03r0101_assistantm_01_24c //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_time      THEN $v4_1 = msg_c03r0101_assistantm_01_24c //「いちばんおおい　プレイじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $v4_1 = msg_c03r0101_assistantm_01_24d //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_time            THEN $v4_1 = msg_c03r0101_assistantm_01_24d //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $v4_1 = msg_c03r0101_assistantm_01_24e //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_time            THEN $v4_1 = msg_c03r0101_assistantm_01_24e //「いちばんおおい　しごとは？」( 時間 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $v4_1 = msg_c03r0101_assistantm_01_24f //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_time          THEN $v4_1 = msg_c03r0101_assistantm_01_24f //「いちばんおおい　しゅみは？」( 時間 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $v4_1 = msg_c03r0101_assistantm_01_24g //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time     THEN $v4_1 = msg_c03r0101_assistantm_01_24g //「たいせんと　こうかん　にんきがあるのは？」( 時間 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $v4_1 = msg_c03r0101_assistantm_01_24h //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time  THEN $v4_1 = msg_c03r0101_assistantm_01_24h //「すきな　ポケモンは？」( 時間 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $v4_1 = msg_c03r0101_assistantm_01_24i //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_time      THEN $v4_1 = msg_c03r0101_assistantm_01_24i //「すきな　ポケモンのタイプは？」( 時間 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $v4_1 = msg_c03r0101_assistantm_01_24j //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_time          THEN $v4_1 = msg_c03r0101_assistantm_01_24j //「とかいと　いなか　すみたいのは？」( 時間 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $v4_1 = msg_c03r0101_assistantm_01_24k //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_time       THEN $v4_1 = msg_c03r0101_assistantm_01_24k //「だいじにしているものに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $v4_1 = msg_c03r0101_assistantm_01_24l //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_time        THEN $v4_1 = msg_c03r0101_assistantm_01_24l //「ひとのみりょくに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $v4_1 = msg_c03r0101_assistantm_01_24m //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_time         THEN $v4_1 = msg_c03r0101_assistantm_01_24m //「きせつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $v4_1 = msg_c03r0101_assistantm_01_24n //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_time            THEN $v4_1 = msg_c03r0101_assistantm_01_24n //「げいじゅつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $v4_1 = msg_c03r0101_assistantm_01_24o //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_time          THEN $v4_1 = msg_c03r0101_assistantm_01_24o //「いちばんすきな　おんがくは？」( 時間 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $v4_1 = msg_c03r0101_assistantm_01_24p //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_time          THEN $v4_1 = msg_c03r0101_assistantm_01_24p //「えいぞうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $v4_1 = msg_c03r0101_assistantm_01_24q //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_time         THEN $v4_1 = msg_c03r0101_assistantm_01_24q //「いちばんすきな　がっこうのじかんは？」( 時間 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $v4_1 = msg_c03r0101_assistantm_01_24r //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_time          THEN $v4_1 = msg_c03r0101_assistantm_01_24r //「べんきょうに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $v4_1 = msg_c03r0101_assistantm_01_24s //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_time         THEN $v4_1 = msg_c03r0101_assistantm_01_24s //「いちばんにんきのある　スポーツは？」( 時間 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $v4_1 = msg_c03r0101_assistantm_01_24t //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_time        THEN $v4_1 = msg_c03r0101_assistantm_01_24t //「きゅうじつに　ついて」( 時間 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $v4_1 = msg_c03r0101_assistantm_01_24u //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_time          THEN $v4_1 = msg_c03r0101_assistantm_01_24u //「いちばんなりたいものは？」( 時間 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $v4_1 = msg_c03r0101_assistantm_01_24v //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_time     THEN $v4_1 = msg_c03r0101_assistantm_01_24v //「いちばんにんきのある　ジムリーダーは？」( 時間 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $v4_1 = msg_c03r0101_assistantm_01_24w //「ポケモンのおもしろいところは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_time            THEN $v4_1 = msg_c03r0101_assistantm_01_24w //「ポケモンのおもしろいところは？」( 時間 )
  DEFAULT _RET
  ENDSWITCH

  // 多数派の回答をワードセットに登録
  IF $v4_3 != QUESTION_ID_DUMMY THEN
    _ANSWER_NAME( 0, v4_6 )
  ENDIF
  IF $v4_4 != QUESTION_ID_DUMMY THEN
    _ANSWER_NAME( 1, v4_7 )
  ENDIF
  IF $v4_5 != QUESTION_ID_DUMMY THEN
    _ANSWER_NAME( 2, v4_8 )
  ENDIF

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( v4_1, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET

//----------------------------------------------------------------------
// ◆隊長「まだ調査が終わっていないぞ」
//----------------------------------------------------------------------
LEADER_SAY_You_dont_archieve:
{
  // v4_1 メッセージID
  // v4_2 調査中の依頼ID
  // v4_3 調査中の依頼の調査タイプ
  // v4_4 ノルマ達成不足値

  // 調査依頼IDを取得
  _GET_RESEARCH_REQUEST_ID( v4_2 )

  // 調査中の依頼のタイプを取得
  _CALL GET_RES_REQ_TYPE
  $v4_3 = $SCWK_ANSWER

  //--人数調査--
  IF $v4_3 == RESEARCH_REQ_TYPE_COUNT THEN
      _VOICE_PLAY(6,0)//test:
      _VOICE_WAIT()//test:
    // 最も大きいノルマ不足値をワードセットに登録
    _CALL GET_RES_REQ_MAX_REST_NORM_COUNT
    $v4_4 = $SCWK_ANSWER
    _NUMBER( 2, v4_4, 3 )
  //--時間調査--
  ELSE
      _VOICE_PLAY(1,0)//test:
      _VOICE_WAIT()//test:
    // 最も大きいノルマ不足値をワードセットに登録
    _CALL GET_RES_REQ_MAX_REST_NORM_TIME
    $v4_4 = $SCWK_ANSWER
    _NUMBER( 2, v4_4, 2 )
  ENDIF

  // メッセージを選択
  SWITCH $v4_2 
  CASE RESEARCH_REQ_ID_WB_count            THEN $v4_1 = msg_c03r0101_assistantm_01_21a //「ブラックと　ホワイト　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_FIRST_POKE_count    THEN $v4_1 = msg_c03r0101_assistantm_01_21b //「えらんだ　さいしょのポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLAY_TIME_count     THEN $v4_1 = msg_c03r0101_assistantm_01_21c //「いちばんおおい　プレイじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_SEX_count           THEN $v4_1 = msg_c03r0101_assistantm_01_21d //「おとこのこと　おんなのこ　おおいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_JOB_count           THEN $v4_1 = msg_c03r0101_assistantm_01_21e //「いちばんおおい　しごとは？」( 人数 )
  CASE RESEARCH_REQ_ID_HOBBY_count         THEN $v4_1 = msg_c03r0101_assistantm_01_21f //「いちばんおおい　しゅみは？」( 人数 )
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_count    THEN $v4_1 = msg_c03r0101_assistantm_01_21g //「たいせんと　こうかん　にんきがあるのは？」( 人数 )
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_count THEN $v4_1 = msg_c03r0101_assistantm_01_21h //「すきな　ポケモンは？」( 人数 )
  CASE RESEARCH_REQ_ID_POKE_TYPE_count     THEN $v4_1 = msg_c03r0101_assistantm_01_21i //「すきな　ポケモンのタイプは？」( 人数 )
  CASE RESEARCH_REQ_ID_PLACE_count         THEN $v4_1 = msg_c03r0101_assistantm_01_21j //「とかいと　いなか　すみたいのは？」( 人数 )
  CASE RESEARCH_REQ_ID_PRECIOUS_count      THEN $v4_1 = msg_c03r0101_assistantm_01_21k //「だいじにしているものに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_PARTNER_count       THEN $v4_1 = msg_c03r0101_assistantm_01_21l //「ひとのみりょくに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SEASON_count        THEN $v4_1 = msg_c03r0101_assistantm_01_21m //「きせつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_ART_count           THEN $v4_1 = msg_c03r0101_assistantm_01_21n //「げいじゅつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_MUSIC_count         THEN $v4_1 = msg_c03r0101_assistantm_01_21o //「いちばんすきな　おんがくは？」( 人数 )
  CASE RESEARCH_REQ_ID_MOVIE_count         THEN $v4_1 = msg_c03r0101_assistantm_01_21p //「えいぞうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_SCHOOL_count        THEN $v4_1 = msg_c03r0101_assistantm_01_21q //「いちばんすきな　がっこうのじかんは？」( 人数 )
  CASE RESEARCH_REQ_ID_STUDY_count         THEN $v4_1 = msg_c03r0101_assistantm_01_21r //「べんきょうに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_STORTS_count        THEN $v4_1 = msg_c03r0101_assistantm_01_21s //「いちばんにんきのある　スポーツは？」( 人数 )
  CASE RESEARCH_REQ_ID_DAY_OFF_count       THEN $v4_1 = msg_c03r0101_assistantm_01_21t //「きゅうじつに　ついて」( 人数 )
  CASE RESEARCH_REQ_ID_DREAM_count         THEN $v4_1 = msg_c03r0101_assistantm_01_21u //「いちばんなりたいものは？」( 人数 )
  CASE RESEARCH_REQ_ID_GYM_LEADER_count    THEN $v4_1 = msg_c03r0101_assistantm_01_21v //「いちばんにんきのある　ジムリーダーは？」( 人数 )
  CASE RESEARCH_REQ_ID_FUN_count           THEN $v4_1 = msg_c03r0101_assistantm_01_21w //「ポケモンのおもしろいところは？」( 人数 ) 
  CASE RESEARCH_REQ_ID_WB_time THEN //「ブラックと　ホワイト　おおいのは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33_a 
      _VOICE_PLAY(1,0)//test:
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20a 
      _VOICE_PLAY(100,0)//test:
    ENDIF
  CASE RESEARCH_REQ_ID_FIRST_POKE_time THEN//「えらんだ　さいしょのポケモンは？」( 時間 ) 
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33b 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20b 
    ENDIF
  CASE RESEARCH_REQ_ID_PLAY_TIME_time THEN //「いちばんおおい　プレイじかんは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33c 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20c 
    ENDIF
  CASE RESEARCH_REQ_ID_SEX_time THEN //「おとこのこと　おんなのこ　おおいのは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33d 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20d 
    ENDIF
  CASE RESEARCH_REQ_ID_JOB_time THEN //「いちばんおおい　しごとは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33e 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20e 
    ENDIF
  CASE RESEARCH_REQ_ID_HOBBY_time THEN //「いちばんおおい　しゅみは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33f 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20f 
    ENDIF
  CASE RESEARCH_REQ_ID_BTL_OR_TRD_time THEN //「たいせんと　こうかん　にんきがあるのは？」( 時間 ) 
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33g 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20g 
    ENDIF
  CASE RESEARCH_REQ_ID_FAVORITE_POKE_time THEN //「すきな　ポケモンは？」( 時間 )HEN 
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33h 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20h 
    ENDIF
  CASE RESEARCH_REQ_ID_POKE_TYPE_time THEN //「すきな　ポケモンのタイプは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33i 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20i 
    ENDIF
  CASE RESEARCH_REQ_ID_PLACE_time THEN //「とかいと　いなか　すみたいのは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33j 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20j 
    ENDIF
  CASE RESEARCH_REQ_ID_PRECIOUS_time THEN //「だいじにしているものに　ついて」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33k 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20k 
    ENDIF
  CASE RESEARCH_REQ_ID_PARTNER_time THEN //「ひとのみりょくに　ついて」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33l 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20l 
    ENDIF
  CASE RESEARCH_REQ_ID_SEASON_time THEN //「きせつに　ついて」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33m 
    ELSE
      $v1_1 = msg_c03r0101_assistantm_01_20m 
    ENDIF
  CASE RESEARCH_REQ_ID_ART_time THEN //「げいじゅつに　ついて」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33n 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20n 
    ENDIF
  CASE RESEARCH_REQ_ID_MUSIC_time THEN //「いちばんすきな　おんがくは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33o 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20o 
    ENDIF
  CASE RESEARCH_REQ_ID_MOVIE_time THEN //「えいぞうに　ついて」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33p 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20p 
    ENDIF
  CASE RESEARCH_REQ_ID_SCHOOL_time THEN //「いちばんすきな　がっこうのじかんは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33q 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20q 
    ENDIF
  CASE RESEARCH_REQ_ID_STUDY_time THEN //「べんきょうに　ついて」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33r 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20r 
    ENDIF
  CASE RESEARCH_REQ_ID_STORTS_time THEN //「いちばんにんきのある　スポーツは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33s 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20s 
    ENDIF
  CASE RESEARCH_REQ_ID_DAY_OFF_time THEN //「きゅうじつに　ついて」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33t 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20t 
    ENDIF
  CASE RESEARCH_REQ_ID_DREAM_time THEN //「いちばんなりたいものは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33u 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20u 
    ENDIF
  CASE RESEARCH_REQ_ID_GYM_LEADER_time THEN//「いちばんにんきのある　ジムリーダーは？」( 時間 ) 
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33v 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20v 
    ENDIF
  CASE RESEARCH_REQ_ID_FUN_time THEN //「ポケモンのおもしろいところは？」( 時間 )
    IF $v4_4 == 0 THEN
      $v4_1 = msg_c03r0101_assistantm_01_33w 
    ELSE
      $v4_1 = msg_c03r0101_assistantm_01_20w 
    ENDIF
  DEFAULT _RET
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( v4_1, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET 



//======================================================================
// ■アンケート隊員サブルーチンリスト
//======================================================================
//----------------------------------------------------------------------
// layer 1
//----------------------------------------------------------------------
// ■台詞
// MEMBER_Q_SAY_1  ◆アンケート隊員「ここはすれ違い調査隊本部よ」
// MEMBER_Q_SAY_2  ◆アンケート隊員「おつかれさま」
// MEMBER_Q_SAY_3  ◆アンケート隊員「そうだアナタに頼みたい事があるの」
// MEMBER_Q_SAY_4  ◆アンケート隊員「またアナタにアンケートをお願いしたいんだけど…」
// MEMBER_Q_SAY_5  ◆アンケート隊員「しょうがないわね」
// MEMBER_Q_SAY_6  ◆アンケート隊員「答えたアンケートにもう一度答える？」
// MEMBER_Q_SAY_7  ◆アンケート隊員「答えるアンケートを選んでくれる？」
// MEMBER_Q_SAY_8  ◆アンケート隊員「このアンケートでいいのね？」
// MEMBER_Q_SAY_9  ◆アンケート隊員「回答を変えたくなったら言ってね」
// MEMBER_Q_SAY_10 ◆アンケート隊員「今回のアンケートは〜についてよ」
// MEMBER_Q_SAY_11 ◆アンケート隊員「〜質問１〜」
// MEMBER_Q_SAY_12 ◆アンケート隊員「〜質問２〜」
// MEMBER_Q_SAY_13 ◆アンケート隊員「〜質問３〜」
// MEMBER_Q_SAY_14 ◆アンケート隊員
// MEMBER_Q_SAY_15 ◆アンケート隊員


//======================================================================
// ■アンケート隊員メイン
//======================================================================
EVENT_START	ev_member_question
{
}
EVENT_END

//----------------------------------------------------------------------
// ◆アンケート隊員「ここはすれ違い調査隊本部よ」
//----------------------------------------------------------------------
MEMBER_Q_SAY_1:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_01, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆アンケート隊員「おつかれさま」
//----------------------------------------------------------------------
MEMBER_Q_SAY_2:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_02, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆アンケート隊員「そうだアナタに頼みたい事があるの」
//----------------------------------------------------------------------
MEMBER_Q_SAY_3:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_03, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆アンケート隊員「またアナタにアンケートをお願いしたいんだけど…」
//----------------------------------------------------------------------
MEMBER_Q_SAY_4:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_04, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆アンケート隊員「しょうがないわね」
//----------------------------------------------------------------------
MEMBER_Q_SAY_5:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_05, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆アンケート隊員「答えたアンケートにもう一度答える？」
//----------------------------------------------------------------------
MEMBER_Q_SAY_6:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_06, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆アンケート隊員「答えるアンケートを選んでくれる？」
//----------------------------------------------------------------------
MEMBER_Q_SAY_7:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_07, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET
//----------------------------------------------------------------------
// ◆アンケート隊員「このアンケートでいいのね？」
//----------------------------------------------------------------------
MEMBER_Q_SAY_8:
{
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_woman2_08, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
_RET



//======================================================================
// ■挨拶隊員メイン
//======================================================================
EVENT_START ev_member_hello 
{
  //「こんにちは！」
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_boy2_01, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 

  // 初回会話チェック
  _FLAG_CHECK( FE_RES_HELLO_FIRSTTALK, SCWK_ANSWER )

  IF $SCWK_ANSWER == FALSE THEN // 初回会話
    //「君の好きな挨拶を教えて？」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_boy2_02, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ELSE // 通常会話
    //「また君の好きな挨拶を教えて？」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_boy2_03, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ENDIF

  //『はい』or『いいえ』選択
  _YES_NO_WIN( SCWK_ANSWER )

  IF $SCWK_ANSWER == SCR_YES THEN //『はい』を選択
    // @todo: フリーワード入力画面を呼ぶ
    //「うん！いい挨拶だね！」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_boy2_05, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ELSE //『いいえ』を選択
    //「それじゃ また今度ね」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_boy2_04, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ENDIF 
}
EVENT_END 



//======================================================================
// ■お礼隊員メイン
//======================================================================
EVENT_START ev_member_thanks 
{
  //「こんにちは」
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( msg_c03r0101_girl4_01, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 

  // 初回会話チェック
  _FLAG_CHECK( FE_RES_THANKS_FIRSTTALK, SCWK_ANSWER )

  IF $SCWK_ANSWER == FALSE THEN // 初回会話
    //「モンスターボールを落としたわよ」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_girl4_02, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
    //『落としたモンスターボール度受けとった』
    _SYSWIN_MSG( msg_c03r0101_girl4_03, POS_DEFAULT )
    _SYSWIN_CLOSE()
    //「こら！まちなさい！」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_girl4_04, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ELSE // 通常会話
    //「感謝の気持ちを教えてくれるかしら？」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_girl4_05, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ENDIF

  //『はい』or『いいえ』選択
  _YES_NO_WIN( SCWK_ANSWER )

  IF $SCWK_ANSWER == SCR_YES THEN //『はい』を選択
    // @todo: フリーワード入力画面を呼ぶ
    //「すてきな言葉ね」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_girl4_07, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ELSE //『いいえ』を選択
    //「それじゃ また今度ね」
    _TALK_OBJ_START()
    _BALLOONWIN_OBJMSG_POS( msg_c03r0101_girl4_06, SCWK_TARGET_OBJID, POS_DL )
    _BALLOONWIN_CLOSE() 
  ENDIF 
}
EVENT_END 



//======================================================================
// ■一般隊員A
//======================================================================
EVENT_START	ev_member_a
{
  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN $SCWK_TEMP0 = msg_c03r0101_boy1_01
  CASE RESEARCH_MEMBER_RANK_B  THEN $SCWK_TEMP0 = msg_c03r0101_boy1_02
  CASE RESEARCH_MEMBER_RANK_A  THEN $SCWK_TEMP0 = msg_c03r0101_boy1_03
  CASE RESEARCH_MEMBER_RANK_S  THEN $SCWK_TEMP0 = msg_c03r0101_boy1_04
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_boy1_05
  DEFAULT EVENT_END
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( SCWK_TEMP0, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
EVENT_END


//======================================================================
// ■一般隊員B
//======================================================================
EVENT_START	ev_member_b
{
  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN $SCWK_TEMP0 = msg_c03r0101_boy3_01
  CASE RESEARCH_MEMBER_RANK_B  THEN $SCWK_TEMP0 = msg_c03r0101_boy3_02
  CASE RESEARCH_MEMBER_RANK_A  THEN $SCWK_TEMP0 = msg_c03r0101_boy3_03
  CASE RESEARCH_MEMBER_RANK_S  THEN $SCWK_TEMP0 = msg_c03r0101_boy3_04
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_boy3_05
  DEFAULT EVENT_END
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( SCWK_TEMP0, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
EVENT_END


//======================================================================
// ■一般隊員C
//======================================================================
EVENT_START	ev_member_c
{
  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_B  THEN $SCWK_TEMP0 = msg_c03r0101_girl1_01
  CASE RESEARCH_MEMBER_RANK_A  THEN $SCWK_TEMP0 = msg_c03r0101_girl1_02
  CASE RESEARCH_MEMBER_RANK_S  THEN $SCWK_TEMP0 = msg_c03r0101_girl1_03
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_girl1_04
  DEFAULT EVENT_END
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( SCWK_TEMP0, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
EVENT_END


//======================================================================
// ■一般隊員D
//======================================================================
EVENT_START	ev_member_d
{
  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_B  THEN $SCWK_TEMP0 = msg_c03r0101_girl2_01
  CASE RESEARCH_MEMBER_RANK_A  THEN $SCWK_TEMP0 = msg_c03r0101_girl2_02
  CASE RESEARCH_MEMBER_RANK_S  THEN $SCWK_TEMP0 = msg_c03r0101_girl2_03
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_girl2_04
  DEFAULT EVENT_END
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( SCWK_TEMP0, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
EVENT_END


//======================================================================
// ■一般隊員E
//======================================================================
EVENT_START	ev_member_e
{
  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_B  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_A  THEN $SCWK_TEMP0 = msg_c03r0101_boy4_01
  CASE RESEARCH_MEMBER_RANK_S  THEN $SCWK_TEMP0 = msg_c03r0101_boy4_02
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_boy4_03
  DEFAULT EVENT_END
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( SCWK_TEMP0, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
EVENT_END


//======================================================================
// ■一般隊員F
//======================================================================
EVENT_START	ev_member_f
{
  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_B  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_A  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_S  THEN $SCWK_TEMP0 = msg_c03r0101_man1_01
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_man1_02
  DEFAULT EVENT_END
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( SCWK_TEMP0, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
EVENT_END


//======================================================================
// ■一般隊員G
//======================================================================
EVENT_START	ev_member_g
{
  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_B  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_A  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_S  THEN EVENT_END
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_girl3_01
  DEFAULT EVENT_END
  ENDSWITCH

  // メッセージを表示
  _TALK_OBJ_START()
  _BALLOONWIN_OBJMSG_POS( SCWK_TEMP0, SCWK_TARGET_OBJID, POS_DL )
  _BALLOONWIN_CLOSE() 
}
EVENT_END


//======================================================================
// ■書類
//======================================================================
EVENT_START	ev_paper
{
  // 隊員になっていない
  _FLAG_CHECK( FE_RES_LEADER_FIRSTTALK, SCWK_ANSWER )
  IF $SCWK_ANSWER == FALSE THEN
    EVENT_END
  ENDIF

  // 隊員ランクを取得
  _CALL GET_RES_MEMBER_RANK

  // メッセージを選択
  SWITCH $SCWK_ANSWER
  CASE RESEARCH_MEMBER_RANK_C  THEN $SCWK_TEMP0 = msg_c03r0101_none_debug_02a
  CASE RESEARCH_MEMBER_RANK_B  THEN $SCWK_TEMP0 = msg_c03r0101_none_debug_02b
  CASE RESEARCH_MEMBER_RANK_A  THEN $SCWK_TEMP0 = msg_c03r0101_none_debug_02c
  CASE RESEARCH_MEMBER_RANK_S  THEN $SCWK_TEMP0 = msg_c03r0101_none_debug_02d
  CASE RESEARCH_MEMBER_RANK_SS THEN $SCWK_TEMP0 = msg_c03r0101_none_debug_02e
  DEFAULT                           $SCWK_TEMP0 = msg_c03r0101_none_debug_01
  ENDSWITCH

  // メッセージを表示
  _SYSWIN_MSG( SCWK_TEMP0, POS_DEFAULT )
  _SYSWIN_CLOSE()
}
EVENT_END
