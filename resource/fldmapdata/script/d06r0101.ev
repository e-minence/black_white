
//======================================================================
//                d06r0101.ev
//
//    スクリプトファイル：d06r0101用
//
//======================================================================

  .text

  .include  "scr_seq_def.h"
  .include  "../../message/dst/script/msg_d06r0101.h"
  .include  "d06r0101.h"

//--------------------------------------------------------------
//               スクリプト本体
//--------------------------------------------------------------

//--------------------------------------------------------------
//               スクリプトテーブル
//--------------------------------------------------------------
_EVENT_DATA    ev_pos_d06r0101_denki_01
_EVENT_DATA    ev_pos_d06r0101_denki_02
_EVENT_DATA    ev_pos_d06r0101_denki_03
_EVENT_DATA    ev_d06r0101_heroine_01
_EVENT_DATA    ev_d06r0101_hakase2_01
_EVENT_DATA_END

/**************************************************************/
/*  D06R0101 博士とホワイトのPOSイベントスクリプト            */
/**************************************************************/
EVENT_START    ev_pos_d06r0101_denki_01

//===============フラグ操作===============//
	//POSを踏むホワイトを表示する。
	//POSを踏む博士2を表示する。
	_FLAG_RESET(FV_D06R0101_FRIENDS)
	_OBJ_ADD( D06R0101_HEROINE_01 )
	_OBJ_ADD( D06R0101_HAKASE2_01 )
//========================================//
	
	//主人公がびっくり
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_gyoe)
	_OBJ_ANIME_WAIT()
	
	//主人公が下を向く
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_01)
	_OBJ_ANIME_WAIT()
	
	//ホワイトがやってくる
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_kuru_01)
	_OBJ_ANIME_WAIT()
	
	//主人公が上に移動する
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_idou_01)
	_OBJ_ANIME_WAIT()
	
	//主人公の名前を格納
	_PLAYER_NAME(0)
	
	//ホワイトが喋る
	//ホワイト:もう！　ったら　あぶなかったよ
	//ホワイトが喋る
	_BALLOONWIN_OBJMSG( msg_d06r0101_white_01, D06R0101_HEROINE_01)
	_BALLOONWIN_CLOSE()
	
	//ホワイト、博士の方をむく
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_muku_01)
	_OBJ_ANIME_WAIT()
	
	//ホワイトが喋る
	//ホワイト:ですよね、はかせ
	_BALLOONWIN_OBJMSG( msg_d06r0101_white_02, D06R0101_HEROINE_01)
	_BALLOONWIN_CLOSE()
	
	//博士2がやってくる
	_OBJ_ANIME( D06R0101_HAKASE2_01,anm_hakase2_kuru_01)
	_OBJ_ANIME_WAIT()

	//博士2が喋る
	//博士2:ハーイ！　げんきだった？
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_01, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//博士2移動して、きょろきょろする
	_OBJ_ANIME( D06R0101_HAKASE2_01,anm_hakase2_kyorokyoro_01)
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_02)
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_muku_02)
	_OBJ_ANIME_WAIT()
	
	//博士2が喋る
	//博士2:……それにしても　今日は
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_02, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//博士2がもとの位置に移動
	_OBJ_ANIME( D06R0101_HAKASE2_01,anm_hakase2_kuru_02)
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_01)
	_OBJ_ANIME_WAIT()

	//博士2が喋る
	//博士2:ちょっと　パパに　頼まれて
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_03, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//ホワイトが主人公を向く
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_muku_02)
	_OBJ_ANIME_WAIT()
	
	//ホワイトが喋る
	//ホワイト:アタシはね
	_BALLOONWIN_OBJMSG( msg_d06r0101_white_03, D06R0101_HEROINE_01)
	_BALLOONWIN_CLOSE()

//===============フラグ操作===============//
//【仮】ワークが無い為、仮
	//POSイベントを無効に
	$WK_SCENE_D06R0101 = 1
//========================================//

EVENT_END

//--------------------------------------------------------------------
//主人公:びっくりマーク                         
//--------------------------------------------------------------------
_ANIME_LABEL	anm_player_gyoe
	_ANIME_DATA	AC_MARK_GYOE,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//主人公:ホワイトを向く                         
//--------------------------------------------------------------------
_ANIME_LABEL	anm_player_muku_01
	_ANIME_DATA AC_DIR_D,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//主人公:博士を向く                         
//--------------------------------------------------------------------
_ANIME_LABEL	anm_player_muku_02
	_ANIME_DATA AC_DIR_U,1
	_ANIME_DATA	ACMD_END,0
	
//--------------------------------------------------------------------
//主人公: ホワイトに押されて、上に                     
//--------------------------------------------------------------------
_ANIME_LABEL	anm_player_idou_01
	_ANIME_DATA AC_DIR_D,1
	_ANIME_DATA AC_ANM_PAUSE_ON,1	
	_ANIME_DATA AC_JUMP_U_2G_16F,1		
	_ANIME_DATA AC_ANM_PAUSE_OFF,1
	_ANIME_DATA AC_DIR_D,1	
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//ホワイト: 博士の方を向く1                     
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_muku_01
	_ANIME_DATA AC_DIR_D,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//ホワイト: 博士の方を向く2                     
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_muku_02
	_ANIME_DATA AC_DIR_U,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//ホワイト: 慌てて、やってくる                     
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_kuru_01
	_ANIME_DATA	AC_WALK_U_4F,8
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//博士2: やってくる                     
//--------------------------------------------------------------------
_ANIME_LABEL	anm_hakase2_kuru_01
	_ANIME_DATA	AC_WALK_R_8F,1
	_ANIME_DATA	AC_WALK_U_8F,6
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//博士2: 元の位置に戻る                        
//--------------------------------------------------------------------
_ANIME_LABEL	anm_hakase2_kuru_02
	_ANIME_DATA	AC_WALK_D_8F,5
	_ANIME_DATA	AC_DIR_U,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//博士2:  少し上できょろきょろ                       
//--------------------------------------------------------------------
_ANIME_LABEL	anm_hakase2_kyorokyoro_01
	_ANIME_DATA	AC_WALK_R_8F,1
	_ANIME_DATA	AC_WALK_U_8F,7
	_ANIME_DATA	AC_WALK_R_16F,2
	_ANIME_DATA	AC_WALK_L_16F,2
	_ANIME_DATA	AC_DIR_D,1
	_ANIME_DATA	ACMD_END,0
	
/**************************************************************/
/*  D06R0101 博士とホワイトのPOSイベントスクリプト2           */
/**************************************************************/
EVENT_START    ev_pos_d06r0101_denki_02
	
	//博士2の場所を移動
	//ホワイトの場所を移動
	_OBJ_POS_CHANGE( D06R0101_HAKASE2_01, 50, 0, 41, DIR_RIGHT )
	_OBJ_POS_CHANGE( D06R0101_HEROINE_01, 48, 0, 42, DIR_RIGHT )
	
	//主人公がびっくり
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_gyoe)
	_OBJ_ANIME_WAIT()

	//主人公がは博士を向く
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_03)
	_OBJ_ANIME_WAIT()
	
	//博士2がやってくる
	//ホワイトがやってくる
	_OBJ_ANIME( D06R0101_HAKASE2_01,anm_hakase2_kuru_03)
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_kuru_02)
	_OBJ_ANIME_WAIT()
	
	//博士2が喋る
	//博士2:ハーイ！　なにか　みつかった？
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_05, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//博士2:この　どうくつは　1000ねんも
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_06, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//博士2:ポケモンたちが　どこから　きたのか
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_07, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//ホワイトが主人公に隣接
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_kuru_03)
	_OBJ_ANIME_WAIT()

	//主人公にホワイトを向く
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_01)
	_OBJ_ANIME_WAIT()
	
	//ホワイトが喋る
	//ホワイト:ねえねえ　その　グローブ　なあに？
	_BALLOONWIN_OBJMSG( msg_d06r0101_white_04, D06R0101_HEROINE_01)
	_BALLOONWIN_CLOSE()
	
//===============フラグ操作===============//
//【仮】ワークが無い為、仮
	//POSイベントを無効に
	$WK_SCENE_D06R0101 = 2
//========================================//

EVENT_END

//--------------------------------------------------------------------
//主人公:博士を向く３                         
//--------------------------------------------------------------------
_ANIME_LABEL	anm_player_muku_03
	_ANIME_DATA AC_DIR_L,1
	_ANIME_DATA	ACMD_END,0
	
//--------------------------------------------------------------------
//ホワイト: やってくる２                    
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_kuru_02
	_ANIME_DATA	AC_WALK_R_8F,6
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//ホワイト: やってくる３                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_kuru_03
	_ANIME_DATA	AC_WALK_R_8F,5
	_ANIME_DATA AC_DIR_U,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//博士2: やってくる３                    
//--------------------------------------------------------------------
_ANIME_LABEL	anm_hakase2_kuru_03
	_ANIME_DATA	AC_WALK_R_8F,6
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*  D06R0101 博士とホワイトとNのPOSイベントスクリプト         */
/**************************************************************/
EVENT_START    ev_pos_d06r0101_denki_03

	//博士2の場所を移動
	//ホワイトの場所を移動
	_OBJ_POS_CHANGE( D06R0101_HAKASE2_01, 56, 0, 13, DIR_RIGHT )
	_OBJ_POS_CHANGE( D06R0101_HEROINE_01, 58, 0, 14, DIR_RIGHT )
	_OBJ_ADD_EX( 60, 13, DIR_DOWN, MMDL_ID_EVENTOBJ_00, BOSS, MV_DMY )
	
	//主人公がびっくり
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_gyoe)
	_OBJ_ANIME_WAIT()
	
	//主人公が左を向く
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_04)
	_OBJ_ANIME_WAIT()

	//NのBGM再生
	_START_EVENT_BGM( SEQ_BGM_E_N )
	
	//Nがやってくる
	_OBJ_ANIME( MMDL_ID_EVENTOBJ_00,anm_boss_kuru_01)
	_OBJ_ANIME_WAIT()

	//主人公が下を向く
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_05)
	_OBJ_ANIME_WAIT()
	
	//Nが喋る
	//はい・いいえの選択
	//Ｎ『……さてと　ポケモンではなく　じぶんの　ちからで
	_BALLOONWIN_OBJMSG( msg_d06r0101_boss_01, MMDL_ID_EVENTOBJ_00)
	_YES_NO_WIN( SCWK_ANSWER )
	_BALLOONWIN_CLOSE()
	
	//はい・いいえで分岐
	IF $SCWK_ANSWER ==  SCR_YES THEN
		//はい
		//Nが喋る
		//Ｎ『……さてと　ポケモンではなく　じぶんの　ちからで
		_BALLOONWIN_OBJMSG( msg_d06r0101_boss_02, MMDL_ID_EVENTOBJ_00)
		_BALLOONWIN_CLOSE()
	
	ELSE
		//いいえ
		//Nが喋る
		//Ｎ『……さてと　ポケモンではなく　じぶんの　ちからで
		_BALLOONWIN_OBJMSG( msg_d06r0101_boss_03, MMDL_ID_EVENTOBJ_00)
		_BALLOONWIN_CLOSE()
	
	ENDIF

	//BGM終了
	_END_EVENT_BGM()
	
	//Nとの戦闘
	_CALL		ev_boss_btl

	//NのBGM再生
	_START_EVENT_BGM( SEQ_BGM_E_N )
	
	//Nが喋る
	//Ｎ『……ふしぎだな　なぜ　キミのような　にんげんが
	_BALLOONWIN_OBJMSG( msg_d06r0101_boss_04, MMDL_ID_EVENTOBJ_00)
	_BALLOONWIN_CLOSE()
	
	//プレイヤーの名前を格納
	_PLAYER_NAME(0)
	
	//ホワイトが喋る
	//ホワイト:主人公の名前！
	_BALLOONWIN_OBJMSG( msg_d06r0101_white_06, D06R0101_HEROINE_01)
	_BALLOONWIN_CLOSE()
	
	//ホワイトがやってくる
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_kuru_04)
	_OBJ_ANIME_WAIT()
	
	//ホワイトが喋る
	//ホワイト:すごーい　もうすぐ　フキヨセシティ　でしょ！
	_BALLOONWIN_OBJMSG( msg_d06r0101_white_07, D06R0101_HEROINE_01)
	_BALLOONWIN_CLOSE()
	
	//博士2がやってくる
	_OBJ_ANIME( D06R0101_HAKASE2_01,anm_hakase2_kuru_04)
	_OBJ_ANIME_WAIT()
	
	//博士2が喋る
	//博士2:･･････ホワイティは　みみが　いいのね
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_09, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()

	//Nが博士を向く
	_OBJ_ANIME( MMDL_ID_EVENTOBJ_00,anm_boss_muku_01)
	_OBJ_ANIME_WAIT()
	
	//Nが喋る
	//Ｎ『……アララギか　はじめまして
	_BALLOONWIN_OBJMSG( msg_d06r0101_boss_05, MMDL_ID_EVENTOBJ_00)
	_BALLOONWIN_CLOSE()
	
	//ホワイトが両者を向く
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_muku_02)
	_OBJ_ANIME_WAIT()
	
	
	//博士2が喋る
	//博士2:あら……　ずいぶんと　きらわれているのね
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_10, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//Nが喋る
	//Ｎ『……それでは　まちがった　にんげんが
	_BALLOONWIN_OBJMSG( msg_d06r0101_boss_06, MMDL_ID_EVENTOBJ_00)
	_BALLOONWIN_CLOSE()
	
	//Nが画面外に移動
	_OBJ_ANIME( MMDL_ID_EVENTOBJ_00,anm_boss_saru_01)
	_OBJ_ANIME_WAIT()

	//BGM終了
	_END_EVENT_BGM()
	
	//博士2がNの方を向く
	//ホワイトがNの方を向く
	//主人公がNの方を向く
	_OBJ_ANIME( MMDL_ID_PLAYER,anm_player_muku_04)
	_OBJ_ANIME_WAIT()
	
	//博士2が喋る
	//博士2:……　まあ　いきなり　わかってもらえるとは
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_11, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//博士2が喋る
	//博士2:さてと……　もうすこし　データを　あつめるかなー
	_BALLOONWIN_OBJMSG( msg_d06r0101_hakase2_12, D06R0101_HAKASE2_01)
	_BALLOONWIN_CLOSE()
	
	//博士2が画面外に移動
	_OBJ_ANIME( D06R0101_HAKASE2_01,anm_hakase2_saru_01)
	_OBJ_ANIME_WAIT()
	
	//ホワイトが喋る
	//ホワイト:えーっと　わたし　いま　ボディーガード
	_BALLOONWIN_OBJMSG( msg_d06r0101_white_08, D06R0101_HEROINE_01)
	_BALLOONWIN_CLOSE()
	
	//ホワイトが画面外に移動
	_OBJ_ANIME( D06R0101_HEROINE_01,anm_heroine_saru_01)
	_OBJ_ANIME_WAIT()
	
	//博士とホワイト、Nを非表示にする
	_OBJ_DEL( D06R0101_HEROINE_01 )
	_OBJ_DEL( D06R0101_HAKASE2_01 )
	_OBJ_DEL( MMDL_ID_EVENTOBJ_00 )
	
//===============フラグ操作===============//
//【仮】フラグが無い為、仮
	//POSイベントを無効にする
	$WK_SCENE_D06R0101 = 3
	
	//博士とホワイト、Nを消す
	_FLAG_SET(FV_D06R0101_FRIENDS)
	_FLAG_SET(FV_D06R0201_BOSS_01)
//========================================//

EVENT_END

//Nとの戦闘
ev_boss_btl:

	//トレーナー戦呼び出し
	//【仮】Nとの4回目の戦闘のデータが無いみたい
	_TRAINER_BTL_SET( TRID_BOSS_03, 0 )
	//敗戦チェック
	_TRAINER_LOSE_CHECK( SCWK_ANSWER )
	IF $SCWK_ANSWER == SCR_BATTLE_RESULT_WIN THEN
			_TRAINER_WIN()			//勝ち(1)ならトレーナー勝利処理へ
	ELSE
			_TRAINER_LOSE()			//負け(0)ならトレーナー敗北処理へ(ここでスクリプト終了します）
	ENDIF

_RET

EVENT_END

//--------------------------------------------------------------------
//主人公:Nを向く4                         
//--------------------------------------------------------------------
_ANIME_LABEL	anm_player_muku_04
	_ANIME_DATA AC_DIR_L,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//主人公:Nを向く5                         
//--------------------------------------------------------------------
_ANIME_LABEL	anm_player_muku_05
	_ANIME_DATA AC_DIR_D,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//ホワイト: 両者を向く2                    
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_muku_04
	_ANIME_DATA	AC_DIR_U,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//ホワイト: やってくる4                    
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_kuru_04
	_ANIME_DATA	AC_WALK_R_8F,9
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//ホワイト: 立ち去る                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_heroine_saru_01
	_ANIME_DATA	AC_WALK_L_8F,6
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//博士2: やってくる4                    
//--------------------------------------------------------------------
_ANIME_LABEL	anm_hakase2_kuru_04
	_ANIME_DATA	AC_WALK_R_8F,9
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//博士2:　立ち去る                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_hakase2_saru_01
	_ANIME_DATA	AC_WALK_L_8F,6
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//N: 博士2を振り向く1                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_boss_muku_01
	_ANIME_DATA	AC_DIR_L,1
	_ANIME_DATA	ACMD_END,0
	
//--------------------------------------------------------------------
//N: やってくる1                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_boss_kuru_01
	_ANIME_DATA	AC_WALK_R_8F,9
	_ANIME_DATA	AC_DIR_U,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//N: 立ち去る1                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_boss_saru_01
	_ANIME_DATA	AC_WALK_R_8F,1
	_ANIME_DATA	AC_WALK_U_8F,3
	_ANIME_DATA	AC_WALK_R_8F,5
	_ANIME_DATA	AC_WALK_U_8F,6
	_ANIME_DATA	ACMD_END,0

/**************************************************************/
/*  D06R0101 博士のイベントスクリプト            */
/**************************************************************/
EVENT_START    ev_d06r0101_hakase2_01
	
	IF $WK_SCENE_D06R0101 == 1 THEN 
		_EASY_BALLOONWIN_TALKOBJ_MSG( msg_d06r0101_hakase2_04 )
	
	ELSIF $WK_SCENE_D06R0101 == 2 THEN 
		_EASY_BALLOONWIN_TALKOBJ_MSG( msg_d06r0101_hakase2_08 )
	ENDIF

EVENT_END

/**************************************************************/
/*  D06R0101 ホワイトのイベントスクリプト             */
/**************************************************************/
EVENT_START    ev_d06r0101_heroine_01
	
	IF $WK_SCENE_D06R0101 == 1 THEN 
		_EASY_BALLOONWIN_TALKOBJ_MSG( msg_d06r0101_white_03 )
	
	ELSIF $WK_SCENE_D06R0101 == 2 THEN 
		_EASY_BALLOONWIN_TALKOBJ_MSG( msg_d06r0101_white_05 )
	ENDIF
	
EVENT_END
