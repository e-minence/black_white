
//======================================================================
//                d08r0401.ev
//
//    スクリプトファイル：d08r0401用
//
//======================================================================

  .text

  .include  "scr_seq_def.h"
  .include  "msg_d08r0401.h"
  .include  "d08r0401.h"

//--------------------------------------------------------------
//               スクリプト本体
//--------------------------------------------------------------

//--------------------------------------------------------------
//               スクリプトテーブル
//--------------------------------------------------------------
_EVENT_DATA    ev_pos_d08r0401_rivel_01
_EVENT_DATA_END

/**************************************************************/
/*	ライバルのPOSイベント                           */
/**************************************************************/
EVENT_START    ev_pos_d08r0401_rivel_01	

	_OBJ_ADD_EX(4,14,DIR_RIGHT,MMDL_ID_EVENTOBJ_00, RIVEL, MV_DMY )
	
	_PLAYER_NAME(0)
	//ライバルが喋る
	//ライバル：(プレイヤーの名前)！
	_BALLOONWIN_OBJMSG( msg_d08r0401_black_01, MMDL_ID_EVENTOBJ_00)
	_BALLOONWIN_CLOSE()

	_OBJ_ANIME(MMDL_ID_PLAYER,anm_common_turn_left)
	_OBJ_ANIME_WAIT()

	//カメラが、ライバルまで移動する
	_CAMERA_START()		//カメラ操作開始
    _CAMERA_PURGE()		//対象物とカメラのバインドを解く
	_CAMERA_MOVE(9688,0,970752,303104,114688,872448,56)
    _CAMERA_WAIT_MOVE()	//カメラ移動待ち
 	
 
 	//ライバルが喋る
	//ライバル：たおれている　はしらも
	_BALLOONWIN_OBJMSG( msg_d08r0401_black_02, MMDL_ID_EVENTOBJ_00)
	_BALLOONWIN_CLOSE()
	
	//ライバルが去っていく
	_OBJ_ANIME( MMDL_ID_EVENTOBJ_00,anm_rivel_saru_01)
	
	//カメラが戻る
   	_CAMERA_RECV_MOVE( 72 )
    _CAMERA_WAIT_MOVE()	//カメラ移動待ち
	_CAMERA_BIND()		//カメラバインド
	_CAMERA_END()		//カメラ操作終了
	
	_OBJ_ANIME_WAIT()
		
	//============フラグワーク操作=============//
	
	//ライバルのPOSイベントを無効
	$WK_SCENE_D08_LEGEND = 4
	
	//ライバルを消す
	_OBJ_DEL( MMDL_ID_EVENTOBJ_00 )
	
	//========================================//
	
EVENT_END

//--------------------------------------------------------------------
//ライバル：去っていく                  
//--------------------------------------------------------------------
_ANIME_LABEL	anm_rivel_saru_01
	_ANIME_DATA	AC_WALK_L_8F,5
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//共通スクリプト：びっくりする                  
//--------------------------------------------------------------------
_ANIME_LABEL	anm_common_gyoe
	_ANIME_DATA	AC_MARK_GYOE,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//共通スクリプト：上を向く                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_common_turn_up
	_ANIME_DATA	AC_STAY_WALK_U_8F,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//共通スクリプト：下を向く                   
//--------------------------------------------------------------------
_ANIME_LABEL	anm_common_turn_down
	_ANIME_DATA	AC_STAY_WALK_D_8F,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//共通スクリプト：右を向く                  
//--------------------------------------------------------------------
_ANIME_LABEL	anm_common_turn_right
	_ANIME_DATA	AC_STAY_WALK_R_8F,1
	_ANIME_DATA	ACMD_END,0

//--------------------------------------------------------------------
//共通スクリプト：左を向く                  
//--------------------------------------------------------------------
_ANIME_LABEL	anm_common_turn_left
	_ANIME_DATA	AC_STAY_WALK_L_8F,1
	_ANIME_DATA	ACMD_END,0

