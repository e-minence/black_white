//======================================================================
// trainer.ev
// ../../../prog/include/tr_tool/trno_def.hを元にコンバートしています
//  ●コンバート実行
//    trainer(.bat)
//  ●更新されるファイル
//    trainer.ev
//    trainer_def.h
//======================================================================

	.text
	.include "scr_seq_def.h"
 	.include "../../../prog/include/tr_tool/tr_tool.h"

//----------------------------------------------------------------------
// スクリプトテーブル
//----------------------------------------------------------------------
_EVENT_DATA ev_TRID_NULL
_EVENT_DATA ev_TRID_TANPAN_01
_EVENT_DATA ev_TRID_MINI_01
_EVENT_DATA ev_TRID_SCHOOLB_01
_EVENT_DATA ev_TRID_SCHOOLG_01
_EVENT_DATA ev_TRID_TENNIS_01
_EVENT_DATA ev_TRID_FOOTBALL_01
_EVENT_DATA ev_TRID_TANPAN_02
_EVENT_DATA ev_TRID_MINI_02
_EVENT_DATA ev_TRID_WAITER_01
_EVENT_DATA ev_TRID_WAITRESS_01
_EVENT_DATA ev_TRID_LEADER1A_01
_EVENT_DATA ev_TRID_LEADER1B_01
_EVENT_DATA ev_TRID_LEADER1C_01
_EVENT_DATA ev_TRID_CHILDCARE_01
_EVENT_DATA ev_TRID_KINDERGARTENW_01
_EVENT_DATA ev_TRID_KINDERGARTENM_01
_EVENT_DATA ev_TRID_KINDERGARTENM_02
_EVENT_DATA ev_TRID_FUTAGO_01
_EVENT_DATA ev_TRID_BREEDERM_01
_EVENT_DATA ev_TRID_BREEDERW_01
_EVENT_DATA ev_TRID_LEADER2_01
_EVENT_DATA ev_TRID_LEADER3_01
_EVENT_DATA ev_TRID_LEADER4_01
_EVENT_DATA ev_TRID_LEADER5_01
_EVENT_DATA ev_TRID_LEADER6_01
_EVENT_DATA ev_TRID_RANGERM_01
_EVENT_DATA ev_TRID_RANGERW_01
_EVENT_DATA ev_TRID_RANGERM_02
_EVENT_DATA ev_TRID_RANGERW_02
_EVENT_DATA ev_TRID_SCHOOLB_02
_EVENT_DATA ev_TRID_SCHOOLG_02
_EVENT_DATA ev_TRID_FUTAGO_02
_EVENT_DATA ev_TRID_TANPAN_03
_EVENT_DATA ev_TRID_MINI_03
_EVENT_DATA ev_TRID_WORKER2_01
_EVENT_DATA ev_TRID_WORKER2_02
_EVENT_DATA ev_TRID_WORKER2_03
_EVENT_DATA ev_TRID_WORKER2_04
_EVENT_DATA ev_TRID_BACKPACKERM_01
_EVENT_DATA ev_TRID_BACKPACKERW_01
_EVENT_DATA ev_TRID_FISHING_01
_EVENT_DATA ev_TRID_FISHING_02
_EVENT_DATA ev_TRID_TENNIS_02
_EVENT_DATA ev_TRID_BACKPACKERM_02
_EVENT_DATA ev_TRID_BACKPACKERW_02
_EVENT_DATA ev_TRID_MUSICIAN_01
_EVENT_DATA ev_TRID_DANCER_01
_EVENT_DATA ev_TRID_JUGGLING_01
_EVENT_DATA ev_TRID_ARTIST_01
_EVENT_DATA ev_TRID_BAKER_01
_EVENT_DATA ev_TRID_ESPM_01
_EVENT_DATA ev_TRID_ESPW_01
_EVENT_DATA ev_TRID_RIVAL_01
_EVENT_DATA ev_TRID_RIVAL_02
_EVENT_DATA ev_TRID_RIVAL_03
_EVENT_DATA ev_TRID_RIVAL_04
_EVENT_DATA ev_TRID_RIVAL_05
_EVENT_DATA ev_TRID_RIVAL_06
_EVENT_DATA ev_TRID_SUPPORT_01
_EVENT_DATA ev_TRID_SUPPORT_02
_EVENT_DATA ev_TRID_SUPPORT_03
_EVENT_DATA ev_TRID_HAKAIM1_01
_EVENT_DATA ev_TRID_HAKAIM1_02
_EVENT_DATA ev_TRID_BOSS_01
_EVENT_DATA ev_TRID_BOSS_02
_EVENT_DATA ev_TRID_PRINCE_01
_EVENT_DATA ev_TRID_PRINCE_02
_EVENT_DATA ev_TRID_PRINCESS_01
_EVENT_DATA ev_TRID_PRINCESS_02
_EVENT_DATA ev_TRID_PILOT_01
_EVENT_DATA ev_TRID_PILOT_02
_EVENT_DATA ev_TRID_WORKER1_01
_EVENT_DATA ev_TRID_WORKER1_02
_EVENT_DATA ev_TRID_WORKER1_03
_EVENT_DATA ev_TRID_WORKER1_04
_EVENT_DATA ev_TRID_WORKER1_05
_EVENT_DATA ev_TRID_WORKER1_06
_EVENT_DATA ev_TRID_WORKER1_07
_EVENT_DATA ev_TRID_WORKER1_08
_EVENT_DATA ev_TRID_HAKAIM1_03
_EVENT_DATA ev_TRID_HAKAIM1_04
_EVENT_DATA ev_TRID_BASKET_01
_EVENT_DATA ev_TRID_BASKET_02
_EVENT_DATA ev_TRID_SCHOOLB_03
_EVENT_DATA ev_TRID_TANPAN_04
_EVENT_DATA ev_TRID_SCHOOLB_04
_EVENT_DATA ev_TRID_SCHOOLG_03
_EVENT_DATA ev_TRID_SCIENTISTW_01
_EVENT_DATA ev_TRID_BOSS_03
_EVENT_DATA ev_TRID_RIVAL_07
_EVENT_DATA ev_TRID_RIVAL_08
_EVENT_DATA ev_TRID_RIVAL_09
_EVENT_DATA ev_trainer_talk_battle
_EVENT_DATA ev_trainer_move_battle
_EVENT_DATA_END

ev_TRID_NULL:
ev_TRID_TANPAN_01:
ev_TRID_MINI_01:
ev_TRID_SCHOOLB_01:
ev_TRID_SCHOOLG_01:
ev_TRID_TENNIS_01:
ev_TRID_FOOTBALL_01:
ev_TRID_TANPAN_02:
ev_TRID_MINI_02:
ev_TRID_WAITER_01:
ev_TRID_WAITRESS_01:
ev_TRID_LEADER1A_01:
ev_TRID_LEADER1B_01:
ev_TRID_LEADER1C_01:
ev_TRID_CHILDCARE_01:
ev_TRID_KINDERGARTENW_01:
ev_TRID_KINDERGARTENM_01:
ev_TRID_KINDERGARTENM_02:
ev_TRID_FUTAGO_01:
ev_TRID_BREEDERM_01:
ev_TRID_BREEDERW_01:
ev_TRID_LEADER2_01:
ev_TRID_LEADER3_01:
ev_TRID_LEADER4_01:
ev_TRID_LEADER5_01:
ev_TRID_LEADER6_01:
ev_TRID_RANGERM_01:
ev_TRID_RANGERW_01:
ev_TRID_RANGERM_02:
ev_TRID_RANGERW_02:
ev_TRID_SCHOOLB_02:
ev_TRID_SCHOOLG_02:
ev_TRID_FUTAGO_02:
ev_TRID_TANPAN_03:
ev_TRID_MINI_03:
ev_TRID_WORKER2_01:
ev_TRID_WORKER2_02:
ev_TRID_WORKER2_03:
ev_TRID_WORKER2_04:
ev_TRID_BACKPACKERM_01:
ev_TRID_BACKPACKERW_01:
ev_TRID_FISHING_01:
ev_TRID_FISHING_02:
ev_TRID_TENNIS_02:
ev_TRID_BACKPACKERM_02:
ev_TRID_BACKPACKERW_02:
ev_TRID_MUSICIAN_01:
ev_TRID_DANCER_01:
ev_TRID_JUGGLING_01:
ev_TRID_ARTIST_01:
ev_TRID_BAKER_01:
ev_TRID_ESPM_01:
ev_TRID_ESPW_01:
ev_TRID_RIVAL_01:
ev_TRID_RIVAL_02:
ev_TRID_RIVAL_03:
ev_TRID_RIVAL_04:
ev_TRID_RIVAL_05:
ev_TRID_RIVAL_06:
ev_TRID_SUPPORT_01:
ev_TRID_SUPPORT_02:
ev_TRID_SUPPORT_03:
ev_TRID_HAKAIM1_01:
ev_TRID_HAKAIM1_02:
ev_TRID_BOSS_01:
ev_TRID_BOSS_02:
ev_TRID_PRINCE_01:
ev_TRID_PRINCE_02:
ev_TRID_PRINCESS_01:
ev_TRID_PRINCESS_02:
ev_TRID_PILOT_01:
ev_TRID_PILOT_02:
ev_TRID_WORKER1_01:
ev_TRID_WORKER1_02:
ev_TRID_WORKER1_03:
ev_TRID_WORKER1_04:
ev_TRID_WORKER1_05:
ev_TRID_WORKER1_06:
ev_TRID_WORKER1_07:
ev_TRID_WORKER1_08:
ev_TRID_HAKAIM1_03:
ev_TRID_HAKAIM1_04:
ev_TRID_BASKET_01:
ev_TRID_BASKET_02:
ev_TRID_SCHOOLB_03:
ev_TRID_TANPAN_04:
ev_TRID_SCHOOLB_04:
ev_TRID_SCHOOLG_03:
ev_TRID_SCIENTISTW_01:
ev_TRID_BOSS_03:
ev_TRID_RIVAL_07:
ev_TRID_RIVAL_08:
ev_TRID_RIVAL_09:

//----------------------------------------------------------------------
// scr_trainer/trainer_base.ev
//----------------------------------------------------------------------
//******************************************************************
//          会話からのトレーナー戦闘            
//  SCWK_TEMP0  トレーナーID
//  SCWK_TEMP3  退避トレーナーID
//******************************************************************
EVENT_START   ev_trainer_talk_battle
  _TALK_OBJ_START()
  
  //トレーナーID取得
  _TRAINER_ID_GET( SCWK_TEMP0 )

  /*
  //かくれみのアニメチェック
  //戻り値取得ワーク、話しかけ対象OBJID
  _MOVE_CODE_GET(   SCWK_PARAM1,SCWK_TARGET_OBJID )
  _IFVAL_CALL SCWK_PARAM1,EQ,MV_HIDE_SNOW,ev_trainer_talk_battle_hide_pulloff
  _IFVAL_CALL SCWK_PARAM1,EQ,MV_HIDE_SAND,ev_trainer_talk_battle_hide_pulloff
  _IFVAL_CALL SCWK_PARAM1,EQ,MV_HIDE_GRND,ev_trainer_talk_battle_hide_pulloff
  _IFVAL_CALL SCWK_PARAM1,EQ,MV_HIDE_KUSA,ev_trainer_talk_battle_hide_pulloff
  */
  
  //すでに勝利しているトレーナーかチェックして、戦闘勝利後の会話へ
  _IF_TR_FLAGON_JUMP SCWK_TEMP0,ev_trainer_talk_after
  
  //トレーナータイプ取得(シングル、ダブル、タッグ)
  _TRAINER_TYPE_GET( SCWK_ANSWER )
  //ダブルでない時
  _IFVAL_JUMP SCWK_ANSWER,NE,SCR_EYE_TR_TYPE_DOUBLE,ev_trainer_common_10
  
  /*
  //ダブルだったらチェックする！
  //ここで手持ちが2匹かチェックしないと、戦闘に進んでしまうのでダメ！
  _2VS2_BATTLE_CHECK  SCWK_ANSWER
  _IFVAL_JUMP      SCWK_ANSWER,EQ,0,ev_trainer_talk_battle_poke_one
  */
  _JUMP    ev_trainer_common_10
EVENT_END

ev_trainer_common_10:
  _TRAINER_BGM_SET( SCWK_TEMP0 )                //視線曲セット
  
  _TRAINER_TALK_TYPE_GET( SCWK_PARAM0,SCWK_PARAM1,SCWK_PARAM2 )//メッセージ取得
  _TRAINER_MSG_SET( SCWK_TEMP0,SCWK_PARAM0 )

  _JUMP ev_trainer_common_11
EVENT_END

ev_trainer_common_11:
//  _TRAINER_MSG_SET  SCWK_TEMP0,SCWK_PARAM0
#if 0
//  _AB_KEYWAIT()
#else //wb
  _AB_KEYWAIT()
#endif
  _BALLOONWIN_CLOSE()
  
  /*
  //通常、再戦トレーナーにかかわらず、
  //戦闘後に表示方向固定の動作コードをセットするように変更(06.07.10)
  //話しかけのみしか使えないコマンドなので注意！
  _BTL_SEARCHER_DIR_MV_SET
  */
  
  //戦闘呼び出し
  _TRAINER_BTL_SET( SCWK_TEMP0,0 )
  _TRAINER_LOSE_CHECK(  SCWK_ANSWER )
  IF $SCWK_ANSWER == SCR_BATTLE_WIN THEN
    //_TRAINER_WIN()
  ELSE
    _TRAINER_LOSE()
  ENDIF

  //これを外さないと、再戦トレーナーIDが書き換わってしまう！
  //トレーナーID取得(一応)
  //_TRAINER_ID_GET  SCWK_TEMP0
  
  //トレーナーフラグセット
  _TRAINER_FLAG_SET(  SCWK_TEMP0 )
  
EVENT_END

//--------------------------------------------------------------------
//  戦闘勝利後の会話
//--------------------------------------------------------------------
ev_trainer_talk_after:
  /*
  //話しかけたトレーナーが再戦可能かチェック
  _REVENGE_TRAINER_SEARCH SCWK_TEMP0,SCWK_ANSWER
  _IFVAL_JUMP        SCWK_ANSWER,NE,0,ev_trainer_revenge
  */
  _JUMP        ev_trainer_talk_after_normal
EVENT_END

EVENT_START   ev_trainer_talk_after_normal
  _TALK_START_SE_PLAY()
  
  //メッセージを取得
  _TRAINER_TALK_TYPE_GET(  SCWK_PARAM0,SCWK_PARAM1,SCWK_PARAM2 )
  _TRAINER_MSG_SET(  SCWK_TEMP0,SCWK_PARAM1 )
  _AB_KEYWAIT()
  _BALLOONWIN_CLOSE()
  
EVENT_END

//--------------------------------------------------------------------
//  再戦
//--------------------------------------------------------------------
ev_trainer_revenge:
/*
  $SCWK_TEMP3 = $SCWK_ANSWER    //再戦トレーナーIDを退避

  //トレーナータイプ取得(シングル、ダブル、タッグ)
  _TRAINER_TYPE_GET SCWK_ANSWER
  _IFVAL_JUMP    SCWK_ANSWER,NE,SCR_EYE_TR_TYPE_DOUBLE,ev_trainer_revenge_common  //ダブルでない時

  //ダブルだったらチェックする！
  //ここで手持ちが2匹かチェックしないと、戦闘に進んでしまうのでダメ！
  _2VS2_BATTLE_CHECK  SCWK_ANSWER
  _IFVAL_JUMP      SCWK_ANSWER,EQ,0,ev_trainer_talk_battle_poke_one

  //再戦用の戦闘後会話はないので、再戦状態の時は必ず戦闘へ進む
  //すでに勝利しているトレーナーかチェックして、戦闘勝利後の会話へ
  //_IF_TR_FLAGON_JUMP  SCWK_TEMP0,ev_trainer_talk_after_normal

  //再戦トレーナーと戦闘
  _JUMP        ev_trainer_revenge_common
*/
EVENT_END

ev_trainer_revenge_common:
/*
  _TRAINER_BGM_SET  SCWK_TEMP0                    //視線曲セット
  _REVENGE_TRAINER_TALK_TYPE_GET  SCWK_PARAM0,SCWK_PARAM1,SCWK_PARAM2  //メッセージを取得
  _TRAINER_MSG_SET  SCWK_TEMP0,SCWK_PARAM0
  $SCWK_TEMP0 = $SCWK_TEMP3    //退避していた再戦トレーナーIDをセットする
  _JUMP   ev_trainer_common_11
*/
EVENT_END

//--------------------------------------------------------------------
//  敗北
//--------------------------------------------------------------------
ev_trainer_battle_lose:
/*
  _TRAINER_LOSE
  _TALK_OBJ_END
*/
EVENT_END

//--------------------------------------------------------------------
//  手持ちが1匹
//--------------------------------------------------------------------
ev_trainer_talk_battle_poke_one:
/*
  //会話トレーナーID取得
  _TRAINER_ID_GET    SCWK_TEMP0


  //メッセージを取得
  _TRAINER_TALK_TYPE_GET  SCWK_PARAM0,SCWK_PARAM1,SCWK_PARAM2
  _TRAINER_MSG_SET  SCWK_TEMP0,SCWK_PARAM2
  _AB_KEYWAIT()
  _BALLOONWIN_CLOSE()
  _TALK_OBJ_END
*/
EVENT_END

//--------------------------------------------------------------------
//かくれみのアニメ
//--------------------------------------------------------------------
ev_trainer_talk_battle_hide_pulloff:
/*
  _OBJ_ANIME      SCWK_TARGET_OBJID,anm_trainer_talk_battle_hide_pulloff
  _OBJ_ANIME_WAIT()

  //動作コードを書き換えないと、再度、土の中から出てくるアニメが入ってしまう！
  _PLAYER_DIR_GET    SCWK_PARAM0
  _IFVAL_CALL      SCWK_PARAM0,EQ,DIR_UP,ev_trainer_talk_battle_hide_pulloff_dir_up
  _IFVAL_CALL      SCWK_PARAM0,EQ,DIR_DOWN,ev_trainer_talk_battle_hide_pulloff_dir_down
  _IFVAL_CALL      SCWK_PARAM0,EQ,DIR_LEFT,ev_trainer_talk_battle_hide_pulloff_dir_left
  _IFVAL_CALL      SCWK_PARAM0,EQ,DIR_RIGHT,ev_trainer_talk_battle_hide_pulloff_dir_right
  _RET

ev_trainer_talk_battle_hide_pulloff_dir_up:
  _MOVE_CODE_CHANGE  SCWK_TARGET_OBJID,MV_DOWN
  _RET

ev_trainer_talk_battle_hide_pulloff_dir_down:
  _MOVE_CODE_CHANGE  SCWK_TARGET_OBJID,MV_UP
  _RET

ev_trainer_talk_battle_hide_pulloff_dir_left:
  _MOVE_CODE_CHANGE  SCWK_TARGET_OBJID,MV_RIGHT
  _RET

ev_trainer_talk_battle_hide_pulloff_dir_right:
  _MOVE_CODE_CHANGE  SCWK_TARGET_OBJID,MV_LEFT
*/
  _RET

_ANIME_LABEL  anm_trainer_talk_battle_hide_pulloff
  _ANIME_DATA  AC_HIDE_PULLOFF,1
  _ANIME_DATA  ACMD_END,0


//******************************************************************
//          視線からのトレーナー戦闘            
//
//  SCWK_TEMP0  トレーナーID_0
//  SCWK_TEMP1  トレーナーID_1
//******************************************************************
EVENT_START   ev_trainer_move_battle
  
  //視線移動スクリプトコマンドの中で
  //対象のOBJの動作ポーズを解除するようにしている！
  //_PROGRAM      TR_BGM_SET
  
  //トレーナータイプ取得(シングル、ダブル、タッグ)
  _EYE_TRAINER_TYPE_GET( SCWK_ANSWER )
  _IFVAL_JUMP    SCWK_ANSWER,EQ,SCR_EYE_TR_TYPE_SINGLE,ev_trainer_type_single
  _IFVAL_JUMP    SCWK_ANSWER,EQ,SCR_EYE_TR_TYPE_DOUBLE,ev_trainer_type_double
  _IFVAL_JUMP    SCWK_ANSWER,EQ,SCR_EYE_TR_TYPE_TAG,ev_trainer_type_tag
EVENT_END

//--------------------------------------------------------------------
//シングル
//--------------------------------------------------------------------
ev_trainer_type_single:
  //視線曲セット
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_BGM_SET(  SCWK_TEMP0 )

  _EYE_TRAINER_MOVE_SET  SCR_EYE_TR_0        //トレーナー移動処理呼び出し
  _CALL ev_trainer_type_single_move_end_check

  //移動終了後、会話へ
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_MSG_SET(  SCWK_TEMP0,TRMSG_FIGHT_START )
#if 0
//_AB_KEYWAIT()
#else
  _AB_KEYWAIT() //wb kari
#endif
  _BALLOONWIN_CLOSE()
  
  _TRAINER_BTL_SET(  SCWK_TEMP0,0 )
  _TRAINER_LOSE_CHECK(  SCWK_ANSWER )
  IF $SCWK_ANSWER == SCR_BATTLE_WIN THEN
    //_TRAINER_WIN()
  ELSE
    _TRAINER_LOSE()
  ENDIF
  //_IFVAL_JUMP SCWK_ANSWER,EQ,0,ev_trainer_battle_lose

  //トレーナーフラグセット
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_FLAG_SET(  SCWK_TEMP0 )

EVENT_END

//移動終了待ち
ev_trainer_type_single_move_end_check:
  _EYE_TRAINER_MOVE_SINGLE SCR_EYE_TR_0
  _RET

//--------------------------------------------------------------------
//ダブル
//--------------------------------------------------------------------
ev_trainer_type_double:
/*
  //視線曲セット
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_BGM_SET  SCWK_TEMP0

  _EYE_TRAINER_MOVE_SET  SCR_EYE_TR_0        //トレーナー移動処理呼び出し
  _EYE_TRAINER_MOVE_SET  SCR_EYE_TR_1        //トレーナー移動処理呼び出し
  _CALL        ev_trainer_type_double_move_end_check

  //移動終了後、会話へ
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_MSG_SET  SCWK_TEMP0,TRMSG_FIGHT_START_1
  //_AB_KEYWAIT()
  _BALLOONWIN_CLOSE()

  //移動終了後、会話へ
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_1,SCWK_ANSWER
  $SCWK_TEMP1 = $SCWK_ANSWER
  _TRAINER_MSG_SET  SCWK_TEMP1,TRMSG_FIGHT_START_2
  //_AB_KEYWAIT()
  _BALLOONWIN_CLOSE()

  _TRAINER_BTL_SET  SCWK_TEMP0,SCWK_TEMP1
  _TRAINER_LOSE_CHECK SCWK_ANSWER
  IF $SCWK_ANSWER == SCR_BATTLE_WIN THEN
    //_TRAINER_WIN()
  ELSE
    _TRAINER_LOSE()
  ENDIF
  //_IFVAL_JUMP      SCWK_ANSWER,EQ,0,ev_trainer_battle_lose

  //トレーナーフラグセット
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_FLAG_SET  SCWK_TEMP0

  _EYE_TRAINER_ID_GET  SCR_EYE_TR_1,SCWK_ANSWER
  $SCWK_TEMP1 = $SCWK_ANSWER
  _TRAINER_FLAG_SET  SCWK_TEMP1

*/
EVENT_END

//移動終了待ち
ev_trainer_type_double_move_end_check:
/*
  _EYE_TRAINER_MOVE_CHECK  SCR_EYE_TR_0,SCWK_ANSWER
  _IFVAL_JUMP    SCWK_ANSWER,EQ,0,ev_trainer_type_double_move_end_check  //終了するまでループ
  _EYE_TRAINER_MOVE_CHECK  SCR_EYE_TR_1,SCWK_ANSWER
  _IFVAL_JUMP    SCWK_ANSWER,EQ,0,ev_trainer_type_double_move_end_check  //終了するまでループ
*/
  _RET

//--------------------------------------------------------------------
//タッグ
//--------------------------------------------------------------------
ev_trainer_type_tag:
/*
  //視線曲セット
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_BGM_SET  SCWK_TEMP0

  _EYE_TRAINER_MOVE_SET  SCR_EYE_TR_0        //トレーナー移動処理呼び出し
  _CALL        ev_trainer_type_tag_move_end_check_0

  //移動終了後、会話へ
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  //_TRAINER_MSG_SET  SCWK_TEMP0,TRMSG_FIGHT_START_1
  _TRAINER_MSG_SET  SCWK_TEMP0,TRMSG_FIGHT_START
  //_AB_KEYWAIT()
  _BALLOONWIN_CLOSE()

  //視線曲セット
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_1,SCWK_ANSWER
  $SCWK_TEMP1 = $SCWK_ANSWER
  _TRAINER_BGM_SET  SCWK_TEMP1

  _EYE_TRAINER_MOVE_SET  SCR_EYE_TR_1        //トレーナー移動処理呼び出し
  _CALL        ev_trainer_type_tag_move_end_check_1

  //移動終了後、会話へ
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_1,SCWK_ANSWER
  $SCWK_TEMP1 = $SCWK_ANSWER
  //_TRAINER_MSG_SET  SCWK_TEMP1,TRMSG_FIGHT_START_2
  _TRAINER_MSG_SET  SCWK_TEMP1,TRMSG_FIGHT_START
  //_AB_KEYWAIT()
  _BALLOONWIN_CLOSE()

  _TRAINER_BTL_SET  SCWK_TEMP0,SCWK_TEMP1
  _TRAINER_LOSE_CHECK SCWK_ANSWER
  IF $SCWK_ANSWER == SCR_BATTLE_WIN THEN
    //_TRAINER_WIN()
  ELSE
    _TRAINER_LOSE()
  ENDIF
  //_IFVAL_JUMP      SCWK_ANSWER,EQ,0,ev_trainer_battle_lose

  //トレーナーフラグセット
  _EYE_TRAINER_ID_GET  SCR_EYE_TR_0,SCWK_ANSWER
  $SCWK_TEMP0 = $SCWK_ANSWER
  _TRAINER_FLAG_SET  SCWK_TEMP0

  _EYE_TRAINER_ID_GET  SCR_EYE_TR_1,SCWK_ANSWER
  $SCWK_TEMP1 = $SCWK_ANSWER
  _TRAINER_FLAG_SET  SCWK_TEMP1

*/
EVENT_END

//移動終了待ち
ev_trainer_type_tag_move_end_check_0:
/*
  _EYE_TRAINER_MOVE_CHECK  SCR_EYE_TR_0,SCWK_ANSWER
  _IFVAL_JUMP    SCWK_ANSWER,EQ,0,ev_trainer_type_tag_move_end_check_0  //終了するまでループ
*/
  _RET

//移動終了待ち
ev_trainer_type_tag_move_end_check_1:
/*
  _EYE_TRAINER_MOVE_CHECK  SCR_EYE_TR_1,SCWK_ANSWER
  _IFVAL_JUMP    SCWK_ANSWER,EQ,0,ev_trainer_type_tag_move_end_check_1  //終了するまでループ
*/
  _RET
