■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
■                                                                          ■
■  dpwadmin_manual.txt                                                     ■
■                                                                          ■
■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

【 はじめに 】

本プログラムは、DPWライブラリの管理をWindows上で行うためのプログラムです。

【 動作環境 】

本プログラムの実行には、.NET Framework2.0以上がインストールされている必要
があります。インストールされていない場合は、Windows Updateなどからインス
トールしてください。
また、サーバーと通信を行うため、使用するコンピューターがインターネットへ
アクセスできる必要があります。

【 使い方 】

本プログラムを起動するためには、DpwAdmin.exeを実行します。
本プログラムのメインフォームは、タブによって三つに分かれています。

◆「NGネーム」タブ

このタブでは、NGネームに関する設定を行うことができます。

NGネーム及び置換ネームは、10文字以下でポケモンコードに変換可能な文字を使
用してください。これはアップロードの際にチェックされます。

◇NGネームリストのアップロード

ここでは、NGネームリストをサーバーへアップロードすることができます。
NGネームとはプレイヤー名、ポケモンのニックネーム、ポケモンの親名、メール
の差し出し人名で禁止する単語です。NGネームに合致した場合は後述する置換ネ
ームへサーバーが置換します。

コンボボックスにパスを直接記入するか、横の参照ボタンで、NGネームのリスト
ファイルを指定します。

NGネームのリストは、UTF-16LE形式で、NGネームが一行ごとに列挙されたテキス
トファイルとしてください。NGネームの個数に限りはありません。

指定後、アップロードボタンをクリックすることで、サーバーへリストが反映さ
れます。

◇NGネームリストのダウンロード

現在サーバーで使用しているNGネームリストをダウンロードしてファイルに保存
します。保存される文字コードはUTF-16LEです。

◇置換ネームリストのアップロード

ここでは、置換ネームリストをサーバーへアップロードすることができます。
置換ネームとは、プレイヤー名、ポケモンの親名、メールの差し出し人名にNGネ
ームが含まれる際に、サーバー側で置換した後の名前のことです。
ポケモンのニックネームにNGネームが含まれた場合はポケモンのデフォルト名に
置換されます。
置換ネームはユーザーのROMに対応した言語の中からランダムで選ばれます。

各行にタブ区切りで日本語、英語、フランス語、イタリア語、ドイツ語、スペイ
ン語、韓国語の順に記述してください。各行には必ず全ての言語が記述されてい
る必要があります。
コンボボックスにパスを直接記入するか、横の参照ボタンで、NGネームのリスト
ファイルを指定します。

NGネームのリストは、UTF-16LE形式で、置換ネームが一行ごとに列挙されたテキ
ストファイルとしてください。置換ネームは最大20個(20行)です。

指定後、アップロードボタンをクリックすることで、サーバーへリストが反映さ
れます。

◇置換ネームリストのダウンロード

現在サーバーで使用している置換ネームリストをダウンロードしてファイルに保
存します。保存される文字コードはUTF-16LEです。

◆「バトルタワー」タブ

このタブでは、バトルタワーに関する設定を行うことができます。
タブの切り替え時に通信が発生しますが、これは現在の部屋数及び利用者数を取
得しているためです。
また、このツールで行った変更は、サーバー側で初期化、またはデータ更新を
行わないと、DSで取得するデータには反映されません。データ更新は一日に一
回自動的に行われます。緊急時以外はこのツールでデータ更新を行う必要はあ
りません。

◇ランク及びルームのツリー

左のツリーは、10のランクとそれぞれのランクに属する部屋を示しています。
ランクの横にある＋マークをクリックすると、ランクに属するルームが展開
されます。ルームを選択すると右にそのルームのプレイヤーデータと歴代リーダ
ーデータが表示されます。アンダーラインが引かれている部屋が、現在有効とな
っています。

ランクには

ランク1 :10 (0/0)

という文字が表示されていますが、:の後の数字はそのランクの部屋数を、括弧の
中の数値は、左がその日のダウンロード数を、右がトータルのダウンロード数を
示しています。

ルーム1 (0/0)

という表示の括弧の中の数値は、ランクと同様に、左がその日のダウンロード数
を、右がトータルのダウンロード数を示しています。

◇ルーム数の変更

ツリーの中から一つのランクを選び、数字を指定して変更ボタンをクリックする
と、変更がサーバーへ反映されます。

◇ルームデータの取得

ツリーの中から一つのルームを選び、「ダウンロード」ボタンを押すと、ルーム
データをサーバーから取得し、ファイルに保存することができます。
ルームデータは、７つのプレイヤーデータ（Dpw_Bt_Player）と30のリーダーデー
タ（Dpw_Bt_Player）が順に連結された形式になっています。

◇ルームデータの変更

コンボボックスにパスを直接記入するか、横の参照ボタンで、ルームデータが格
納されたファイルを指定します。
その後、ツリーの中からデータを変更したいルームを選択し、「アップロード」
ボタンを押すことで、ファイルの内容がサーバーへ反映されます。
ファイルの形式は、「ルームデータの取得」で取得できるデータと同じです。
各ランクに対応した初期ルームデータはbtinitdataフォルダに入っています。

◇ランク内全てのルームデータの変更

コンボボックスにパスを直接記入するか、横の参照ボタンで、ルームデータが格
納されたファイルを指定します。
その後、ツリーの中からデータを変更したいランクを選択し、「アップロード」
ボタンを押すことで、ファイルの内容がサーバーへ反映されます。
ファイルの形式は、「ルームデータの取得」で取得できるデータと同じです。
各ランクに対応した初期ルームデータはbtinitdataフォルダに入っています。

◇プレイヤーデータ及びリーダーデータ

左のツリーでルームを選択すると、サーバーと通信を行い、ルームデータの内容
をリストに表示します。今のところ、名前以外は数値をそのまま表示しています。

◆状態変更

このタブではサーバーの状態を変更できます。基本的にこの機能を使用する必要
はありません。世界通信交換の初期化につきましてはGameSpyへ初期化をお願いす
る必要があるため、万一の場合は弊社にお知らせいただきますようお願いいたし
ます。

◇バトルタワー

・データ更新
　通常1日1回自動で行う、リーダーの選出、プレイヤーデータの入れ替え、変更
　したデータの反映(ルーム数やプレイヤーデータとリーダーデータの変更)を強
　制的に行います。

◇共通:サーバーの状態
グレーアウトしており状態の変更はできませんが、現在のサーバーの状態を見る
ことができます。各状態の意味は下記の通りです。

・通常
　通常稼働します。

・タイムアウト
　ユーザーがアクセスするとサーバーがタイムアウトしたように見えます。ユー
　ザーがサーバーにアクセスできなくなります。

・一時停止
　一時的にサービスを停止します。ユーザーがサーバーにアクセスできなくなり
　ます。

・容量オーバー
　ポケモンを預けたりデータをアップロードできなくなります。引き取ったりダ
　ウンロードしたりすることはできます。

◆メールフォーマット設定タブ

　メールの種類と言語を指定して、送信されるメールのサブジェクトと本文を設定でき
ます。送信される文字コードは自動的に選択されるので変更する必要はありません。
サーバにはメールの種類と言語ごとにメールフォーマットが保存されます。

　メールフォーマット登録時にサブジェクト及び本文に下記のマクロが使用できます。
・$(MAIL_AUTH_PASSWORD) xxx-yyyy形式のメールアドレス認証パスワード。ただし、xxx
　　　　　　　　　　　　はクライアントが指定したmailAddrAuthVerification、yyyy
　　　　　　　　　　　　はサーバで生成したパスワード

　メールフォーマットを指定するときは使用する文字に注意してください。受信者の文
字コードがAsciiだった場合、日本語の文字が含まれていると文字コードの変換に失敗し
ます。

クリアボタンを押すとテキストボックスに入力されている文章がクリアされます。
サーバ上のテキストは削除されません。

- サンプル
　下記は認証メールのサンプルです。
【サブジェクト】
ポケモンプラチナ認証
【本文】
認証パスワードは
$(MAIL_AUTH_PASSWORD)
です。


◆メニュー

◇ファイル

「終了」を選択すると、プログラムを終了します。

◇設定

このバージョンでは「接続サーバー」で接続できるサーバーはGameSpyデバッグサ
ーバーのみです。

◇ヘルプ

「バージョン情報」でバージョンを参照することができます。


【 更新内容 】 

ver 1.05 for syachi2 (Jan. 28, 2010)
  −共通−
    ・アクセス先サーバをsyachi2ds用サーバに変更しました。
 ver 1.03 (Oct. 12, 2007)
  −メールフォーマット設定−
    ・メール機能に対応しました。
 ver 1.02 (Oct. 5, 2007)
  −バトルタワー−
    ・韓国語に対応しました。
 ver 1.01 (Feb. 7, 2007)
  −バトルタワー−
    ・一部の国名が表示できないバグを修正しました。
 ver 1.00 (Sept. 27, 2006)
  −NGネーム−
    ・現在のNGネームと置換ネームをダウンロードする機能を追加しました。
  −バトルタワー−
    ・ルーム情報リストをできる限り文字列で表示するように修正しました。
 ver 0.05 (Sept. 15, 2006)
  −NGネーム−
    ・NGネームリストと置換ネームリストのダウンロードを追加しました。
  −バトルタワー−
    ・ランクごとのデータの変更に対応しました。

 ver 0.04 (July. 19, 2006)
  −共通−
    ・ポケモンコードとユニコードの変換が正しくなかったのを修正しました。
  −バトルタワー−
    ・NGネームフラグの表示に対応しました。

 ver 0.03 (July. 5, 2006)
  −共通−
    ・接続するサーバーを選択できるようにしました。
  −バトルタワー−
    ・バトルタワーのルーム数の最大値が100になった変更に対応しました。

 ver 0.02 (May. 15, 2006)
  −NGネーム−
    ・置換ネームリストのアップロードを追加しました。
  −バトルタワー−
    ・利用者数の表示機能を追加しました。
    ・ルームデータの取得機能を追加しました。
    ・ルームデータの変更機能を追加しました。
    ・部屋のデータを表示する機能を追加しました。

 ver 0.01 (April. 27, 2006)
    ・新規追加しました。
