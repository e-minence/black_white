■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
■                                                                          ■
■  ニンテンドーゾーン シミュレーター(Nintendo Zone Simulator) 2.0          ■
■                                                                          ■
■  July 9, 2009                                                            ■
■                                                                          ■
■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

1. はじめに
==============================================================================

本プログラムは、アプリケーションが、ニンテンドーゾーン(※)でのインターネット
接続時に不具合を起こさないかどうかを、開発者がテストするためのものです。

ニンテンドーゾーンの検出は、NITRO-DWC 3.1 以降及び TWL-DWC で対応しています。
ライブラリは、インターネット接続処理の中でユーザーが設定している接続先設定の
アクセスポイントに接続できなかった場合にニンテンドーゾーンの検知処理を行い、
見つかった場合は、ニンテンドーゾーンに用意された無線アクセスポイントからイン
ターネットに接続します。

ニンテンドーゾーンの検知は、無線アクセスポイントとは異なる方法で行われるため、
実際に接続を行うことで不具合が起こらないかどうかを本プログラムを使ってテスト
してください。

また、本プログラムはニンテンドーゾーンの存在を示す信号を発信するだけのもので、
インターネットに接続できる無線アクセスポイントを別途準備する必要があります。


※「ニンテンドーゾーン」について
「ニンテンドーゾーン」のエリア内では、無線アクセスポイントの接続設定をせずに、
自動でインターネットに接続できます。接続後は、ニンテンドーDS向けのオリジナルコンテンツ
や体験版のダウンロード、ニンテンドーWi-Fiコネクションを楽しむことができます。


2. 注意事項
==============================================================================

NITRO-DWC 3.1 正式版 〜 plus3 までと、TWL-DWC 4.0 pr1 〜 5.0 rc1 では、
ニンテンドーゾーンを検知した際の割り込み処理の中で、IRQスタックから 1 Kbyte
程度のワークメモリを確保します。このため、IRQスタックサイズが小さい場合、アプ
リケーションが暴走する危険性があります。

NITRO-DWC 3.1 plus4 及び TWL-DWC 5.0 正式版 以降では、このワークメモリを
アプリケーションが DWC に指定したアロケータを使って確保するように修正されてい
ます。


3. テスト方法
==============================================================================

■必要なもの
・インターネットに接続された無線アクセスポイント
・本プログラム(NZSimulator.srl)を実行するDS本体、または無線機能付のデバッガ
・テストするアプリケーションを実行するDS本体、まはた無線機能付のデバッガ

■準備
・本プログラムを実行する本体で、用意したアクセスポイントに接続するための設定
  を「接続先1」に行ってください。
  設定には、Wi-Fiコネクション設定(NITRO-DWCに含まれます)やDSi本体の本体設定等
  を使用します。
  AOSSを使って設定した場合、アクセスポイントに接続できない場合がありますので
  ご注意ください。

・テストするアプリケーションを実行する本体のアクセスポイントへの接続設定を
  全て削除します。該当するアクセスポイントが接続可能でなければ、削除する必要
  はありません。

■テスト
・本プログラムを用意した本体で実行してください。
  起動するとニンテンドーゾーンの存在を示す信号を発信します。
  SELECTボタンを押すと使用する無線のチャンネルを変更できます。

・アプリケーションのインターネット接続機能をテストしてください。
  インターネット接続処理で、用意したテスト用の Nintendo Zone を検知して、
  用意したアクセスポイントからインターネットに接続します。


4. 更新履歴
==============================================================================

2009-07-09 : 2.0 : readme.txt のみ改定(ニンテンドーゾーンのサービスインに対応)
2008-10-31 : 2.0 : 使用するアクセスポイントの設定を変更できるようになりました。
2008-10-30 : 1.0 : readme.txt のみ改定(TWL-DWCの説明を追加)
2008-10-28 : 1.0 : 初版リリース


