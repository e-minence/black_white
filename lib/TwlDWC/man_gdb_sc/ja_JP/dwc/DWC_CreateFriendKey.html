<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META http-equiv="Content-Style-Type" content="text/css">
<title>DWC_CreateFriendKey</title>
<LINK rel="stylesheet" href="../css/nitro.css" type="text/css">
</head>

<body>
<h1 id="dwc__account_8h_1643a6e9b0ada98985feebc003af5cac3" align="left">DWC_CreateFriendKey</h1>
<h2>構文</h2>

<dl>
  <dd>
  <PRE><CODE>#include &lt;dwc.h&gt;</CODE></PRE>
  <PRE><CODE>u64 DWC_CreateFriendKey(const DWCUserData *userdata);</CODE></PRE></dd> 
</dl>

<h2>引数</h2>

<TABLE border="1" width="100%">
  <TBODY>

    <TR>
      <TD width="13%"><EM><STRONG>userdata</STRONG></EM></TD>
      <TD width="87%">ユーザデータが格納されたDWCUserData構造体へのポインタ</TD>
    </TR>

  </TBODY>
</TABLE>

<h2>返り値</h2>

<TABLE border="1" width="100%">
  <TBODY>

    <TR>
      <TD width="13%"><EM><STRONG>正の値</STRONG></EM></TD>
      <TD width="87%">友達登録鍵</TD>
    </TR>

    <TR>
      <TD width="13%"><EM><STRONG>0</STRONG></EM></TD>
      <TD width="87%">プロファイルを取得していないため、失敗しました。</TD>
    </TR>

  </TBODY>
</TABLE>

<H2>説明</H2>

<p>ユーザデータから、相手に渡す友達登録鍵を生成します。この関数で取得した友達登録鍵を10進12桁の数値として表示してください。</p><p>友達登録では、ユーザが入力した友達登録鍵を<a href="DWC_CheckFriendKey.html#dwc__account_8h_15d6cddf8fc5964570ae6de624fda280c">DWC_CheckFriendKey</a>関数で正当性を確認した後、<a href="DWC_CreateFriendKeyToken.html#dwc__account_8h_1ee6428c09226af4095fa326f10097347">DWC_CreateFriendKeyToken</a>関数を用いて友達情報を作成し、作成した友達情報を友達リストに追加してください。</p><p>また、ユーザが入力した友達登録鍵が間違っていることも想定して、友達関係が成立するまでは、友達登録鍵を再度入力できるインタフェースを準備してください。</p><p>一度もWi-Fiコネクションに接続していない場合は、友達登録鍵を生成できませんので、接続してから生成するようなインタフェースを準備するか、その旨のメッセージを表示してください。</p><p><b>注意:<a href="DWC_CreateFriendKey.html#dwc__account_8h_1643a6e9b0ada98985feebc003af5cac3">DWC_CreateFriendKey</a>関数は、NITRO-DWC3.0から友達登録鍵の正当性確認に使用されるチェック値の生成方法が変更されたため過去のバージョンのNITRO-DWCで生成した友達登録鍵と互換性がありません。特別な理由で過去の友達登録鍵を扱う必要がある場合は、<a href="DWC_CreateFriendKeyLegacy.html#dwc__account_8h_1daacffcbbb3a2371dabd1bd4b1a1a84a">DWC_CreateFriendKeyLegacy</a>関数と<a href="DWC_CheckFriendKeyLegacy.html#dwc__account_8h_1d768ea90966de9be2d05250d94b4e201">DWC_CheckFriendKeyLegacy</a>関数をご使用ください。</b></p>


<h2>参照</h2>
<p>

  <CODE><a href="DWC_CreateFriendKeyToken.html#dwc__account_8h_1ee6428c09226af4095fa326f10097347">DWC_CreateFriendKeyToken</a></CODE>

  <CODE><a href="DWC_CheckFriendKey.html#dwc__account_8h_15d6cddf8fc5964570ae6de624fda280c">DWC_CheckFriendKey</a></CODE>

  <CODE><a href="DWC_CreateFriendKeyLegacy.html#dwc__account_8h_1daacffcbbb3a2371dabd1bd4b1a1a84a">DWC_CreateFriendKeyLegacy</a></CODE>

</p>

<H2>履歴</H2>
<DL>

</DL>
<p style="margin-top:1em; text-align:right;">5.1pr2より前の変更履歴は<a href="../_TWL_CHANGELOG_.html#DWC_CreateFriendKey_tag">こちら</a>　　</p>
</body>
</html>
