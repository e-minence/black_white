<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META http-equiv="Content-Style-Type" content="text/css">
<title>DWC_CreateExchangeToken</title>
<LINK rel="stylesheet" href="../css/nitro.css" type="text/css">
</head>

<body>
<h1 id="dwc__account_8h_1c2e7cfd93ddb4b6625b962647a3a7878" align="left">DWC_CreateExchangeToken</h1>
<h2>構文</h2>

<dl>
  <dd>
  <PRE><CODE>#include &lt;dwc.h&gt;</CODE></PRE>
  <PRE><CODE>void DWC_CreateExchangeToken(const DWCUserData *userdata,
                             DWCFriendData *token);</CODE></PRE></dd> 
</dl>

<h2>引数</h2>

<TABLE border="1" width="100%">
  <TBODY>

    <TR>
      <TD width="13%"><EM><STRONG>userdata</STRONG></EM></TD>
      <TD width="87%">ユーザデータが格納されたDWCUserData構造体へのポインタ</TD>
    </TR>

    <TR>
      <TD width="13%"><EM><STRONG>token</STRONG></EM></TD>
      <TD width="87%">DSワイヤレス通信で送信するための友達情報を格納するバッファへのポインタ</TD>
    </TR>

  </TBODY>
</TABLE>

<h2>返り値</h2>

<p>なし</p>

<H2>説明</H2>

<p>userdataで指定された自分のユーザデータから、DSワイヤレス通信で交換するための友達情報を作成します。この関数で作成されたtokenをDSワイヤレス通信で送信し、tokenを受信した側はこれを友達情報として友達リストに登録します。</p><p><a href="DWC_CreateUserData.html#dwc__account_8h_193ca7d1d0b074e009d67cc3e9d9f7034">DWC_CreateUserData</a>関数で異なるgamecodeを指定したタイトル間で交換した友達情報は、<a href="DWC_InitFriendsMatch.html#dwc__main_8h_1de4fba18d5d03cbccd0c86efe9e80c1c">DWC_InitFriendsMatch</a>関数で同じgameName等の引数を指定していても友達関係が成立しないことに注意してください。<br>異なるgamecodeを指定したタイトル間でDSワイヤレス通信を使って友達情報を交換する場合（または、その可能性がある場合）、<a href="DWC_CreateUserData.html#dwc__account_8h_193ca7d1d0b074e009d67cc3e9d9f7034">DWC_CreateUserData</a>関数に指定したgamecodeが同じであることをアプリケーション側で確認してから友達リストに追加することを推奨します。</p><p>友達情報を友達リストに登録するときは、なるべく重複データを登録しないようにするために、友達リスト中の全友達情報に対して<a href="DWC_IsEqualFriendData.html#dwc__account_8h_1768b88de3bf4c1ee4bfc4d500d215c4e">DWC_IsEqualFriendData</a>関数で同じものでないことを確認した後、<a href="DWC_IsValidFriendData.html#dwc__account_8h_167b6ce731a6cd08e89960eaea93d5722">DWC_IsValidFriendData</a>で有効なデータが入っていないところを探して、取得した友達情報を友達リストへ直接コピーしてください。</p><p>友達情報を友達リストから削除したいときは、<a href="DWC_DeleteBuddyFriendData.html#dwc__friend_8h_1bbaa44618fffb208b1934554e57c4fe1">DWC_DeleteBuddyFriendData</a>関数を呼び出して下さい。オフライン中であれば単純に友達情報が0でクリアされ、次回<a href="DWC_UpdateServersAsync.html#dwc__main_8h_185472e3beb4ea521c7614ea13c9b0671">DWC_UpdateServersAsync</a>関数呼び出し時にGameSpyサーバ上の友達関係も削除されます。オンライン中であれば、友達情報が0でクリアされ、即座にGameSpyサーバ上の友達関係も削除されます。</p><p>友達リストは、GameSpyサーバからのリクエストにより、オンライン中に自動的に変更される場合があります。そのため、オンライン中に友達リストを編集する場合は、<a href="DWC_CanChangeFriendList.html#dwc__friend_8h_13ae72eeb23c7419ae1f8f9b8ccd2970f">DWC_CanChangeFriendList</a>関数で、編集可能かどうかを確認してください。</p><p>オンライン中に友達リストを編集し、友達関係設立処理を行いたい場合は、<a href="DWC_UpdateServersAsync.html#dwc__main_8h_185472e3beb4ea521c7614ea13c9b0671">DWC_UpdateServersAsync</a>関数を呼び出してください。</p>


<h2>参照</h2>
<p>

  <CODE><a href="DWC_CreateFriendKeyToken.html#dwc__account_8h_1ee6428c09226af4095fa326f10097347">DWC_CreateFriendKeyToken</a></CODE>

  <CODE><a href="DWC_IsEqualFriendData.html#dwc__account_8h_1768b88de3bf4c1ee4bfc4d500d215c4e">DWC_IsEqualFriendData</a></CODE>

  <CODE><a href="DWC_IsValidFriendData.html#dwc__account_8h_167b6ce731a6cd08e89960eaea93d5722">DWC_IsValidFriendData</a></CODE>

  <CODE><a href="DWC_DeleteBuddyFriendData.html#dwc__friend_8h_1bbaa44618fffb208b1934554e57c4fe1">DWC_DeleteBuddyFriendData</a></CODE>

  <CODE><a href="DWC_CanChangeFriendList.html#dwc__friend_8h_13ae72eeb23c7419ae1f8f9b8ccd2970f">DWC_CanChangeFriendList</a></CODE>

  <CODE><a href="DWC_UpdateServersAsync.html#dwc__main_8h_185472e3beb4ea521c7614ea13c9b0671">DWC_UpdateServersAsync</a></CODE>

  <CODE><a href="DWC_CreateUserData.html#dwc__account_8h_193ca7d1d0b074e009d67cc3e9d9f7034">DWC_CreateUserData</a></CODE>

  <CODE><a href="DWC_InitFriendsMatch.html#dwc__main_8h_1de4fba18d5d03cbccd0c86efe9e80c1c">DWC_InitFriendsMatch</a></CODE>

</p>

<H2>履歴</H2>
<DL>

</DL>
<p style="margin-top:1em; text-align:right;">5.1pr2より前の変更履歴は<a href="../_TWL_CHANGELOG_.html#DWC_CreateExchangeToken_tag">こちら</a>　　</p>
</body>
</html>
