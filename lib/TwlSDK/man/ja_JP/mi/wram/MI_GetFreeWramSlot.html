<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>MI_GetFreeWramSlot</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">MI_GetFreeWramSlot* <IMG src="../../image/TWL.gif" align="middle"></h1>
<h2>構文</h2>

<dl>
  <dd>
<CODE>#include &lt;twl/mi.h&gt;</CODE><BR>
  <BR>
  <CODE>u8 MI_GetFreeWramSlot( <A href="../mi_constant.html">MIWramPos</A> wram );</CODE><br>
  <BR>
  <CODE>(define)</CODE><br>
  <CODE>#define MI_GetFreeWramSlot_A();</CODE><br>
  <CODE>#define MI_GetFreeWramSlot_B();</CODE><br>
  <CODE>#define MI_GetFreeWramSlot_C();</CODE><br>
  </dd>
</dl>
<h2>引数</h2>
<TABLE border="1">
  <TBODY>
    <TR>
      <TD><B><I>wram</I></B></TD>
      <TD>情報を取得するWRAM</TD>
    </TR>
  </TBODY>
</TABLE>
<h2>返り値</h2>
<p>指定のWRAMの中で、どのプロセッサにも予約されていなく、確保もされていないスロットの情報を返します。WRAM-A に対してはスロット0〜3、WRAM-B と WRAM-C に対してはスロット0〜7 の情報が返ります。</p>
<H2>説明</H2>
<P>指定のWRAMに対し、どのプロセッサにも予約されていなく、確保もされていないスロットの情報を取得します。</P>
<P>なお、一つのスロットについて割り当てられているかを調べる関数としては <CODE><A href="MI_IsWramSlotUsed.html">MI_IsWramSlotUsed()</A></CODE> が用意されています。</P>
<P><BR>
<B>返り値について</B></P>
<p>u8 値の下位ビットより順に スロット0, スロット1,... を表しており、ビットが1となっているスロットは予約も確保もされていないという意味です。</p>
<p>例えば、<CODE>MI_GetFreeWramSlot( MI_WRAM_B )</CODE> の返り値が<CODE> 0xC0</CODE> ( 2進数で 11000000 )だった場合、WRAM-B のスロット 0,1,2,3,4,5 は どこかのプロセッサに予約されているか、確保されていることを表し、スロット
6,7 はどこにも予約や確保されていないことを表します。</p>
<BLOCKQUOTE><IMG src="image_allocatable1.gif" width="226" height="163" border="0"></BLOCKQUOTE>
<P><BR>
<B>WRAM種類を関数名に含めた便利関数</B></P>
<P><CODE>MI_GetFreeWramSlot_A(...)</CODE> は <CODE>MI_GetFreeWramSlot( MI_WRAM_A, ... )</CODE> の <CODE>define</CODE> です。<BR>
<CODE>MI_GetFreeWramSlot_B(...)</CODE> は <CODE>MI_GetFreeWramSlot( MI_WRAM_B, ... )</CODE> の <CODE>define</CODE> です。<BR>
<CODE>MI_GetFreeWramSlot_C(...)</CODE> は <CODE>MI_GetFreeWramSlot( MI_WRAM_C, ... )</CODE> の <CODE>define</CODE> です。<BR>


<h2>内部動作</h2>
<p>ARM9が管理している WRAMマネージャが返り値を決定します。<BR>
ARM7からは PXI を通して ARM9 から値を取得します。</p>
<p>また、この関数は <CODE><A href="MI_GetAllocatableWramSlot.html">MI_GetAllocatableWramSlot()</A></CODE> のプロセッサ種類に <CODE>MI_WRAM_FREE</CODE> を指定することで実装されています。</p>
<h2>参照</h2>
<P><A href="about_Wram.html">概要(ワークRAM)</A>、<A href="../mi_constant.html">MI関連の定数</A><BR>
<CODE><A href="MI_GetAllocatableWramSlot.html">MI_GetAllocatableWramSlot</A>, <A href="MI_GetUsedWramSlot.html">MI_GetUsedWramSlot</A></CODE><BR>
<CODE><A href="MI_IsWramSlotUsed.html">MI_IsWramSlotUsed</A></CODE></P>

<H2>履歴</H2>
<P>2008/05/29 初版</P>
</body>
</html>
