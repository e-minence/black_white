<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<meta http-equiv="Content-Style-Type" content="text/css" text="text/css">
<title>photo 領域の使用に関して</title>
<link rel="stylesheet" href="../css/nitro.css">
</head>
<body>
<h1>photo 領域の使用に関して</h1>

<h2>はじめに</h2>
<p>
本ページでは、DSi メニューや DSi カメラで撮影された写真データを保存する
ための、photo 領域に関する情報についてまとめています。
</p>

<h2>photo 領域について</h2>
<p>
photo 領域は DSi メニューや DSi カメラで撮影された写真が保存されている本体 NAND 
メモリの領域で、DSi カメラを通じて photo 領域にある写真データを SD カードへ
書き出したり、SD カードから写真データを読み込んだりすることができます。<br>

アプリケーション開発者はこの photo 領域にアクセスするためのライブラリである
 TCL ライブラリを利用することで、DSi カメラ等で撮影された写真データをアプリ
ケーション内で利用したり、アプリケーションで撮影した写真データを photo 領域
に保存して DSi カメラのアルバム機能で見ることができるようになります。<br>

なお、TWL-SDK 5.1 より rsf ファイルを適切に設定しなければ photo 領域へアクセス
することはできなくなりました。また、TCL ライブラリを使わずに photo 領域に
アクセスすることも禁止されています。
</p>

<h2>photo 領域に保存できるデータについて</h2>
<p>
photo 領域に不正なデータを配置され、アプリケーションが乗っ取られること等を
防ぐため、photo 領域に保存する写真データには全て電子署名を付加することに
なっています。<br>

そのため、アプリケーションが photo 領域に写真データを保存する際にも必ず
電子署名を付加する必要があります。<br>

しかし、上記のことは次節で述べる rsf ファイルの設定を正しく行い、TCL ライブラリ
を使用すればアプリケーション開発者が特に気にする必要はありません。
</p>

<h2>rsf ファイルの設定について</h2>
<p>
TCL ライブラリを使用して photo 領域へアクセスする場合、<b>photo 領域について</b>で
述べた photo 領域へのアクセス権の設定と、<b>photo 領域に保存できるデータについて</b>で
述べた写真データへの署名付加を行うための署名鍵の設定を行う必要があります。<br>

具体的には、TWL-SDK 5.2 以降の環境では rsf ファイルの Property セクション
に下記の項目を追加します。<br>

<ul>
<li>アプリケーションが写真データの読み込み機能のみを持つ場合<br>
    PhotoAccess Read
<li>アプリケーションが写真データの書き込み、読み書き機能を持つ場合<br>
    PhotoAccess ReadWrite
</ul>
</p>

<h2>その他の注意点</h2>
<h5>PhotoChecker ツールに関して</h5>
<p>
photo 領域に不適切なデータが作成されていないかを確認するためのツールとして、
PhotoChecker ツールを用意しています。photo 領域を使用するアプリケーション開発時には、このツールを
利用することで不適切なデータがアプリケーションによって作成されていないか確認することができます。
</p>

<h5>DSiメニューの壁紙に表示される写真データについて</h5>
<p>
DSi メニューの壁紙に表示される写真は、DSi メニューで撮影された写真又は、
DSi カメラで撮影されかつお気に入り（スター）が付けられているものに限られます。
そのため、アプリケーションで保存した写真はDSiメニューの壁紙として表示させる
ことはできません。<br>

※ただし、一度 DSi カメラのアルバムから「あそぶ」を選び、編集せずに保存すれば
アプリケーションで保存した写真をそのまま DSi メニューの壁紙に表示させることは
可能です。
</p>

<H2>履歴</H2>
<P>
2009/04/13 初版
</p>

</body>
</html>
