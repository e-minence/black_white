<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.1.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>PM_SetBatteryLowCallback</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">PM_SetBatteryLowCallback <IMG src="../../image/TWL.gif" width="24" height="12" border="0" align="middle"></H1>
<H2>構文</H2>
<DL>
  <DD>
  <PRE><CODE>#include &lt;twl/spi.h&gt;</CODE></PRE>
  <PRE><CODE>void PM_SetBatteryLowCallback(
　　　　 PMBatteryLowCallback callback,
　　　　 void* arg );

typedef void (*PMGenCallback)(void*);
#define PMBatteryLowCallback PMGenCallback</CODE></PRE>
</DL>
<H2>引数</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
      <TD><B><I>callback</I></B></TD>
      <TD>コールバック関数</TD>
    </TR>
    <TR>
      <TD><B><I>arg</I></B></TD>
      <TD>コールバックの引数</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>返り値</H2>
<P>なし。</P>
<H2>説明</H2>
<P>電池残量の低下を検知した時に呼ばれるコールバック情報を設定します。</P>
<P>ARM7 が電池残量のの低下を検知し、それをARM9 に伝えコールバック関数 <B><I>callback</I></B> が呼ばれます。その際に <B><I>arg</I></B> が引数として設定されます。</P>
<P>設定するコールバックは割り込みハンドラから呼ばれますので、その中では必要な処理を行って速やかに抜けてください。</P>
<P>なお一旦コールバックが呼ばれた後で充電等で電池残量が回復しても、低下を検知すると再度コールバックが呼ばれます。</P>
<P><CODE><A href="PM_GetBatteryLevel.html">PM_GetBatteryLevel()</A></CODE> の「コールバックについて」 で説明するように、離散的に値が変化する場合があります。すなわちコールバックが呼ばれる条件が飛ばされる場合があることに注意してください。</P>
<H2>参照</H2>
<P><CODE><A href="PM_GetBattery.html">PM_GetBattery</A>, <A href="PM_GetBatteryLevel.html">PM_GetBatteryLevel</A>, <A href="PM_GetACAdapter.html">PM_GetACAdapter</A><BR>
</CODE></P>
<H2>履歴</H2>
<P>2008/02/07 初版</P>
</BODY>
</HTML>