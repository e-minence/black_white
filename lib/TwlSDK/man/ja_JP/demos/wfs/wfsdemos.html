<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS" />
<meta name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" type="text/css" href="../../css/nitro.css" />
<title>WFS Demos</title>
</head>
<body>

<h1>ワイヤレスファイルシステムライブラリ(WFS)サンプルデモ</h1>

<h2>コンパイル方法</h2>
<p>
各サンプルデモが収録されているディレクトリに移り、
</p>
<blockquote><code>% make</code></blockquote>
<p>と入力します。コンパイルが始まり、実行ファイルである <code>.srl</code> ファイルやバイナリ情報を記述した <code>.nef</code> または <code>.tef</code> ファイルが、</p>
<blockquote><code>$TwlSDK/(サンプルデモのディレクトリ)/bin/(プラットフォーム)/(ターゲット)/</code></blockquote>
<p>
の下に生成されます。例えば、
</p>
<blockquote><code>$TwlSDK/build/demos/mb/multiboot-wfs/bin/ARM9-TS/Release/main.srl</code></blockquote>
<p>が <code>multiboot-wfs</code> デモの実行ファイルとなります。</p>

<H2>実行方法</H2>
<H3>NITRO ROM の場合</H3>

<P>IS-NITRO-DEBUGGER を用いる場合</P>
<UL>
  <LI>IS-NITRO-DEBUGGER で <CODE>*.nlf</CODE> ファイルを読みこんで実行する。
  <LI>IS-NITRO-DEBUGGER で <CODE>*.srl</CODE> を実行する。
  <LI>コマンドラインから <CODE>loadrun.exe</CODE> で IS-NITRO-DEBUGGER で <CODE>*.srl</CODE> を実行する。
</UL>
<P>IS-TWL-DEBUGGER を用いる場合</P>
<UL>
  <LI>IS-TWL-DEBUGGER で <CODE>*.nlf</CODE> ファイルを読みこんで実行する。
  <LI>IS-TWL-DEBUGGER で <CODE>*.srl</CODE> を実行する。
  <LI>コマンドラインから <CODE>loadrun.TWL.exe</CODE> で IS-TWL-DEBUGGER で <CODE>*.srl</CODE> を実行する。
</UL>
<H3>TWL/NITRO HYBRID ROM の場合</H3>
<P>IS-NITRO-DEBUGGER を用いる場合</P>
<UL>
  <LI>IS-NITRO-DEBUGGER で <CODE>*.srl</CODE> を実行する。
  <LI>コマンドラインから <CODE>loadrun.exe</CODE> で IS-NITRO-DEBUGGER で <CODE>*.srl</CODE> を実行する。
</UL>
<P>IS-TWL-DEBUGGER を用いる場合</P>
<UL>
  <LI>IS-TWL-DEBUGGER で <CODE>*.tlf</CODE> ファイルを読みこんで実行する。
  <LI>IS-TWL-DEBUGGER で <CODE>*.srl</CODE> を実行する。
  <LI>コマンドラインから <CODE>loadrun.TWL.exe</CODE> で IS-TWL-DEBUGGER で <CODE>*.srl</CODE> を実行する。
</UL>
<H3>TWL LIMITED ROM の場合</H3>
<P>IS-TWL-DEBUGGER を用いる場合</P>
<UL>
  <LI>IS-TWL-DEBUGGER で <CODE>*.tlf</CODE> ファイルを読みこんで実行する。
  <LI>IS-TWL-DEBUGGER で <CODE>*.srl</CODE> を実行する。
  <LI>コマンドラインから <CODE>loadrun.TWL.exe</CODE> で IS-TWL-DEBUGGER で <CODE>*.srl</CODE> を実行する。
</UL>

<p style="color:Red">WFSライブラリの多くのサンプルデモはDSダウンロードプレイを使うため、
同じ通信環境(無線あるいは有線)どうしの開発機材を複数必要とします。<br />
<code>$TwlSDK/bin/ARM9-TS/Rom/mb_child_NITRO.srl, mb_child_TWL.srl</code>はニンテンドーDS本体のDSダウンロードプレイプログラムと同等の機能を提供するサンプルになっていますので、
このプログラムを他の機材に読み込み、一緒に実行してください。<br />
また、 IS-NITRO-DEBUGGER のオプション設定によってはこのプログラムを読み込んだ時に<br />
「ARM9プロセッサ側の転送先アドレスが異常です」<br />
という内容のダイアログが表示されますが、「いいえ」を選択して読み込んでください。</p>

<h2>説明</h2>
<table style="width:90%">
  <tbody>
    <TR>
      <TH>デモ名</TH>
      <TH>ディレクトリ</TH>
      <TH>動作</TH>
    </TR>
    <tr>
      <td><em><strong><code>$TwlSDK/build/demos/wireless_shared/wfs</code></strong></em></td>
      <TD><CODE>demos</CODE></TD>
      <td>WFSライブラリをMP通信にフックさせるための簡単な手順を示したサンプルコードです。<br />
      後述するいくつかのサンプルデモはこのコードを共通処理として参照しています。</td>
    </tr>

    <tr>
      <td><em><strong><code>$TwlSDK/build/demos/mb/multiboot-wfs</code></strong></em></td>
      <TD><CODE>demos</CODE></TD>
      <td>MBライブラリを使用してニンテンドーDS本体へプログラムをダウンロードし、
      さらにそのプログラムと再接続して子機プログラムへワイヤレスファイルシステムを提供するサンプルです。<br />
      <b>$TwlSDK/build/demos/wireless_shared/wc</b>のサンプルコードをMP通信のフレームワークとして使用しています。<br />
      <b>$TwlSDK/build/demos/wireless_shared/wfs</b>のサンプルコードをMP通信フック処理に使用しています。</td>
    </tr>

    <tr>
      <td><em><strong><code>$TwlSDK/build/demos/wm/wireless-all</code></strong></em></td>
      <TD><CODE>demos</CODE></TD>
      <td>DSワイヤレスプレイの総合的なサンプルです。<br />
      MBライブラリのクローンブート機能でDSダウンロードプレイを行い、
      配信した子機プログラムと再接続してデータシェアリング通信を行いつつワイヤレスファイルシステムを提供します。<br />
      <b>$TwlSDK/build/demos/wireless_shared/wh</b>のサンプルコードをMP通信のフレームワークとして使用しています。<br />
      <b>$TwlSDK/build/demos/wireless_shared/wfs</b>のサンプルコードをMP通信フック処理に使用しています。</td>
    </tr>

  </tbody>
</table>

<h2>動作</h2>
<p>
<code>WFS ライブラリのデモは、ensata では正常動作しません。</code>
</p>
<p>
<code>wireless-all は NTR モードでしか動作しません。</code>
</p>

<h2>参照</h2>
<p>
<A href="../../wfs/list_wfs.html"><code>WFS関数一覧</code></A>
</p>

<h2>履歴</h2>
<p>
2008/07/11 TWLに対応した記述に変更<BR>
2007/06/15 初版<br />
</p>
</body>
</html>